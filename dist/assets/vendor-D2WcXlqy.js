import{c as t,g as e}from"./react-vendor-C8-TlGsU.js";function r(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r}function n(t,e,r,n){return new(r||(r=Promise))(function(i,a){function s(t){try{u(n.next(t))}catch(e){a(e)}}function o(t){try{u(n.throw(t))}catch(e){a(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r(function(t){t(e)})).then(s,o)}u((n=n.apply(t,e||[])).next())})}"function"==typeof SuppressedError&&SuppressedError;var i=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown="CommitStateUnknownException"===e.icebergType||[500,502,504].includes(e.status)&&!0===e.icebergType?.includes("CommitState")}isNotFound(){return 404===this.status}isConflict(){return 409===this.status}isAuthenticationTimeout(){return 419===this.status}};function a(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:s,headers:o}){const u=function(t,e,r){const n=new URL(e,t);if(r)for(const[i,a]of Object.entries(r))void 0!==a&&n.searchParams.set(i,a);return n.toString()}(t.baseUrl,n,a),h=await async function(t){return t&&"none"!==t.type?"bearer"===t.type?{Authorization:`Bearer ${t.token}`}:"header"===t.type?{[t.name]:t.value}:"custom"===t.type?await t.getHeaders():{}:{}}(t.auth),l=await e(u,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...h,...o},body:s?JSON.stringify(s):void 0}),c=await l.text(),f=(l.headers.get("content-type")||"").includes("application/json"),d=f&&c?JSON.parse(c):c;if(!l.ok){const t=f?d:void 0,e=t?.error;throw new i(e?.message??`Request failed with status ${l.status}`,{status:l.status,icebergType:e?.type,icebergCode:e?.code,details:t})}return{status:l.status,headers:l.headers,data:d}}}}function s(t){return t.join("")}var o=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:s(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(t=>({namespace:t}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${s(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${s(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${s(t.namespace)}`}),!0}catch(e){if(e instanceof i&&404===e.status)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof i&&409===r.status)return;throw r}}};function u(t){return t.join("")}var h=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${u(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation);return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${u(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${u(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${u(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${u(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${u(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof i&&404===r.status)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof i&&409===r.status)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},l=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=a({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new o(this.client,e),this.tableOps=new h(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}var f=Uint8Array,d=Uint16Array,p=Int32Array,g=new f([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),m=new f([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),y=new f([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),v=function(t,e){for(var r=new d(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];var i=new p(r[30]);for(n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return{b:r,r:i}},b=v(g,2),x=b.b,w=b.r;x[28]=258,w[258]=28;for(var T=v(m,0).r,S=new d(32768),A=0;A<32768;++A){var E=(43690&A)>>1|(21845&A)<<1;E=(61680&(E=(52428&E)>>2|(13107&E)<<2))>>4|(3855&E)<<4,S[A]=((65280&E)>>8|(255&E)<<8)>>1}var _=function(t,e,r){for(var n=t.length,i=0,a=new d(e);i<n;++i)t[i]&&++a[t[i]-1];var s,o=new d(e);for(i=1;i<e;++i)o[i]=o[i-1]+a[i-1]<<1;if(r){s=new d(1<<e);var u=15-e;for(i=0;i<n;++i)if(t[i])for(var h=i<<4|t[i],l=e-t[i],c=o[t[i]-1]++<<l,f=c|(1<<l)-1;c<=f;++c)s[S[c]>>u]=h}else for(s=new d(n),i=0;i<n;++i)t[i]&&(s[i]=S[o[t[i]-1]++]>>15-t[i]);return s},O=new f(288);for(A=0;A<144;++A)O[A]=8;for(A=144;A<256;++A)O[A]=9;for(A=256;A<280;++A)O[A]=7;for(A=280;A<288;++A)O[A]=8;var C=new f(32);for(A=0;A<32;++A)C[A]=5;var k=_(O,9,0),N=_(C,5,0),P=function(t){return(t+7)/8|0},M=function(t,e,r){r<<=7&e;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},R=function(t,e,r){r<<=7&e;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},I=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,a=r.slice();if(!i)return{t:z,l:0};if(1==i){var s=new f(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(t,e){return t.f-e.f}),r.push({s:-1,f:25001});var o=r[0],u=r[1],h=0,l=1,c=2;for(r[0]={s:-1,f:o.f+u.f,l:o,r:u};l!=i-1;)o=r[r[h].f<r[c].f?h++:c++],u=r[h!=l&&r[h].f<r[c].f?h++:c++],r[l++]={s:-1,f:o.f+u.f,l:o,r:u};var p=a[0].s;for(n=1;n<i;++n)a[n].s>p&&(p=a[n].s);var g=new d(p+1),m=D(r[l-1],g,0);if(m>e){n=0;var y=0,v=m-e,b=1<<v;for(a.sort(function(t,e){return g[e.s]-g[t.s]||t.f-e.f});n<i;++n){var x=a[n].s;if(!(g[x]>e))break;y+=b-(1<<m-g[x]),g[x]=e}for(y>>=v;y>0;){var w=a[n].s;g[w]<e?y-=1<<e-g[w]++-1:++n}for(;n>=0&&y;--n){var T=a[n].s;g[T]==e&&(--g[T],++y)}m=e}return{t:new f(g),l:m}},D=function(t,e,r){return-1==t.s?Math.max(D(t.l,e,r+1),D(t.r,e,r+1)):e[t.s]=r},L=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new d(++e),n=0,i=t[0],a=1,s=function(t){r[n++]=t},o=1;o<=e;++o)if(t[o]==i&&o!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=t[o]}return{c:r.subarray(0,n),n:e}},U=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},V=function(t,e,r){var n=r.length,i=P(e+2);t[i]=255&n,t[i+1]=n>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<n;++a)t[i+a+4]=r[a];return 8*(i+4+n)},B=function(t,e,r,n,i,a,s,o,u,h,l){M(e,l++,r),++i[256];for(var c=I(i,15),f=c.t,p=c.l,v=I(a,15),b=v.t,x=v.l,w=L(f),T=w.c,S=w.n,A=L(b),E=A.c,P=A.n,D=new d(19),B=0;B<T.length;++B)++D[31&T[B]];for(B=0;B<E.length;++B)++D[31&E[B]];for(var F=I(D,7),z=F.t,j=F.l,H=19;H>4&&!z[y[H-1]];--H);var X,Y,W,$,G=h+5<<3,q=U(i,O)+U(a,C)+s,Z=U(i,f)+U(a,b)+s+14+3*H+U(D,z)+2*D[16]+3*D[17]+7*D[18];if(u>=0&&G<=q&&G<=Z)return V(e,l,t.subarray(u,u+h));if(M(e,l,1+(Z<q)),l+=2,Z<q){X=_(f,p,0),Y=f,W=_(b,x,0),$=b;var Q=_(z,j,0);M(e,l,S-257),M(e,l+5,P-1),M(e,l+10,H-4),l+=14;for(B=0;B<H;++B)M(e,l+3*B,z[y[B]]);l+=3*H;for(var K=[T,E],J=0;J<2;++J){var tt=K[J];for(B=0;B<tt.length;++B){var et=31&tt[B];M(e,l,Q[et]),l+=z[et],et>15&&(M(e,l,tt[B]>>5&127),l+=tt[B]>>12)}}}else X=k,Y=O,W=N,$=C;for(B=0;B<o;++B){var rt=n[B];if(rt>255){R(e,l,X[(et=rt>>18&31)+257]),l+=Y[et+257],et>7&&(M(e,l,rt>>23&31),l+=g[et]);var nt=31&rt;R(e,l,W[nt]),l+=$[nt],nt>3&&(R(e,l,rt>>5&8191),l+=m[nt])}else R(e,l,X[rt]),l+=Y[rt]}return R(e,l,X[256]),l+Y[256]},F=new p([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),z=new f(0),j=function(t,e,r,n,i,a){var s=a.z||t.length,o=new f(n+s+5*(1+Math.ceil(s/7e3))+i),u=o.subarray(n,o.length-i),h=a.l,l=7&(a.r||0);if(e){l&&(u[0]=a.r>>3);for(var c=F[e-1],y=c>>13,v=8191&c,b=(1<<r)-1,x=a.p||new d(32768),S=a.h||new d(b+1),A=Math.ceil(r/3),E=2*A,_=function(e){return(t[e]^t[e+1]<<A^t[e+2]<<E)&b},O=new p(25e3),C=new d(288),k=new d(32),N=0,M=0,R=a.i||0,I=0,D=a.w||0,L=0;R+2<s;++R){var U=_(R),z=32767&R,j=S[U];if(x[z]=j,S[U]=z,D<=R){var H=s-R;if((N>7e3||I>24576)&&(H>423||!h)){l=B(t,u,0,O,C,k,M,I,L,R-L,l),I=N=M=0,L=R;for(var X=0;X<286;++X)C[X]=0;for(X=0;X<30;++X)k[X]=0}var Y=2,W=0,$=v,G=z-j&32767;if(H>2&&U==_(R-G))for(var q=Math.min(y,H)-1,Z=Math.min(32767,R),Q=Math.min(258,H);G<=Z&&--$&&z!=j;){if(t[R+Y]==t[R+Y-G]){for(var K=0;K<Q&&t[R+K]==t[R+K-G];++K);if(K>Y){if(Y=K,W=G,K>q)break;var J=Math.min(G,K-2),tt=0;for(X=0;X<J;++X){var et=R-G+X&32767,rt=et-x[et]&32767;rt>tt&&(tt=rt,j=et)}}}G+=(z=j)-(j=x[z])&32767}if(W){O[I++]=268435456|w[Y]<<18|T[W];var nt=31&w[Y],it=31&T[W];M+=g[nt]+m[it],++C[257+nt],++k[it],D=R+Y,++N}else O[I++]=t[R],++C[t[R]]}}for(R=Math.max(R,D);R<s;++R)O[I++]=t[R],++C[t[R]];l=B(t,u,h,O,C,k,M,I,L,R-L,l),h||(a.r=7&l|u[l/8|0]<<3,l-=7,a.h=S,a.p=x,a.i=R,a.w=D)}else{for(R=a.w||0;R<s+h;R+=65535){var at=R+65535;at>=s&&(u[l/8|0]=h,at=s),l=V(u,l+1,t.subarray(R,at))}a.i=s}return function(t,e,r){return(null==r||r>t.length)&&(r=t.length),new f(t.subarray(e,r))}(o,0,n+P(l)+i)},H=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=n+=r[s];n=(65535&n)+15*(n>>16),i=(65535&i)+15*(i>>16)}t=n,e=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(e%=65521))<<8|e>>8}}},X=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8};function Y(t,e){e||(e={});var r=H();r.p(t);var n=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),s=new f(a.length+t.length);s.set(a),s.set(t,a.length),t=s,i.w=a.length}return j(t,null==e.level?6:e.level,null==e.mem?i.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):20:12+e.mem,r,n,i)}(t,e,e.dictionary?6:2,4);return function(t,e){var r=e.level,n=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=H();i.p(e.dictionary),X(t,2,i.d())}}(n,e),X(n,n.length-4,r.d()),n}var W="undefined"!=typeof TextDecoder&&new TextDecoder;try{W.decode(z,{stream:!0})}catch(Cp){}function $(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function G(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,a,s,o=[],u=!0,h=!1;try{if(a=(r=r.call(t)).next,0===e);else for(;!(u=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);u=!0);}catch(t){h=!0,i=t}finally{try{if(!u&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return $(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(t,e="utf8"){return new TextDecoder(e).decode(t)}const Z=new TextEncoder;const Q=(()=>{const t=new Uint8Array(4);return!((new Uint32Array(t.buffer)[0]=1)&t[0])})(),K={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class J{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=8192,e={}){let r=!1;"number"==typeof t?t=new ArrayBuffer(t):(r=!0,this.lastWrittenByte=t.byteLength);const n=e.offset?e.offset>>>0:0,i=t.byteLength-n;let a=n;(ArrayBuffer.isView(t)||t instanceof J)&&(t.byteLength!==t.buffer.byteLength&&(a=t.byteOffset+n),t=t.buffer),this.lastWrittenByte=r?i:0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(void 0===t)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const e=2*(this.offset+t),r=new Uint8Array(e);r.set(new Uint8Array(this.buffer)),this.buffer=r.buffer,this.length=e,this.byteLength=e,this._data=new DataView(this.buffer)}return this}readBoolean(){return 0!==this.readUint8()}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,e){const r=K[e].BYTES_PER_ELEMENT*t,n=this.byteOffset+this.offset,i=this.buffer.slice(n,n+r);if(this.littleEndian===Q&&"uint8"!==e&&"int8"!==e){const t=new Uint8Array(this.buffer.slice(n,n+r));t.reverse();const i=new K[e](t.buffer);return this.offset+=r,i.reverse(),i}const a=new K[e](i);return this.offset+=r,a}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let e="";for(let r=0;r<t;r++)e+=this.readChar();return e}readUtf8(t=1){return q(this.readBytes(t))}decodeText(t=1,e="utf8"){return q(this.readBytes(t),e)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let e=0;e<t.length;e++)this._data.setUint8(this.offset++,t[e]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let e=0;e<t.length;e++)this.writeUint8(t.charCodeAt(e));return this}writeUtf8(t){return this.writeBytes(function(t){return Z.encode(t)}(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function tt(t){let e=t.length;for(;--e>=0;)t[e]=0}tt(new Array(576));tt(new Array(60));tt(new Array(512));tt(new Array(256));tt(new Array(29));tt(new Array(30));var et=(t,e,r,n)=>{let i=65535&t,a=t>>>16&65535,s=0;for(;0!==r;){s=r>2e3?2e3:r,r-=s;do{i=i+e[n++]|0,a=a+i|0}while(--s);i%=65521,a%=65521}return i|a<<16};const rt=new Uint32Array((()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e})());var nt=(t,e,r,n)=>{const i=rt,a=n+r;t^=-1;for(let s=n;s<a;s++)t=t>>>8^i[255&(t^e[s])];return-1^t},it={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},at={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const st=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var ot=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(const e in r)st(r,e)&&(t[e]=r[e])}}return t},ut=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,a=t.length;n<a;n++){let e=t[n];r.set(e,i),i+=e.length}return r};let ht=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(kp){ht=!1}const lt=new Uint8Array(256);for(let Np=0;Np<256;Np++)lt[Np]=Np>=252?6:Np>=248?5:Np>=240?4:Np>=224?3:Np>=192?2:1;lt[254]=lt[254]=1;var ct=t=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,r,n,i,a,s=t.length,o=0;for(i=0;i<s;i++)r=t.charCodeAt(i),55296==(64512&r)&&i+1<s&&(n=t.charCodeAt(i+1),56320==(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),i++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(o),a=0,i=0;a<o;i++)r=t.charCodeAt(i),55296==(64512&r)&&i+1<s&&(n=t.charCodeAt(i+1),56320==(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[a++]=r:r<2048?(e[a++]=192|r>>>6,e[a++]=128|63&r):r<65536?(e[a++]=224|r>>>12,e[a++]=128|r>>>6&63,e[a++]=128|63&r):(e[a++]=240|r>>>18,e[a++]=128|r>>>12&63,e[a++]=128|r>>>6&63,e[a++]=128|63&r);return e},ft=(t,e)=>{const r=e||t.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,e));let n,i;const a=new Array(2*r);for(i=0,n=0;n<r;){let e=t[n++];if(e<128){a[i++]=e;continue}let s=lt[e];if(s>4)a[i++]=65533,n+=s-1;else{for(e&=2===s?31:3===s?15:7;s>1&&n<r;)e=e<<6|63&t[n++],s--;s>1?a[i++]=65533:e<65536?a[i++]=e:(e-=65536,a[i++]=55296|e>>10&1023,a[i++]=56320|1023&e)}}return((t,e)=>{if(e<65534&&t.subarray&&ht)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r})(a,i)},dt=(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let r=e-1;for(;r>=0&&128==(192&t[r]);)r--;return r<0||0===r?e:r+lt[t[r]]>e?r:e};var pt=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const gt=16209;var mt=function(t,e){let r,n,i,a,s,o,u,h,l,c,f,d,p,g,m,y,v,b,x,w,T,S,A,E;const _=t.state;r=t.next_in,A=t.input,n=r+(t.avail_in-5),i=t.next_out,E=t.output,a=i-(e-t.avail_out),s=i+(t.avail_out-257),o=_.dmax,u=_.wsize,h=_.whave,l=_.wnext,c=_.window,f=_.hold,d=_.bits,p=_.lencode,g=_.distcode,m=(1<<_.lenbits)-1,y=(1<<_.distbits)-1;t:do{d<15&&(f+=A[r++]<<d,d+=8,f+=A[r++]<<d,d+=8),v=p[f&m];e:for(;;){if(b=v>>>24,f>>>=b,d-=b,b=v>>>16&255,0===b)E[i++]=65535&v;else{if(!(16&b)){if(64&b){if(32&b){_.mode=16191;break t}t.msg="invalid literal/length code",_.mode=gt;break t}v=p[(65535&v)+(f&(1<<b)-1)];continue e}for(x=65535&v,b&=15,b&&(d<b&&(f+=A[r++]<<d,d+=8),x+=f&(1<<b)-1,f>>>=b,d-=b),d<15&&(f+=A[r++]<<d,d+=8,f+=A[r++]<<d,d+=8),v=g[f&y];;){if(b=v>>>24,f>>>=b,d-=b,b=v>>>16&255,16&b){if(w=65535&v,b&=15,d<b&&(f+=A[r++]<<d,d+=8,d<b&&(f+=A[r++]<<d,d+=8)),w+=f&(1<<b)-1,w>o){t.msg="invalid distance too far back",_.mode=gt;break t}if(f>>>=b,d-=b,b=i-a,w>b){if(b=w-b,b>h&&_.sane){t.msg="invalid distance too far back",_.mode=gt;break t}if(T=0,S=c,0===l){if(T+=u-b,b<x){x-=b;do{E[i++]=c[T++]}while(--b);T=i-w,S=E}}else if(l<b){if(T+=u+l-b,b-=l,b<x){x-=b;do{E[i++]=c[T++]}while(--b);if(T=0,l<x){b=l,x-=b;do{E[i++]=c[T++]}while(--b);T=i-w,S=E}}}else if(T+=l-b,b<x){x-=b;do{E[i++]=c[T++]}while(--b);T=i-w,S=E}for(;x>2;)E[i++]=S[T++],E[i++]=S[T++],E[i++]=S[T++],x-=3;x&&(E[i++]=S[T++],x>1&&(E[i++]=S[T++]))}else{T=i-w;do{E[i++]=E[T++],E[i++]=E[T++],E[i++]=E[T++],x-=3}while(x>2);x&&(E[i++]=E[T++],x>1&&(E[i++]=E[T++]))}break}if(64&b){t.msg="invalid distance code",_.mode=gt;break t}v=g[(65535&v)+(f&(1<<b)-1)]}}break}}while(r<n&&i<s);x=d>>3,r-=x,d-=x<<3,f&=(1<<d)-1,t.next_in=r,t.next_out=i,t.avail_in=r<n?n-r+5:5-(r-n),t.avail_out=i<s?s-i+257:257-(i-s),_.hold=f,_.bits=d};const yt=15,vt=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),bt=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),xt=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),wt=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Tt=(t,e,r,n,i,a,s,o)=>{const u=o.bits;let h,l,c,f,d,p,g=0,m=0,y=0,v=0,b=0,x=0,w=0,T=0,S=0,A=0,E=null;const _=new Uint16Array(16),O=new Uint16Array(16);let C,k,N,P=null;for(g=0;g<=yt;g++)_[g]=0;for(m=0;m<n;m++)_[e[r+m]]++;for(b=u,v=yt;v>=1&&0===_[v];v--);if(b>v&&(b=v),0===v)return i[a++]=20971520,i[a++]=20971520,o.bits=1,0;for(y=1;y<v&&0===_[y];y++);for(b<y&&(b=y),T=1,g=1;g<=yt;g++)if(T<<=1,T-=_[g],T<0)return-1;if(T>0&&(0===t||1!==v))return-1;for(O[1]=0,g=1;g<yt;g++)O[g+1]=O[g]+_[g];for(m=0;m<n;m++)0!==e[r+m]&&(s[O[e[r+m]]++]=m);if(0===t?(E=P=s,p=20):1===t?(E=vt,P=bt,p=257):(E=xt,P=wt,p=0),A=0,m=0,g=y,d=a,x=b,w=0,c=-1,S=1<<b,f=S-1,1===t&&S>852||2===t&&S>592)return 1;for(;;){C=g-w,s[m]+1<p?(k=0,N=s[m]):s[m]>=p?(k=P[s[m]-p],N=E[s[m]-p]):(k=96,N=0),h=1<<g-w,l=1<<x,y=l;do{l-=h,i[d+(A>>w)+l]=C<<24|k<<16|N}while(0!==l);for(h=1<<g-1;A&h;)h>>=1;if(0!==h?(A&=h-1,A+=h):A=0,m++,0===--_[g]){if(g===v)break;g=e[r+s[m]]}if(g>b&&(A&f)!==c){for(0===w&&(w=b),d+=y,x=g-w,T=1<<x;x+w<v&&(T-=_[x+w],!(T<=0));)x++,T<<=1;if(S+=1<<x,1===t&&S>852||2===t&&S>592)return 1;c=A&f,i[c]=b<<24|x<<16|d-a}}return 0!==A&&(i[d+A]=g-w<<24|64<<16),o.bits=b,0};const{Z_FINISH:St,Z_BLOCK:At,Z_TREES:Et,Z_OK:_t,Z_STREAM_END:Ot,Z_NEED_DICT:Ct,Z_STREAM_ERROR:kt,Z_DATA_ERROR:Nt,Z_MEM_ERROR:Pt,Z_BUF_ERROR:Mt,Z_DEFLATED:Rt}=at,It=16180,Dt=16190,Lt=16191,Ut=16192,Vt=16194,Bt=16199,Ft=16200,zt=16206,jt=16209,Ht=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function Xt(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Yt=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<It||e.mode>16211?1:0},Wt=t=>{if(Yt(t))return kt;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=It,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,_t},$t=t=>{if(Yt(t))return kt;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Wt(t)},Gt=(t,e)=>{let r;if(Yt(t))return kt;const n=t.state;return e<0?(r=0,e=-e):(r=5+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?kt:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,$t(t))},qt=(t,e)=>{if(!t)return kt;const r=new Xt;t.state=r,r.strm=t,r.window=null,r.mode=It;const n=Gt(t,e);return n!==_t&&(t.state=null),n};let Zt,Qt,Kt=!0;const Jt=t=>{if(Kt){Zt=new Int32Array(512),Qt=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Tt(1,t.lens,0,288,Zt,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Tt(2,t.lens,0,32,Qt,0,t.work,{bits:5}),Kt=!1}t.lencode=Zt,t.lenbits=9,t.distcode=Qt,t.distbits=5},te=(t,e,r,n)=>{let i;const a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(e.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(e.subarray(r-n,r-n+i),a.wnext),(n-=i)?(a.window.set(e.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0};var ee=(t,e)=>{let r,n,i,a,s,o,u,h,l,c,f,d,p,g,m,y,v,b,x,w,T,S,A=0;const E=new Uint8Array(4);let _,O;const C=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Yt(t)||!t.output||!t.input&&0!==t.avail_in)return kt;r=t.state,r.mode===Lt&&(r.mode=Ut),s=t.next_out,i=t.output,u=t.avail_out,a=t.next_in,n=t.input,o=t.avail_in,h=r.hold,l=r.bits,c=o,f=u,S=_t;t:for(;;)switch(r.mode){case It:if(0===r.wrap){r.mode=Ut;break}for(;l<16;){if(0===o)break t;o--,h+=n[a++]<<l,l+=8}if(2&r.wrap&&35615===h){0===r.wbits&&(r.wbits=15),r.check=0,E[0]=255&h,E[1]=h>>>8&255,r.check=nt(r.check,E,2,0),h=0,l=0,r.mode=16181;break}if(r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&h)<<8)+(h>>8))%31){t.msg="incorrect header check",r.mode=jt;break}if((15&h)!==Rt){t.msg="unknown compression method",r.mode=jt;break}if(h>>>=4,l-=4,T=8+(15&h),0===r.wbits&&(r.wbits=T),T>15||T>r.wbits){t.msg="invalid window size",r.mode=jt;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=512&h?16189:Lt,h=0,l=0;break;case 16181:for(;l<16;){if(0===o)break t;o--,h+=n[a++]<<l,l+=8}if(r.flags=h,(255&r.flags)!==Rt){t.msg="unknown compression method",r.mode=jt;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=jt;break}r.head&&(r.head.text=h>>8&1),512&r.flags&&4&r.wrap&&(E[0]=255&h,E[1]=h>>>8&255,r.check=nt(r.check,E,2,0)),h=0,l=0,r.mode=16182;case 16182:for(;l<32;){if(0===o)break t;o--,h+=n[a++]<<l,l+=8}r.head&&(r.head.time=h),512&r.flags&&4&r.wrap&&(E[0]=255&h,E[1]=h>>>8&255,E[2]=h>>>16&255,E[3]=h>>>24&255,r.check=nt(r.check,E,4,0)),h=0,l=0,r.mode=16183;case 16183:for(;l<16;){if(0===o)break t;o--,h+=n[a++]<<l,l+=8}r.head&&(r.head.xflags=255&h,r.head.os=h>>8),512&r.flags&&4&r.wrap&&(E[0]=255&h,E[1]=h>>>8&255,r.check=nt(r.check,E,2,0)),h=0,l=0,r.mode=16184;case 16184:if(1024&r.flags){for(;l<16;){if(0===o)break t;o--,h+=n[a++]<<l,l+=8}r.length=h,r.head&&(r.head.extra_len=h),512&r.flags&&4&r.wrap&&(E[0]=255&h,E[1]=h>>>8&255,r.check=nt(r.check,E,2,0)),h=0,l=0}else r.head&&(r.head.extra=null);r.mode=16185;case 16185:if(1024&r.flags&&(d=r.length,d>o&&(d=o),d&&(r.head&&(T=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+d),T)),512&r.flags&&4&r.wrap&&(r.check=nt(r.check,n,d,a)),o-=d,a+=d,r.length-=d),r.length))break t;r.length=0,r.mode=16186;case 16186:if(2048&r.flags){if(0===o)break t;d=0;do{T=n[a+d++],r.head&&T&&r.length<65536&&(r.head.name+=String.fromCharCode(T))}while(T&&d<o);if(512&r.flags&&4&r.wrap&&(r.check=nt(r.check,n,d,a)),o-=d,a+=d,T)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=16187;case 16187:if(4096&r.flags){if(0===o)break t;d=0;do{T=n[a+d++],r.head&&T&&r.length<65536&&(r.head.comment+=String.fromCharCode(T))}while(T&&d<o);if(512&r.flags&&4&r.wrap&&(r.check=nt(r.check,n,d,a)),o-=d,a+=d,T)break t}else r.head&&(r.head.comment=null);r.mode=16188;case 16188:if(512&r.flags){for(;l<16;){if(0===o)break t;o--,h+=n[a++]<<l,l+=8}if(4&r.wrap&&h!==(65535&r.check)){t.msg="header crc mismatch",r.mode=jt;break}h=0,l=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=Lt;break;case 16189:for(;l<32;){if(0===o)break t;o--,h+=n[a++]<<l,l+=8}t.adler=r.check=Ht(h),h=0,l=0,r.mode=Dt;case Dt:if(0===r.havedict)return t.next_out=s,t.avail_out=u,t.next_in=a,t.avail_in=o,r.hold=h,r.bits=l,Ct;t.adler=r.check=1,r.mode=Lt;case Lt:if(e===At||e===Et)break t;case Ut:if(r.last){h>>>=7&l,l-=7&l,r.mode=zt;break}for(;l<3;){if(0===o)break t;o--,h+=n[a++]<<l,l+=8}switch(r.last=1&h,h>>>=1,l-=1,3&h){case 0:r.mode=16193;break;case 1:if(Jt(r),r.mode=Bt,e===Et){h>>>=2,l-=2;break t}break;case 2:r.mode=16196;break;case 3:t.msg="invalid block type",r.mode=jt}h>>>=2,l-=2;break;case 16193:for(h>>>=7&l,l-=7&l;l<32;){if(0===o)break t;o--,h+=n[a++]<<l,l+=8}if((65535&h)!=(h>>>16^65535)){t.msg="invalid stored block lengths",r.mode=jt;break}if(r.length=65535&h,h=0,l=0,r.mode=Vt,e===Et)break t;case Vt:r.mode=16195;case 16195:if(d=r.length,d){if(d>o&&(d=o),d>u&&(d=u),0===d)break t;i.set(n.subarray(a,a+d),s),o-=d,a+=d,u-=d,s+=d,r.length-=d;break}r.mode=Lt;break;case 16196:for(;l<14;){if(0===o)break t;o--,h+=n[a++]<<l,l+=8}if(r.nlen=257+(31&h),h>>>=5,l-=5,r.ndist=1+(31&h),h>>>=5,l-=5,r.ncode=4+(15&h),h>>>=4,l-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=jt;break}r.have=0,r.mode=16197;case 16197:for(;r.have<r.ncode;){for(;l<3;){if(0===o)break t;o--,h+=n[a++]<<l,l+=8}r.lens[C[r.have++]]=7&h,h>>>=3,l-=3}for(;r.have<19;)r.lens[C[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,_={bits:r.lenbits},S=Tt(0,r.lens,0,19,r.lencode,0,r.work,_),r.lenbits=_.bits,S){t.msg="invalid code lengths set",r.mode=jt;break}r.have=0,r.mode=16198;case 16198:for(;r.have<r.nlen+r.ndist;){for(;A=r.lencode[h&(1<<r.lenbits)-1],m=A>>>24,y=A>>>16&255,v=65535&A,!(m<=l);){if(0===o)break t;o--,h+=n[a++]<<l,l+=8}if(v<16)h>>>=m,l-=m,r.lens[r.have++]=v;else{if(16===v){for(O=m+2;l<O;){if(0===o)break t;o--,h+=n[a++]<<l,l+=8}if(h>>>=m,l-=m,0===r.have){t.msg="invalid bit length repeat",r.mode=jt;break}T=r.lens[r.have-1],d=3+(3&h),h>>>=2,l-=2}else if(17===v){for(O=m+3;l<O;){if(0===o)break t;o--,h+=n[a++]<<l,l+=8}h>>>=m,l-=m,T=0,d=3+(7&h),h>>>=3,l-=3}else{for(O=m+7;l<O;){if(0===o)break t;o--,h+=n[a++]<<l,l+=8}h>>>=m,l-=m,T=0,d=11+(127&h),h>>>=7,l-=7}if(r.have+d>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=jt;break}for(;d--;)r.lens[r.have++]=T}}if(r.mode===jt)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=jt;break}if(r.lenbits=9,_={bits:r.lenbits},S=Tt(1,r.lens,0,r.nlen,r.lencode,0,r.work,_),r.lenbits=_.bits,S){t.msg="invalid literal/lengths set",r.mode=jt;break}if(r.distbits=6,r.distcode=r.distdyn,_={bits:r.distbits},S=Tt(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,_),r.distbits=_.bits,S){t.msg="invalid distances set",r.mode=jt;break}if(r.mode=Bt,e===Et)break t;case Bt:r.mode=Ft;case Ft:if(o>=6&&u>=258){t.next_out=s,t.avail_out=u,t.next_in=a,t.avail_in=o,r.hold=h,r.bits=l,mt(t,f),s=t.next_out,i=t.output,u=t.avail_out,a=t.next_in,n=t.input,o=t.avail_in,h=r.hold,l=r.bits,r.mode===Lt&&(r.back=-1);break}for(r.back=0;A=r.lencode[h&(1<<r.lenbits)-1],m=A>>>24,y=A>>>16&255,v=65535&A,!(m<=l);){if(0===o)break t;o--,h+=n[a++]<<l,l+=8}if(y&&!(240&y)){for(b=m,x=y,w=v;A=r.lencode[w+((h&(1<<b+x)-1)>>b)],m=A>>>24,y=A>>>16&255,v=65535&A,!(b+m<=l);){if(0===o)break t;o--,h+=n[a++]<<l,l+=8}h>>>=b,l-=b,r.back+=b}if(h>>>=m,l-=m,r.back+=m,r.length=v,0===y){r.mode=16205;break}if(32&y){r.back=-1,r.mode=Lt;break}if(64&y){t.msg="invalid literal/length code",r.mode=jt;break}r.extra=15&y,r.mode=16201;case 16201:if(r.extra){for(O=r.extra;l<O;){if(0===o)break t;o--,h+=n[a++]<<l,l+=8}r.length+=h&(1<<r.extra)-1,h>>>=r.extra,l-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=16202;case 16202:for(;A=r.distcode[h&(1<<r.distbits)-1],m=A>>>24,y=A>>>16&255,v=65535&A,!(m<=l);){if(0===o)break t;o--,h+=n[a++]<<l,l+=8}if(!(240&y)){for(b=m,x=y,w=v;A=r.distcode[w+((h&(1<<b+x)-1)>>b)],m=A>>>24,y=A>>>16&255,v=65535&A,!(b+m<=l);){if(0===o)break t;o--,h+=n[a++]<<l,l+=8}h>>>=b,l-=b,r.back+=b}if(h>>>=m,l-=m,r.back+=m,64&y){t.msg="invalid distance code",r.mode=jt;break}r.offset=v,r.extra=15&y,r.mode=16203;case 16203:if(r.extra){for(O=r.extra;l<O;){if(0===o)break t;o--,h+=n[a++]<<l,l+=8}r.offset+=h&(1<<r.extra)-1,h>>>=r.extra,l-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=jt;break}r.mode=16204;case 16204:if(0===u)break t;if(d=f-u,r.offset>d){if(d=r.offset-d,d>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=jt;break}d>r.wnext?(d-=r.wnext,p=r.wsize-d):p=r.wnext-d,d>r.length&&(d=r.length),g=r.window}else g=i,p=s-r.offset,d=r.length;d>u&&(d=u),u-=d,r.length-=d;do{i[s++]=g[p++]}while(--d);0===r.length&&(r.mode=Ft);break;case 16205:if(0===u)break t;i[s++]=r.length,u--,r.mode=Ft;break;case zt:if(r.wrap){for(;l<32;){if(0===o)break t;o--,h|=n[a++]<<l,l+=8}if(f-=u,t.total_out+=f,r.total+=f,4&r.wrap&&f&&(t.adler=r.check=r.flags?nt(r.check,i,f,s-f):et(r.check,i,f,s-f)),f=u,4&r.wrap&&(r.flags?h:Ht(h))!==r.check){t.msg="incorrect data check",r.mode=jt;break}h=0,l=0}r.mode=16207;case 16207:if(r.wrap&&r.flags){for(;l<32;){if(0===o)break t;o--,h+=n[a++]<<l,l+=8}if(4&r.wrap&&h!==(4294967295&r.total)){t.msg="incorrect length check",r.mode=jt;break}h=0,l=0}r.mode=16208;case 16208:S=Ot;break t;case jt:S=Nt;break t;case 16210:return Pt;default:return kt}return t.next_out=s,t.avail_out=u,t.next_in=a,t.avail_in=o,r.hold=h,r.bits=l,(r.wsize||f!==t.avail_out&&r.mode<jt&&(r.mode<zt||e!==St))&&te(t,t.output,t.next_out,f-t.avail_out),c-=t.avail_in,f-=t.avail_out,t.total_in+=c,t.total_out+=f,r.total+=f,4&r.wrap&&f&&(t.adler=r.check=r.flags?nt(r.check,i,f,t.next_out-f):et(r.check,i,f,t.next_out-f)),t.data_type=r.bits+(r.last?64:0)+(r.mode===Lt?128:0)+(r.mode===Bt||r.mode===Vt?256:0),(0===c&&0===f||e===St)&&S===_t&&(S=Mt),S},re={inflateReset:$t,inflateReset2:Gt,inflateResetKeep:Wt,inflateInit:t=>qt(t,15),inflateInit2:qt,inflate:ee,inflateEnd:t=>{if(Yt(t))return kt;let e=t.state;return e.window&&(e.window=null),t.state=null,_t},inflateGetHeader:(t,e)=>{if(Yt(t))return kt;const r=t.state;return 2&r.wrap?(r.head=e,e.done=!1,_t):kt},inflateSetDictionary:(t,e)=>{const r=e.length;let n,i,a;return Yt(t)?kt:(n=t.state,0!==n.wrap&&n.mode!==Dt?kt:n.mode===Dt&&(i=1,i=et(i,e,r,0),i!==n.check)?Nt:(a=te(t,e,r,r),a?(n.mode=16210,Pt):(n.havedict=1,_t)))},inflateInfo:"pako inflate (from Nodeca project)"};var ne=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const ie=Object.prototype.toString,{Z_NO_FLUSH:ae,Z_FINISH:se,Z_OK:oe,Z_STREAM_END:ue,Z_NEED_DICT:he,Z_STREAM_ERROR:le,Z_DATA_ERROR:ce,Z_MEM_ERROR:fe}=at;function de(t){this.options=ot({chunkSize:65536,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(15&e.windowBits||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new pt,this.strm.avail_out=0;let r=re.inflateInit2(this.strm,e.windowBits);if(r!==oe)throw new Error(it[r]);if(this.header=new ne,re.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=ct(e.dictionary):"[object ArrayBuffer]"===ie.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=re.inflateSetDictionary(this.strm,e.dictionary),r!==oe)))throw new Error(it[r])}de.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let a,s,o;if(this.ended)return!1;for(s=e===~~e?e:!0===e?se:ae,"[object ArrayBuffer]"===ie.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(0===r.avail_out&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),a=re.inflate(r,s),a===he&&i&&(a=re.inflateSetDictionary(r,i),a===oe?a=re.inflate(r,s):a===ce&&(a=he));r.avail_in>0&&a===ue&&r.state.wrap>0&&0!==t[r.next_in];)re.inflateReset(r),a=re.inflate(r,s);switch(a){case le:case ce:case he:case fe:return this.onEnd(a),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(0===r.avail_out||a===ue))if("string"===this.options.to){let t=dt(r.output,r.next_out),e=r.next_out-t,i=ft(r.output,t);r.next_out=e,r.avail_out=n-e,e&&r.output.set(r.output.subarray(t,t+e),0),this.onData(i)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(a!==oe||0!==o){if(a===ue)return a=re.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(0===r.avail_in)break}}return!0},de.prototype.onData=function(t){this.chunks.push(t)},de.prototype.onEnd=function(t){t===oe&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=ut(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var pe={Inflate:de,inflate:function(t,e){const r=new de(e);if(r.push(t),r.err)throw r.msg||it[r.err];return r.result}};const{Inflate:ge,inflate:me}=pe;var ye=ge,ve=me;const be=[];for(let Np=0;Np<256;Np++){let t=Np;for(let e=0;e<8;e++)1&t?t=3988292384^t>>>1:t>>>=1;be[Np]=t}const xe=4294967295;function we(t,e){return(function(t,e,r){let n=t;for(let i=0;i<r;i++)n=be[255&(n^e[i])]^n>>>8;return n}(xe,t,e)^xe)>>>0}function Te(t,e,r){const n=t.readUint32(),i=we(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function Se(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function Ae(t,e,r,n){let i=0;for(;i<n;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-n]&255}function Ee(t,e,r,n){let i=0;if(0===r.length)for(;i<n;i++)e[i]=t[i];else for(;i<n;i++)e[i]=t[i]+r[i]&255}function _e(t,e,r,n,i){let a=0;if(0===r.length){for(;a<i;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+(e[a-i]>>1)&255}else{for(;a<i;a++)e[a]=t[a]+(r[a]>>1)&255;for(;a<n;a++)e[a]=t[a]+(e[a-i]+r[a]>>1)&255}}function Oe(t,e,r,n,i){let a=0;if(0===r.length){for(;a<i;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+e[a-i]&255}else{for(;a<i;a++)e[a]=t[a]+r[a]&255;for(;a<n;a++)e[a]=t[a]+Ce(e[a-i],r[a],r[a-i])&255}}function Ce(t,e,r){const n=t+e-r,i=Math.abs(n-t),a=Math.abs(n-e),s=Math.abs(n-r);return i<=a&&i<=s?t:a<=s?e:r}function ke(t,e,r,n,i,a){switch(t){case 0:Se(e,r,i);break;case 1:Ae(e,r,i,a);break;case 2:Ee(e,r,n,i);break;case 3:_e(e,r,n,i,a);break;case 4:Oe(e,r,n,i,a);break;default:throw new Error(`Unsupported filter: ${t}`)}}const Ne=new Uint16Array([255]),Pe=255===new Uint8Array(Ne.buffer)[0];function Me(t){return(255&t)<<8|t>>8&255}const Re=new Uint16Array([255]),Ie=255===new Uint8Array(Re.buffer)[0],De=new Uint8Array(0);function Le(t){const{data:e,width:r,height:n,channels:i,depth:a}=t,s=Math.ceil(a/8)*i,o=Math.ceil(a/8*i*r),u=new Uint8Array(n*o);let h,l,c=De,f=0;for(let d=0;d<n;d++){switch(h=e.subarray(f+1,f+1+o),l=u.subarray(d*o,(d+1)*o),e[f]){case 0:Se(h,l,o);break;case 1:Ae(h,l,o,s);break;case 2:Ee(h,l,c,o);break;case 3:_e(h,l,c,o,s);break;case 4:Oe(h,l,c,o,s);break;default:throw new Error(`Unsupported filter: ${e[f]}`)}c=l,f+=o+1}if(16===a){const t=new Uint16Array(u.buffer);if(Ie)for(let e=0;e<t.length;e++)t[e]=Ue(t[e]);return t}return u}function Ue(t){return(255&t)<<8|t>>8&255}const Ve=Uint8Array.of(137,80,78,71,13,10,26,10);function Be(t){if(!function(t){if(t.length<Ve.length)return!1;for(let e=0;e<Ve.length;e++)if(t[e]!==Ve[e])return!1;return!0}(t.readBytes(Ve.length)))throw new Error("wrong PNG signature")}const Fe=new TextDecoder("latin1");function ze(t){if(function(t){if(!je.test(t))throw new Error("invalid latin1 text")}(t),0===t.length||t.length>79)throw new Error("keyword length must be between 1 and 79")}const je=/^[\u0000-\u00FF]*$/;function He(t,e,r){const n=Xe(e);t[n]=function(t,e){return Fe.decode(t.readBytes(e))}(e,r-n.length-1)}function Xe(t){for(t.mark();0!==t.readByte(););const e=t.offset;t.reset();const r=Fe.decode(t.readBytes(e-t.offset-1));return t.skip(1),ze(r),r}const Ye=-1,We=0,$e=2,Ge=3,qe=4,Ze=6,Qe=-1,Ke=0,Je=-1,tr=0,er=-1,rr=0,nr=1,ir=0,ar=1,sr=2,or=0,ur=1;class hr extends J{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,e={}){super(t);const{checkCrc:r=!1}=e;this._checkCrc=r,this._inflator=new ye,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Qe,this._filterMethod=Je,this._interlaceMethod=er,this._colorType=Ye,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Be(this);!this._end;){const t=this.readUint32(),e=this.readChars(4);this.decodeChunk(t,e)}return this.decodeImage(),this._png}decodeApng(){for(Be(this);!this._end;){const t=this.readUint32(),e=this.readChars(4);this.decodeApngChunk(t,e)}return this.decodeApngImage(),this._apng}decodeChunk(t,e){const r=this.offset;switch(e){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case"tEXt":He(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t)}if(this.offset-r!==t)throw new Error(`Length mismatch while decoding chunk ${e}`);this._checkCrc?Te(this,t+4,e):this.skip(4)}decodeApngChunk(t,e){const r=this.offset;switch("fdAT"!==e&&"IDAT"!==e&&this._writingDataChunks&&this.pushDataToFrame(),e){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,e),this.offset=r+t}if(this.offset-r!==t)throw new Error(`Length mismatch while decoding chunk ${e}`);this._checkCrc?Te(this,t+4,e):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=function(t){if(1!==t&&2!==t&&4!==t&&8!==t&&16!==t)throw new Error(`invalid bit depth: ${t}`);return t}(this.readUint8());const e=this.readUint8();let r;switch(this._colorType=e,e){case We:r=1;break;case $e:r=3;break;case Ge:r=1;break;case qe:r=2;break;case Ze:r=4;break;default:throw new Error(`Unknown color type: ${e}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==Ke)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!=0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const e=t/3;this._hasPalette=!0;const r=[];this._palette=r;for(let n=0;n<e;n++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const e=t,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,e)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let e=t,r=this.offset+this.byteOffset;if(r+=4,e-=4,this._inflator.push(new Uint8Array(this.buffer,r,e)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case We:case $e:if(t%2!=0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let e=0;e<t/2;e++)this._transparency[e]=this.readUint16();break;case Ge:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let e=0;for(;e<t;e++){const t=this.readByte();this._palette[e].push(t)}for(;e<this._palette.length;e++)this._palette[e].push(255);break}default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const e=Xe(this),r=this.readUint8();if(r!==Ke)throw new Error(`Unsupported iCCP compression method: ${r}`);const n=this.readBytes(t-e.length-2);this._png.iccEmbeddedProfile={name:e,profile:ve(n)}}decodepHYs(){const t=this.readUint32(),e=this.readUint32(),r=this.readByte();this._png.resolution={x:t,y:e,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const e={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:8===this._apng.depth?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(t);if(r){if(r.data=Le({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),0===t||0===r.xOffset&&0===r.yOffset&&r.width===this._png.width&&r.height===this._png.height)e.data=r.data;else{const n=this._apng.frames.at(t-1);this.disposeFrame(r,n,e),this.addFrameDataToCanvas(e,r)}this._apng.frames.push(e)}}return this._apng}disposeFrame(t,e,r){switch(t.disposeOp){case ir:break;case ar:for(let e=0;e<this._png.height;e++)for(let n=0;n<this._png.width;n++){const i=(e*t.width+n)*this._png.channels;for(let t=0;t<this._png.channels;t++)r.data[i+t]=0}break;case sr:r.data.set(e.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,e){const r=1<<this._png.depth,n=(t,r)=>({index:((t+e.yOffset)*this._png.width+e.xOffset+r)*this._png.channels,frameIndex:(t*e.width+r)*this._png.channels});switch(e.blendOp){case or:for(let r=0;r<e.height;r++)for(let i=0;i<e.width;i++){const{index:a,frameIndex:s}=n(r,i);for(let r=0;r<this._png.channels;r++)t.data[a+r]=e.data[s+r]}break;case ur:for(let i=0;i<e.height;i++)for(let a=0;a<e.width;a++){const{index:s,frameIndex:o}=n(i,a);for(let n=0;n<this._png.channels;n++){const i=e.data[o+this._png.channels-1]/r,a=n%(this._png.channels-1)==0?1:e.data[o+n],u=Math.floor(i*a+(1-i)*t.data[s+n]);t.data[s+n]+=u}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==tr)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===rr)this._png.data=Le({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else{if(this._interlaceMethod!==nr)throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._png.data=function(t){const{data:e,width:r,height:n,channels:i,depth:a}=t,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(a/8)*i,u=new Uint8Array(n*r*o);let h=0;for(let l=0;l<7;l++){const t=s[l],i=Math.ceil((r-t.x)/t.xStep),a=Math.ceil((n-t.y)/t.yStep);if(i<=0||a<=0)continue;const c=i*o,f=new Uint8Array(c);for(let s=0;s<a;s++){const a=e[h++],l=e.subarray(h,h+c);h+=c;const d=new Uint8Array(c);ke(a,l,d,f,c,o),f.set(d);for(let e=0;e<i;e++){const i=t.x+e*t.xStep,a=t.y+s*t.yStep;if(!(i>=r||a>=n))for(let t=0;t<o;t++)u[(a*r+i)*o+t]=d[e*o+t]}}}if(16===a){const t=new Uint16Array(u.buffer);if(Pe)for(let e=0;e<t.length;e++)t[e]=Me(t[e]);return t}return u}({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth})}this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,e=this._frames.at(-1);e?e.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:ir,blendOp:or,data:t}),this._inflator=new ye,this._writingDataChunks=!1}}var lr;function cr(t,e){return new hr(t,e).decode()}
/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"}(lr||(lr={}));const{entries:fr,setPrototypeOf:dr,isFrozen:pr,getPrototypeOf:gr,getOwnPropertyDescriptor:mr}=Object;let{freeze:yr,seal:vr,create:br}=Object,{apply:xr,construct:wr}="undefined"!=typeof Reflect&&Reflect;yr||(yr=function(t){return t}),vr||(vr=function(t){return t}),xr||(xr=function(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];return t.apply(e,n)}),wr||(wr=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return new t(...r)});const Tr=Ur(Array.prototype.forEach),Sr=Ur(Array.prototype.lastIndexOf),Ar=Ur(Array.prototype.pop),Er=Ur(Array.prototype.push),_r=Ur(Array.prototype.splice),Or=Ur(String.prototype.toLowerCase),Cr=Ur(String.prototype.toString),kr=Ur(String.prototype.match),Nr=Ur(String.prototype.replace),Pr=Ur(String.prototype.indexOf),Mr=Ur(String.prototype.trim),Rr=Ur(Object.prototype.hasOwnProperty),Ir=Ur(RegExp.prototype.test),Dr=(Lr=TypeError,function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return wr(Lr,e)});var Lr;function Ur(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return xr(t,e,n)}}function Vr(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Or;dr&&dr(t,null);let n=e.length;for(;n--;){let i=e[n];if("string"==typeof i){const t=r(i);t!==i&&(pr(e)||(e[n]=t),i=t)}t[i]=!0}return t}function Br(t){for(let e=0;e<t.length;e++){Rr(t,e)||(t[e]=null)}return t}function Fr(t){const e=br(null);for(const[r,n]of fr(t)){Rr(t,r)&&(Array.isArray(n)?e[r]=Br(n):n&&"object"==typeof n&&n.constructor===Object?e[r]=Fr(n):e[r]=n)}return e}function zr(t,e){for(;null!==t;){const r=mr(t,e);if(r){if(r.get)return Ur(r.get);if("function"==typeof r.value)return Ur(r.value)}t=gr(t)}return function(){return null}}const jr=yr(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Hr=yr(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Xr=yr(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Yr=yr(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Wr=yr(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),$r=yr(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Gr=yr(["#text"]),qr=yr(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Zr=yr(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Qr=yr(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Kr=yr(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Jr=vr(/\{\{[\w\W]*|[\w\W]*\}\}/gm),tn=vr(/<%[\w\W]*|[\w\W]*%>/gm),en=vr(/\$\{[\w\W]*/gm),rn=vr(/^data-[\-\w.\u00B7-\uFFFF]+$/),nn=vr(/^aria-[\-\w]+$/),an=vr(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),sn=vr(/^(?:\w+script|data):/i),on=vr(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),un=vr(/^html$/i),hn=vr(/^[a-z][.\w]*(-[.\w]+)+$/i);var ln=Object.freeze({__proto__:null,ARIA_ATTR:nn,ATTR_WHITESPACE:on,CUSTOM_ELEMENT:hn,DATA_ATTR:rn,DOCTYPE_NAME:un,ERB_EXPR:tn,IS_ALLOWED_URI:an,IS_SCRIPT_OR_DATA:sn,MUSTACHE_EXPR:Jr,TMPLIT_EXPR:en});const cn=1,fn=3,dn=7,pn=8,gn=9,mn=function(){return"undefined"==typeof window?null:window};var yn=function t(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mn();const r=e=>t(e);if(r.version="3.3.1",r.removed=[],!e||!e.document||e.document.nodeType!==gn||!e.Element)return r.isSupported=!1,r;let{document:n}=e;const i=n,a=i.currentScript,{DocumentFragment:s,HTMLTemplateElement:o,Node:u,Element:h,NodeFilter:l,NamedNodeMap:c=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:f,DOMParser:d,trustedTypes:p}=e,g=h.prototype,m=zr(g,"cloneNode"),y=zr(g,"remove"),v=zr(g,"nextSibling"),b=zr(g,"childNodes"),x=zr(g,"parentNode");if("function"==typeof o){const t=n.createElement("template");t.content&&t.content.ownerDocument&&(n=t.content.ownerDocument)}let w,T="";const{implementation:S,createNodeIterator:A,createDocumentFragment:E,getElementsByTagName:_}=n,{importNode:O}=i;let C={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};r.isSupported="function"==typeof fr&&"function"==typeof x&&S&&void 0!==S.createHTMLDocument;const{MUSTACHE_EXPR:k,ERB_EXPR:N,TMPLIT_EXPR:P,DATA_ATTR:M,ARIA_ATTR:R,IS_SCRIPT_OR_DATA:I,ATTR_WHITESPACE:D,CUSTOM_ELEMENT:L}=ln;let{IS_ALLOWED_URI:U}=ln,V=null;const B=Vr({},[...jr,...Hr,...Xr,...Wr,...Gr]);let F=null;const z=Vr({},[...qr,...Zr,...Qr,...Kr]);let j=Object.seal(br(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),H=null,X=null;const Y=Object.seal(br(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let W=!0,$=!0,G=!1,q=!0,Z=!1,Q=!0,K=!1,J=!1,tt=!1,et=!1,rt=!1,nt=!1,it=!0,at=!1,st=!0,ot=!1,ut={},ht=null;const lt=Vr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ct=null;const ft=Vr({},["audio","video","img","source","image","track"]);let dt=null;const pt=Vr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),gt="http://www.w3.org/1998/Math/MathML",mt="http://www.w3.org/2000/svg",yt="http://www.w3.org/1999/xhtml";let vt=yt,bt=!1,xt=null;const wt=Vr({},[gt,mt,yt],Cr);let Tt=Vr({},["mi","mo","mn","ms","mtext"]),St=Vr({},["annotation-xml"]);const At=Vr({},["title","style","font","a","script"]);let Et=null;const _t=["application/xhtml+xml","text/html"];let Ot=null,Ct=null;const kt=n.createElement("form"),Nt=function(t){return t instanceof RegExp||t instanceof Function},Pt=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Ct||Ct!==t){if(t&&"object"==typeof t||(t={}),t=Fr(t),Et=-1===_t.indexOf(t.PARSER_MEDIA_TYPE)?"text/html":t.PARSER_MEDIA_TYPE,Ot="application/xhtml+xml"===Et?Cr:Or,V=Rr(t,"ALLOWED_TAGS")?Vr({},t.ALLOWED_TAGS,Ot):B,F=Rr(t,"ALLOWED_ATTR")?Vr({},t.ALLOWED_ATTR,Ot):z,xt=Rr(t,"ALLOWED_NAMESPACES")?Vr({},t.ALLOWED_NAMESPACES,Cr):wt,dt=Rr(t,"ADD_URI_SAFE_ATTR")?Vr(Fr(pt),t.ADD_URI_SAFE_ATTR,Ot):pt,ct=Rr(t,"ADD_DATA_URI_TAGS")?Vr(Fr(ft),t.ADD_DATA_URI_TAGS,Ot):ft,ht=Rr(t,"FORBID_CONTENTS")?Vr({},t.FORBID_CONTENTS,Ot):lt,H=Rr(t,"FORBID_TAGS")?Vr({},t.FORBID_TAGS,Ot):Fr({}),X=Rr(t,"FORBID_ATTR")?Vr({},t.FORBID_ATTR,Ot):Fr({}),ut=!!Rr(t,"USE_PROFILES")&&t.USE_PROFILES,W=!1!==t.ALLOW_ARIA_ATTR,$=!1!==t.ALLOW_DATA_ATTR,G=t.ALLOW_UNKNOWN_PROTOCOLS||!1,q=!1!==t.ALLOW_SELF_CLOSE_IN_ATTR,Z=t.SAFE_FOR_TEMPLATES||!1,Q=!1!==t.SAFE_FOR_XML,K=t.WHOLE_DOCUMENT||!1,et=t.RETURN_DOM||!1,rt=t.RETURN_DOM_FRAGMENT||!1,nt=t.RETURN_TRUSTED_TYPE||!1,tt=t.FORCE_BODY||!1,it=!1!==t.SANITIZE_DOM,at=t.SANITIZE_NAMED_PROPS||!1,st=!1!==t.KEEP_CONTENT,ot=t.IN_PLACE||!1,U=t.ALLOWED_URI_REGEXP||an,vt=t.NAMESPACE||yt,Tt=t.MATHML_TEXT_INTEGRATION_POINTS||Tt,St=t.HTML_INTEGRATION_POINTS||St,j=t.CUSTOM_ELEMENT_HANDLING||{},t.CUSTOM_ELEMENT_HANDLING&&Nt(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(j.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&Nt(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(j.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(j.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Z&&($=!1),rt&&(et=!0),ut&&(V=Vr({},Gr),F=[],!0===ut.html&&(Vr(V,jr),Vr(F,qr)),!0===ut.svg&&(Vr(V,Hr),Vr(F,Zr),Vr(F,Kr)),!0===ut.svgFilters&&(Vr(V,Xr),Vr(F,Zr),Vr(F,Kr)),!0===ut.mathMl&&(Vr(V,Wr),Vr(F,Qr),Vr(F,Kr))),t.ADD_TAGS&&("function"==typeof t.ADD_TAGS?Y.tagCheck=t.ADD_TAGS:(V===B&&(V=Fr(V)),Vr(V,t.ADD_TAGS,Ot))),t.ADD_ATTR&&("function"==typeof t.ADD_ATTR?Y.attributeCheck=t.ADD_ATTR:(F===z&&(F=Fr(F)),Vr(F,t.ADD_ATTR,Ot))),t.ADD_URI_SAFE_ATTR&&Vr(dt,t.ADD_URI_SAFE_ATTR,Ot),t.FORBID_CONTENTS&&(ht===lt&&(ht=Fr(ht)),Vr(ht,t.FORBID_CONTENTS,Ot)),t.ADD_FORBID_CONTENTS&&(ht===lt&&(ht=Fr(ht)),Vr(ht,t.ADD_FORBID_CONTENTS,Ot)),st&&(V["#text"]=!0),K&&Vr(V,["html","head","body"]),V.table&&(Vr(V,["tbody"]),delete H.tbody),t.TRUSTED_TYPES_POLICY){if("function"!=typeof t.TRUSTED_TYPES_POLICY.createHTML)throw Dr('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof t.TRUSTED_TYPES_POLICY.createScriptURL)throw Dr('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');w=t.TRUSTED_TYPES_POLICY,T=w.createHTML("")}else void 0===w&&(w=function(t,e){if("object"!=typeof t||"function"!=typeof t.createPolicy)return null;let r=null;const n="data-tt-policy-suffix";e&&e.hasAttribute(n)&&(r=e.getAttribute(n));const i="dompurify"+(r?"#"+r:"");try{return t.createPolicy(i,{createHTML:t=>t,createScriptURL:t=>t})}catch(ff){return null}}(p,a)),null!==w&&"string"==typeof T&&(T=w.createHTML(""));yr&&yr(t),Ct=t}},Mt=Vr({},[...Hr,...Xr,...Yr]),Rt=Vr({},[...Wr,...$r]),It=function(t){Er(r.removed,{element:t});try{x(t).removeChild(t)}catch(ff){y(t)}},Dt=function(t,e){try{Er(r.removed,{attribute:e.getAttributeNode(t),from:e})}catch(ff){Er(r.removed,{attribute:null,from:e})}if(e.removeAttribute(t),"is"===t)if(et||rt)try{It(e)}catch(ff){}else try{e.setAttribute(t,"")}catch(ff){}},Lt=function(t){let e=null,r=null;if(tt)t="<remove></remove>"+t;else{const e=kr(t,/^[\r\n\t ]+/);r=e&&e[0]}"application/xhtml+xml"===Et&&vt===yt&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");const i=w?w.createHTML(t):t;if(vt===yt)try{e=(new d).parseFromString(i,Et)}catch(ff){}if(!e||!e.documentElement){e=S.createDocument(vt,"template",null);try{e.documentElement.innerHTML=bt?T:i}catch(ff){}}const a=e.body||e.documentElement;return t&&r&&a.insertBefore(n.createTextNode(r),a.childNodes[0]||null),vt===yt?_.call(e,K?"html":"body")[0]:K?e.documentElement:a},Ut=function(t){return A.call(t.ownerDocument||t,t,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT|l.SHOW_PROCESSING_INSTRUCTION|l.SHOW_CDATA_SECTION,null)},Vt=function(t){return t instanceof f&&("string"!=typeof t.nodeName||"string"!=typeof t.textContent||"function"!=typeof t.removeChild||!(t.attributes instanceof c)||"function"!=typeof t.removeAttribute||"function"!=typeof t.setAttribute||"string"!=typeof t.namespaceURI||"function"!=typeof t.insertBefore||"function"!=typeof t.hasChildNodes)},Bt=function(t){return"function"==typeof u&&t instanceof u};function Ft(t,e,n){Tr(t,t=>{t.call(r,e,n,Ct)})}const zt=function(t){let e=null;if(Ft(C.beforeSanitizeElements,t,null),Vt(t))return It(t),!0;const n=Ot(t.nodeName);if(Ft(C.uponSanitizeElement,t,{tagName:n,allowedTags:V}),Q&&t.hasChildNodes()&&!Bt(t.firstElementChild)&&Ir(/<[/\w!]/g,t.innerHTML)&&Ir(/<[/\w!]/g,t.textContent))return It(t),!0;if(t.nodeType===dn)return It(t),!0;if(Q&&t.nodeType===pn&&Ir(/<[/\w]/g,t.data))return It(t),!0;if(!(Y.tagCheck instanceof Function&&Y.tagCheck(n))&&(!V[n]||H[n])){if(!H[n]&&Ht(n)){if(j.tagNameCheck instanceof RegExp&&Ir(j.tagNameCheck,n))return!1;if(j.tagNameCheck instanceof Function&&j.tagNameCheck(n))return!1}if(st&&!ht[n]){const e=x(t)||t.parentNode,r=b(t)||t.childNodes;if(r&&e){for(let n=r.length-1;n>=0;--n){const i=m(r[n],!0);i.__removalCount=(t.__removalCount||0)+1,e.insertBefore(i,v(t))}}}return It(t),!0}return t instanceof h&&!function(t){let e=x(t);e&&e.tagName||(e={namespaceURI:vt,tagName:"template"});const r=Or(t.tagName),n=Or(e.tagName);return!!xt[t.namespaceURI]&&(t.namespaceURI===mt?e.namespaceURI===yt?"svg"===r:e.namespaceURI===gt?"svg"===r&&("annotation-xml"===n||Tt[n]):Boolean(Mt[r]):t.namespaceURI===gt?e.namespaceURI===yt?"math"===r:e.namespaceURI===mt?"math"===r&&St[n]:Boolean(Rt[r]):t.namespaceURI===yt?!(e.namespaceURI===mt&&!St[n])&&!(e.namespaceURI===gt&&!Tt[n])&&!Rt[r]&&(At[r]||!Mt[r]):!("application/xhtml+xml"!==Et||!xt[t.namespaceURI]))}(t)?(It(t),!0):"noscript"!==n&&"noembed"!==n&&"noframes"!==n||!Ir(/<\/no(script|embed|frames)/i,t.innerHTML)?(Z&&t.nodeType===fn&&(e=t.textContent,Tr([k,N,P],t=>{e=Nr(e,t," ")}),t.textContent!==e&&(Er(r.removed,{element:t.cloneNode()}),t.textContent=e)),Ft(C.afterSanitizeElements,t,null),!1):(It(t),!0)},jt=function(t,e,r){if(it&&("id"===e||"name"===e)&&(r in n||r in kt))return!1;if($&&!X[e]&&Ir(M,e));else if(W&&Ir(R,e));else if(Y.attributeCheck instanceof Function&&Y.attributeCheck(e,t));else if(!F[e]||X[e]){if(!(Ht(t)&&(j.tagNameCheck instanceof RegExp&&Ir(j.tagNameCheck,t)||j.tagNameCheck instanceof Function&&j.tagNameCheck(t))&&(j.attributeNameCheck instanceof RegExp&&Ir(j.attributeNameCheck,e)||j.attributeNameCheck instanceof Function&&j.attributeNameCheck(e,t))||"is"===e&&j.allowCustomizedBuiltInElements&&(j.tagNameCheck instanceof RegExp&&Ir(j.tagNameCheck,r)||j.tagNameCheck instanceof Function&&j.tagNameCheck(r))))return!1}else if(dt[e]);else if(Ir(U,Nr(r,D,"")));else if("src"!==e&&"xlink:href"!==e&&"href"!==e||"script"===t||0!==Pr(r,"data:")||!ct[t]){if(G&&!Ir(I,Nr(r,D,"")));else if(r)return!1}else;return!0},Ht=function(t){return"annotation-xml"!==t&&kr(t,L)},Xt=function(t){Ft(C.beforeSanitizeAttributes,t,null);const{attributes:e}=t;if(!e||Vt(t))return;const n={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:F,forceKeepAttr:void 0};let i=e.length;for(;i--;){const a=e[i],{name:s,namespaceURI:o,value:u}=a,h=Ot(s),l=u;let c="value"===s?l:Mr(l);if(n.attrName=h,n.attrValue=c,n.keepAttr=!0,n.forceKeepAttr=void 0,Ft(C.uponSanitizeAttribute,t,n),c=n.attrValue,!at||"id"!==h&&"name"!==h||(Dt(s,t),c="user-content-"+c),Q&&Ir(/((--!?|])>)|<\/(style|title|textarea)/i,c)){Dt(s,t);continue}if("attributename"===h&&kr(c,"href")){Dt(s,t);continue}if(n.forceKeepAttr)continue;if(!n.keepAttr){Dt(s,t);continue}if(!q&&Ir(/\/>/i,c)){Dt(s,t);continue}Z&&Tr([k,N,P],t=>{c=Nr(c,t," ")});const f=Ot(t.nodeName);if(jt(f,h,c)){if(w&&"object"==typeof p&&"function"==typeof p.getAttributeType)if(o);else switch(p.getAttributeType(f,h)){case"TrustedHTML":c=w.createHTML(c);break;case"TrustedScriptURL":c=w.createScriptURL(c)}if(c!==l)try{o?t.setAttributeNS(o,s,c):t.setAttribute(s,c),Vt(t)?It(t):Ar(r.removed)}catch(ff){Dt(s,t)}}else Dt(s,t)}Ft(C.afterSanitizeAttributes,t,null)},Yt=function t(e){let r=null;const n=Ut(e);for(Ft(C.beforeSanitizeShadowDOM,e,null);r=n.nextNode();)Ft(C.uponSanitizeShadowNode,r,null),zt(r),Xt(r),r.content instanceof s&&t(r.content);Ft(C.afterSanitizeShadowDOM,e,null)};return r.sanitize=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,a=null,o=null,h=null;if(bt=!t,bt&&(t="\x3c!--\x3e"),"string"!=typeof t&&!Bt(t)){if("function"!=typeof t.toString)throw Dr("toString is not a function");if("string"!=typeof(t=t.toString()))throw Dr("dirty is not a string, aborting")}if(!r.isSupported)return t;if(J||Pt(e),r.removed=[],"string"==typeof t&&(ot=!1),ot){if(t.nodeName){const e=Ot(t.nodeName);if(!V[e]||H[e])throw Dr("root node is forbidden and cannot be sanitized in-place")}}else if(t instanceof u)n=Lt("\x3c!----\x3e"),a=n.ownerDocument.importNode(t,!0),a.nodeType===cn&&"BODY"===a.nodeName||"HTML"===a.nodeName?n=a:n.appendChild(a);else{if(!et&&!Z&&!K&&-1===t.indexOf("<"))return w&&nt?w.createHTML(t):t;if(n=Lt(t),!n)return et?null:nt?T:""}n&&tt&&It(n.firstChild);const l=Ut(ot?t:n);for(;o=l.nextNode();)zt(o),Xt(o),o.content instanceof s&&Yt(o.content);if(ot)return t;if(et){if(rt)for(h=E.call(n.ownerDocument);n.firstChild;)h.appendChild(n.firstChild);else h=n;return(F.shadowroot||F.shadowrootmode)&&(h=O.call(i,h,!0)),h}let c=K?n.outerHTML:n.innerHTML;return K&&V["!doctype"]&&n.ownerDocument&&n.ownerDocument.doctype&&n.ownerDocument.doctype.name&&Ir(un,n.ownerDocument.doctype.name)&&(c="<!DOCTYPE "+n.ownerDocument.doctype.name+">\n"+c),Z&&Tr([k,N,P],t=>{c=Nr(c,t," ")}),w&&nt?w.createHTML(c):c},r.setConfig=function(){Pt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),J=!0},r.clearConfig=function(){Ct=null,J=!1},r.isValidAttribute=function(t,e,r){Ct||Pt({});const n=Ot(t),i=Ot(e);return jt(n,i,r)},r.addHook=function(t,e){"function"==typeof e&&Er(C[t],e)},r.removeHook=function(t,e){if(void 0!==e){const r=Sr(C[t],e);return-1===r?void 0:_r(C[t],r,1)[0]}return Ar(C[t])},r.removeHooks=function(t){C[t]=[]},r.removeAllHooks=function(){C={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},r}();const vn=Object.freeze(Object.defineProperty({__proto__:null,default:yn},Symbol.toStringTag,{value:"Module"}));var bn,xn,wn={};function Tn(){if(xn)return bn;xn=1;var e=function(t){return t&&t.Math===Math&&t};return bn=e("object"==typeof globalThis&&globalThis)||e("object"==typeof window&&window)||e("object"==typeof self&&self)||e("object"==typeof t&&t)||e("object"==typeof bn&&bn)||function(){return this}()||Function("return this")()}var Sn,An,En,_n,On,Cn,kn,Nn,Pn={};function Mn(){return An?Sn:(An=1,Sn=function(t){try{return!!t()}catch(e){return!0}})}function Rn(){if(_n)return En;_n=1;var t=Mn();return En=!t(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})}function In(){if(Cn)return On;Cn=1;var t=Mn();return On=!t(function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})}function Dn(){if(Nn)return kn;Nn=1;var t=In(),e=Function.prototype.call;return kn=t?e.bind(e):function(){return e.apply(e,arguments)},kn}var Ln,Un,Vn,Bn,Fn,zn,jn,Hn,Xn,Yn,Wn,$n,Gn,qn,Zn,Qn,Kn,Jn,ti,ei,ri,ni,ii,ai,si,oi,ui,hi,li,ci,fi,di,pi,gi,mi,yi,vi,bi,xi,wi,Ti,Si={};function Ai(){return Vn?Un:(Vn=1,Un=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}})}function Ei(){if(Fn)return Bn;Fn=1;var t=In(),e=Function.prototype,r=e.call,n=t&&e.bind.bind(r,r);return Bn=t?n:function(t){return function(){return r.apply(t,arguments)}},Bn}function _i(){if(jn)return zn;jn=1;var t=Ei(),e=t({}.toString),r=t("".slice);return zn=function(t){return r(e(t),8,-1)}}function Oi(){if(Xn)return Hn;Xn=1;var t=Ei(),e=Mn(),r=_i(),n=Object,i=t("".split);return Hn=e(function(){return!n("z").propertyIsEnumerable(0)})?function(t){return"String"===r(t)?i(t,""):n(t)}:n}function Ci(){return Wn?Yn:(Wn=1,Yn=function(t){return null==t})}function ki(){if(Gn)return $n;Gn=1;var t=Ci(),e=TypeError;return $n=function(r){if(t(r))throw new e("Can't call method on "+r);return r}}function Ni(){if(Zn)return qn;Zn=1;var t=Oi(),e=ki();return qn=function(r){return t(e(r))}}function Pi(){if(Kn)return Qn;Kn=1;var t="object"==typeof document&&document.all;return Qn=void 0===t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(t){return"function"==typeof t}}function Mi(){if(ti)return Jn;ti=1;var t=Pi();return Jn=function(e){return"object"==typeof e?null!==e:t(e)}}function Ri(){if(ri)return ei;ri=1;var t=Tn(),e=Pi();return ei=function(r,n){return arguments.length<2?(i=t[r],e(i)?i:void 0):t[r]&&t[r][n];var i},ei}function Ii(){if(ii)return ni;ii=1;var t=Ei();return ni=t({}.isPrototypeOf)}function Di(){if(si)return ai;si=1;var t=Tn().navigator,e=t&&t.userAgent;return ai=e?String(e):""}function Li(){if(ui)return oi;ui=1;var t,e,r=Tn(),n=Di(),i=r.process,a=r.Deno,s=i&&i.versions||a&&a.version,o=s&&s.v8;return o&&(e=(t=o.split("."))[0]>0&&t[0]<4?1:+(t[0]+t[1])),!e&&n&&(!(t=n.match(/Edge\/(\d+)/))||t[1]>=74)&&(t=n.match(/Chrome\/(\d+)/))&&(e=+t[1]),oi=e}function Ui(){if(li)return hi;li=1;var t=Li(),e=Mn(),r=Tn().String;return hi=!!Object.getOwnPropertySymbols&&!e(function(){var e=Symbol("symbol detection");return!r(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&t&&t<41})}function Vi(){if(fi)return ci;fi=1;var t=Ui();return ci=t&&!Symbol.sham&&"symbol"==typeof Symbol.iterator}function Bi(){if(pi)return di;pi=1;var t=Ri(),e=Pi(),r=Ii(),n=Vi(),i=Object;return di=n?function(t){return"symbol"==typeof t}:function(n){var a=t("Symbol");return e(a)&&r(a.prototype,i(n))}}function Fi(){if(mi)return gi;mi=1;var t=String;return gi=function(e){try{return t(e)}catch(r){return"Object"}}}function zi(){if(vi)return yi;vi=1;var t=Pi(),e=Fi(),r=TypeError;return yi=function(n){if(t(n))return n;throw new r(e(n)+" is not a function")}}function ji(){if(xi)return bi;xi=1;var t=zi(),e=Ci();return bi=function(r,n){var i=r[n];return e(i)?void 0:t(i)}}function Hi(){if(Ti)return wi;Ti=1;var t=Dn(),e=Pi(),r=Mi(),n=TypeError;return wi=function(i,a){var s,o;if("string"===a&&e(s=i.toString)&&!r(o=t(s,i)))return o;if(e(s=i.valueOf)&&!r(o=t(s,i)))return o;if("string"!==a&&e(s=i.toString)&&!r(o=t(s,i)))return o;throw new n("Can't convert object to primitive value")}}var Xi,Yi,Wi,$i,Gi,qi,Zi,Qi,Ki,Ji,ta,ea,ra,na,ia,aa,sa,oa,ua,ha,la,ca,fa,da,pa={exports:{}};function ga(){return Yi?Xi:(Yi=1,Xi=!1)}function ma(){if($i)return Wi;$i=1;var t=Tn(),e=Object.defineProperty;return Wi=function(r,n){try{e(t,r,{value:n,configurable:!0,writable:!0})}catch(i){t[r]=n}return n}}function ya(){if(Gi)return pa.exports;Gi=1;var t=ga(),e=Tn(),r=ma(),n="__core-js_shared__",i=pa.exports=e[n]||r(n,{});return(i.versions||(i.versions=[])).push({version:"3.48.0",mode:t?"pure":"global",copyright:" 20132025 Denis Pushkarev (zloirock.ru), 20252026 CoreJS Company (core-js.io). All rights reserved.",license:"https://github.com/zloirock/core-js/blob/v3.48.0/LICENSE",source:"https://github.com/zloirock/core-js"}),pa.exports}function va(){if(Zi)return qi;Zi=1;var t=ya();return qi=function(e,r){return t[e]||(t[e]=r||{})}}function ba(){if(Ki)return Qi;Ki=1;var t=ki(),e=Object;return Qi=function(r){return e(t(r))}}function xa(){if(ta)return Ji;ta=1;var t=Ei(),e=ba(),r=t({}.hasOwnProperty);return Ji=Object.hasOwn||function(t,n){return r(e(t),n)}}function wa(){if(ra)return ea;ra=1;var t=Ei(),e=0,r=Math.random(),n=t(1.1.toString);return ea=function(t){return"Symbol("+(void 0===t?"":t)+")_"+n(++e+r,36)}}function Ta(){if(ia)return na;ia=1;var t=Tn(),e=va(),r=xa(),n=wa(),i=Ui(),a=Vi(),s=t.Symbol,o=e("wks"),u=a?s.for||s:s&&s.withoutSetter||n;return na=function(t){return r(o,t)||(o[t]=i&&r(s,t)?s[t]:u("Symbol."+t)),o[t]}}function Sa(){if(ua)return oa;ua=1;var t=function(){if(sa)return aa;sa=1;var t=Dn(),e=Mi(),r=Bi(),n=ji(),i=Hi(),a=Ta(),s=TypeError,o=a("toPrimitive");return aa=function(a,u){if(!e(a)||r(a))return a;var h,l=n(a,o);if(l){if(void 0===u&&(u="default"),h=t(l,a,u),!e(h)||r(h))return h;throw new s("Can't convert object to primitive value")}return void 0===u&&(u="number"),i(a,u)}}(),e=Bi();return oa=function(r){var n=t(r,"string");return e(n)?n:n+""}}function Aa(){if(la)return ha;la=1;var t=Tn(),e=Mi(),r=t.document,n=e(r)&&e(r.createElement);return ha=function(t){return n?r.createElement(t):{}}}function Ea(){if(fa)return ca;fa=1;var t=Rn(),e=Mn(),r=Aa();return ca=!t&&!e(function(){return 7!==Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a})}function _a(){if(da)return Pn;da=1;var t=Rn(),e=Dn(),r=function(){if(Ln)return Si;Ln=1;var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,r=e&&!t.call({1:2},1);return Si.f=r?function(t){var r=e(this,t);return!!r&&r.enumerable}:t,Si}(),n=Ai(),i=Ni(),a=Sa(),s=xa(),o=Ea(),u=Object.getOwnPropertyDescriptor;return Pn.f=t?u:function(t,h){if(t=i(t),h=a(h),o)try{return u(t,h)}catch(l){}if(s(t,h))return n(!e(r.f,t,h),t[h])},Pn}var Oa,Ca,ka,Na,Pa,Ma,Ra,Ia={};function Da(){if(Ca)return Oa;Ca=1;var t=Rn(),e=Mn();return Oa=t&&e(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})}function La(){if(Na)return ka;Na=1;var t=Mi(),e=String,r=TypeError;return ka=function(n){if(t(n))return n;throw new r(e(n)+" is not an object")}}function Ua(){if(Pa)return Ia;Pa=1;var t=Rn(),e=Ea(),r=Da(),n=La(),i=Sa(),a=TypeError,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,u="enumerable",h="configurable",l="writable";return Ia.f=t?r?function(t,e,r){if(n(t),e=i(e),n(r),"function"==typeof t&&"prototype"===e&&"value"in r&&l in r&&!r[l]){var a=o(t,e);a&&a[l]&&(t[e]=r.value,r={configurable:h in r?r[h]:a[h],enumerable:u in r?r[u]:a[u],writable:!1})}return s(t,e,r)}:s:function(t,r,o){if(n(t),r=i(r),n(o),e)try{return s(t,r,o)}catch(u){}if("get"in o||"set"in o)throw new a("Accessors not supported");return"value"in o&&(t[r]=o.value),t},Ia}function Va(){if(Ra)return Ma;Ra=1;var t=Rn(),e=Ua(),r=Ai();return Ma=t?function(t,n,i){return e.f(t,n,r(1,i))}:function(t,e,r){return t[e]=r,t}}var Ba,Fa,za,ja,Ha,Xa,Ya,Wa,$a,Ga,qa,Za,Qa,Ka,Ja,ts={exports:{}};function es(){if(Fa)return Ba;Fa=1;var t=Rn(),e=xa(),r=Function.prototype,n=t&&Object.getOwnPropertyDescriptor,i=e(r,"name"),a=i&&"something"===function(){}.name,s=i&&(!t||t&&n(r,"name").configurable);return Ba={EXISTS:i,PROPER:a,CONFIGURABLE:s}}function rs(){if(ja)return za;ja=1;var t=Ei(),e=Pi(),r=ya(),n=t(Function.toString);return e(r.inspectSource)||(r.inspectSource=function(t){return n(t)}),za=r.inspectSource}function ns(){if(Wa)return Ya;Wa=1;var t=va(),e=wa(),r=t("keys");return Ya=function(t){return r[t]||(r[t]=e(t))}}function is(){return Ga?$a:(Ga=1,$a={})}function as(){if(Za)return qa;Za=1;var t,e,r,n=function(){if(Xa)return Ha;Xa=1;var t=Tn(),e=Pi(),r=t.WeakMap;return Ha=e(r)&&/native code/.test(String(r))}(),i=Tn(),a=Mi(),s=Va(),o=xa(),u=ya(),h=ns(),l=is(),c="Object already initialized",f=i.TypeError,d=i.WeakMap;if(n||u.state){var p=u.state||(u.state=new d);p.get=p.get,p.has=p.has,p.set=p.set,t=function(t,e){if(p.has(t))throw new f(c);return e.facade=t,p.set(t,e),e},e=function(t){return p.get(t)||{}},r=function(t){return p.has(t)}}else{var g=h("state");l[g]=!0,t=function(t,e){if(o(t,g))throw new f(c);return e.facade=t,s(t,g,e),e},e=function(t){return o(t,g)?t[g]:{}},r=function(t){return o(t,g)}}return qa={set:t,get:e,has:r,enforce:function(n){return r(n)?e(n):t(n,{})},getterFor:function(t){return function(r){var n;if(!a(r)||(n=e(r)).type!==t)throw new f("Incompatible receiver, "+t+" required");return n}}},qa}function ss(){if(Qa)return ts.exports;Qa=1;var t=Ei(),e=Mn(),r=Pi(),n=xa(),i=Rn(),a=es().CONFIGURABLE,s=rs(),o=as(),u=o.enforce,h=o.get,l=String,c=Object.defineProperty,f=t("".slice),d=t("".replace),p=t([].join),g=i&&!e(function(){return 8!==c(function(){},"length",{value:8}).length}),m=String(String).split("String"),y=ts.exports=function(t,e,r){"Symbol("===f(l(e),0,7)&&(e="["+d(l(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!n(t,"name")||a&&t.name!==e)&&(i?c(t,"name",{value:e,configurable:!0}):t.name=e),g&&r&&n(r,"arity")&&t.length!==r.arity&&c(t,"length",{value:r.arity});try{r&&n(r,"constructor")&&r.constructor?i&&c(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(o){}var s=u(t);return n(s,"source")||(s.source=p(m,"string"==typeof e?e:"")),t};return Function.prototype.toString=y(function(){return r(this)&&h(this).source||s(this)},"toString"),ts.exports}function os(){if(Ja)return Ka;Ja=1;var t=Pi(),e=Ua(),r=ss(),n=ma();return Ka=function(i,a,s,o){o||(o={});var u=o.enumerable,h=void 0!==o.name?o.name:a;if(t(s)&&r(s,h,o),o.global)u?i[a]=s:n(a,s);else{try{o.unsafe?i[a]&&(u=!0):delete i[a]}catch(l){}u?i[a]=s:e.f(i,a,{value:s,enumerable:!1,configurable:!o.nonConfigurable,writable:!o.nonWritable})}return i},Ka}var us,hs,ls,cs,fs,ds,ps,gs,ms,ys,vs,bs,xs,ws,Ts,Ss,As,Es={};function _s(){if(cs)return ls;cs=1;var t=function(){if(hs)return us;hs=1;var t=Math.ceil,e=Math.floor;return us=Math.trunc||function(r){var n=+r;return(n>0?e:t)(n)},us}();return ls=function(e){var r=+e;return r!=r||0===r?0:t(r)}}function Os(){if(ds)return fs;ds=1;var t=_s(),e=Math.max,r=Math.min;return fs=function(n,i){var a=t(n);return a<0?e(a+i,0):r(a,i)},fs}function Cs(){if(gs)return ps;gs=1;var t=_s(),e=Math.min;return ps=function(r){var n=t(r);return n>0?e(n,9007199254740991):0}}function ks(){if(ys)return ms;ys=1;var t=Cs();return ms=function(e){return t(e.length)}}function Ns(){if(bs)return vs;bs=1;var t=Ni(),e=Os(),r=ks(),n=function(n){return function(i,a,s){var o=t(i),u=r(o);if(0===u)return!n&&-1;var h,l=e(s,u);if(n&&a!=a){for(;u>l;)if((h=o[l++])!=h)return!0}else for(;u>l;l++)if((n||l in o)&&o[l]===a)return n||l||0;return!n&&-1}};return vs={includes:n(!0),indexOf:n(!1)}}function Ps(){if(ws)return xs;ws=1;var t=Ei(),e=xa(),r=Ni(),n=Ns().indexOf,i=is(),a=t([].push);return xs=function(t,s){var o,u=r(t),h=0,l=[];for(o in u)!e(i,o)&&e(u,o)&&a(l,o);for(;s.length>h;)e(u,o=s[h++])&&(~n(l,o)||a(l,o));return l},xs}function Ms(){return Ss?Ts:(Ss=1,Ts=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"])}var Rs,Is,Ds,Ls,Us,Vs,Bs,Fs,zs,js,Hs,Xs,Ys,Ws,$s,Gs,qs,Zs,Qs,Ks,Js,to,eo,ro,no,io,ao,so,oo,uo,ho,lo,co,fo,po,go,mo,yo,vo,bo,xo,wo,To,So,Ao,Eo,_o,Oo,Co,ko,No,Po,Mo,Ro,Io,Do,Lo,Uo,Vo,Bo,Fo,zo,jo,Ho,Xo,Yo,Wo,$o,Go,qo,Zo,Qo,Ko,Jo,tu,eu={};function ru(){if(Ds)return Is;Ds=1;var t=Ri(),e=Ei(),r=function(){if(As)return Es;As=1;var t=Ps(),e=Ms().concat("length","prototype");return Es.f=Object.getOwnPropertyNames||function(r){return t(r,e)},Es}(),n=(Rs||(Rs=1,eu.f=Object.getOwnPropertySymbols),eu),i=La(),a=e([].concat);return Is=t("Reflect","ownKeys")||function(t){var e=r.f(i(t)),s=n.f;return s?a(e,s(t)):e}}function nu(){if(Us)return Ls;Us=1;var t=xa(),e=ru(),r=_a(),n=Ua();return Ls=function(i,a,s){for(var o=e(a),u=n.f,h=r.f,l=0;l<o.length;l++){var c=o[l];t(i,c)||s&&t(s,c)||u(i,c,h(a,c))}},Ls}function iu(){if(Bs)return Vs;Bs=1;var t=Mn(),e=Pi(),r=/#|\.prototype\./,n=function(r,n){var u=a[i(r)];return u===o||u!==s&&(e(n)?t(n):!!n)},i=n.normalize=function(t){return String(t).replace(r,".").toLowerCase()},a=n.data={},s=n.NATIVE="N",o=n.POLYFILL="P";return Vs=n}function au(){if(zs)return Fs;zs=1;var t=Tn(),e=_a().f,r=Va(),n=os(),i=ma(),a=nu(),s=iu();return Fs=function(o,u){var h,l,c,f,d,p=o.target,g=o.global,m=o.stat;if(h=g?t:m?t[p]||i(p,{}):t[p]&&t[p].prototype)for(l in u){if(f=u[l],c=o.dontCallGetSet?(d=e(h,l))&&d.value:h[l],!s(g?l:p+(m?".":"#")+l,o.forced)&&void 0!==c){if(typeof f==typeof c)continue;a(f,c)}(o.sham||c&&c.sham)&&r(f,"sham",!0),n(h,l,f,o)}}}function su(){if(Hs)return js;Hs=1;var t=Tn(),e=Di(),r=_i(),n=function(t){return e.slice(0,t.length)===t};return js=n("Bun/")?"BUN":n("Cloudflare-Workers")?"CLOUDFLARE":n("Deno/")?"DENO":n("Node.js/")?"NODE":t.Bun&&"string"==typeof Bun.version?"BUN":t.Deno&&"object"==typeof Deno.version?"DENO":"process"===r(t.process)?"NODE":t.window&&t.document?"BROWSER":"REST"}function ou(){if(Ys)return Xs;Ys=1;var t=su();return Xs="NODE"===t}function uu(){if($s)return Ws;$s=1;var t=Tn();return Ws=t}function hu(){if(Qs)return Zs;Qs=1;var t=Mi();return Zs=function(e){return t(e)||null===e}}function lu(){if(Js)return Ks;Js=1;var t=hu(),e=String,r=TypeError;return Ks=function(n){if(t(n))return n;throw new r("Can't set "+e(n)+" as a prototype")}}function cu(){if(eo)return to;eo=1;var t=function(){if(qs)return Gs;qs=1;var t=Ei(),e=zi();return Gs=function(r,n,i){try{return t(e(Object.getOwnPropertyDescriptor(r,n)[i]))}catch(a){}}}(),e=Mi(),r=ki(),n=lu();return to=Object.setPrototypeOf||("__proto__"in{}?function(){var i,a=!1,s={};try{(i=t(Object.prototype,"__proto__","set"))(s,[]),a=s instanceof Array}catch(o){}return function(t,s){return r(t),n(s),e(t)?(a?i(t,s):t.__proto__=s,t):t}}():void 0),to}function fu(){if(no)return ro;no=1;var t=Ua().f,e=xa(),r=Ta()("toStringTag");return ro=function(n,i,a){n&&!a&&(n=n.prototype),n&&!e(n,r)&&t(n,r,{configurable:!0,value:i})}}function du(){if(ao)return io;ao=1;var t=ss(),e=Ua();return io=function(r,n,i){return i.get&&t(i.get,n,{getter:!0}),i.set&&t(i.set,n,{setter:!0}),e.f(r,n,i)}}function pu(){if(oo)return so;oo=1;var t=Ri(),e=du(),r=Ta(),n=Rn(),i=r("species");return so=function(r){var a=t(r);n&&a&&!a[i]&&e(a,i,{configurable:!0,get:function(){return this}})}}function gu(){if(ho)return uo;ho=1;var t=Ii(),e=TypeError;return uo=function(r,n){if(t(n,r))return r;throw new e("Incorrect invocation")}}function mu(){if(po)return fo;po=1;var t=function(){if(co)return lo;co=1;var t={};return t[Ta()("toStringTag")]="z",lo="[object z]"===String(t)}(),e=Pi(),r=_i(),n=Ta()("toStringTag"),i=Object,a="Arguments"===r(function(){return arguments}());return fo=t?r:function(t){var s,o,u;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(o=function(t,e){try{return t[e]}catch(r){}}(s=i(t),n))?o:a?r(s):"Object"===(u=r(s))&&e(s.callee)?"Arguments":u},fo}function yu(){if(mo)return go;mo=1;var t=Ei(),e=Mn(),r=Pi(),n=mu(),i=Ri(),a=rs(),s=function(){},o=i("Reflect","construct"),u=/^\s*(?:class|function)\b/,h=t(u.exec),l=!u.test(s),c=function(t){if(!r(t))return!1;try{return o(s,[],t),!0}catch(e){return!1}},f=function(t){if(!r(t))return!1;switch(n(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return l||!!h(u,a(t))}catch(e){return!0}};return f.sham=!0,go=!o||e(function(){var t;return c(c.call)||!c(Object)||!c(function(){t=!0})||t})?f:c}function vu(){if(vo)return yo;vo=1;var t=yu(),e=Fi(),r=TypeError;return yo=function(n){if(t(n))return n;throw new r(e(n)+" is not a constructor")}}function bu(){if(xo)return bo;xo=1;var t=La(),e=vu(),r=Ci(),n=Ta()("species");return bo=function(i,a){var s,o=t(i).constructor;return void 0===o||r(s=t(o)[n])?a:e(s)},bo}function xu(){if(To)return wo;To=1;var t=In(),e=Function.prototype,r=e.apply,n=e.call;return wo="object"==typeof Reflect&&Reflect.apply||(t?n.bind(r):function(){return n.apply(r,arguments)}),wo}function wu(){if(Ao)return So;Ao=1;var t=_i(),e=Ei();return So=function(r){if("Function"===t(r))return e(r)}}function Tu(){if(_o)return Eo;_o=1;var t=wu(),e=zi(),r=In(),n=t(t.bind);return Eo=function(t,i){return e(t),void 0===i?t:r?n(t,i):function(){return t.apply(i,arguments)}},Eo}function Su(){if(Co)return Oo;Co=1;var t=Ri();return Oo=t("document","documentElement")}function Au(){if(No)return ko;No=1;var t=Ei();return ko=t([].slice)}function Eu(){if(Mo)return Po;Mo=1;var t=TypeError;return Po=function(e,r){if(e<r)throw new t("Not enough arguments");return e}}function _u(){if(Io)return Ro;Io=1;var t=Di();return Ro=/(?:ipad|iphone|ipod).*applewebkit/i.test(t)}function Ou(){if(Lo)return Do;Lo=1;var t,e,r,n,i=Tn(),a=xu(),s=Tu(),o=Pi(),u=xa(),h=Mn(),l=Su(),c=Au(),f=Aa(),d=Eu(),p=_u(),g=ou(),m=i.setImmediate,y=i.clearImmediate,v=i.process,b=i.Dispatch,x=i.Function,w=i.MessageChannel,T=i.String,S=0,A={},E="onreadystatechange";h(function(){t=i.location});var _=function(t){if(u(A,t)){var e=A[t];delete A[t],e()}},O=function(t){return function(){_(t)}},C=function(t){_(t.data)},k=function(e){i.postMessage(T(e),t.protocol+"//"+t.host)};return m&&y||(m=function(t){d(arguments.length,1);var r=o(t)?t:x(t),n=c(arguments,1);return A[++S]=function(){a(r,void 0,n)},e(S),S},y=function(t){delete A[t]},g?e=function(t){v.nextTick(O(t))}:b&&b.now?e=function(t){b.now(O(t))}:w&&!p?(n=(r=new w).port2,r.port1.onmessage=C,e=s(n.postMessage,n)):i.addEventListener&&o(i.postMessage)&&!i.importScripts&&t&&"file:"!==t.protocol&&!h(k)?(e=k,i.addEventListener("message",C,!1)):e=E in f("script")?function(t){l.appendChild(f("script"))[E]=function(){l.removeChild(this),_(t)}}:function(t){setTimeout(O(t),0)}),Do={set:m,clear:y}}function Cu(){if(Vo)return Uo;Vo=1;var t=Tn(),e=Rn(),r=Object.getOwnPropertyDescriptor;return Uo=function(n){if(!e)return t[n];var i=r(t,n);return i&&i.value}}function ku(){if(Fo)return Bo;Fo=1;var t=function(){this.head=null,this.tail=null};return t.prototype={add:function(t){var e={item:t,next:null},r=this.tail;r?r.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}},Bo=t}function Nu(){if(Wo)return Yo;Wo=1;var t,e,r,n,i,a=Tn(),s=Cu(),o=Tu(),u=Ou().set,h=ku(),l=_u(),c=function(){if(jo)return zo;jo=1;var t=Di();return zo=/ipad|iphone|ipod/i.test(t)&&"undefined"!=typeof Pebble}(),f=function(){if(Xo)return Ho;Xo=1;var t=Di();return Ho=/web0s(?!.*chrome)/i.test(t)}(),d=ou(),p=a.MutationObserver||a.WebKitMutationObserver,g=a.document,m=a.process,y=a.Promise,v=s("queueMicrotask");if(!v){var b=new h,x=function(){var e,r;for(d&&(e=m.domain)&&e.exit();r=b.get();)try{r()}catch(n){throw b.head&&t(),n}e&&e.enter()};l||d||f||!p||!g?!c&&y&&y.resolve?((n=y.resolve(void 0)).constructor=y,i=o(n.then,n),t=function(){i(x)}):d?t=function(){m.nextTick(x)}:(u=o(u,a),t=function(){u(x)}):(e=!0,r=g.createTextNode(""),new p(x).observe(r,{characterData:!0}),t=function(){r.data=e=!e}),v=function(e){b.head||t(),b.add(e)}}return Yo=v}function Pu(){return Go?$o:(Go=1,$o=function(t,e){})}function Mu(){return Zo?qo:(Zo=1,qo=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}})}function Ru(){if(Ko)return Qo;Ko=1;var t=Tn();return Qo=t.Promise}function Iu(){if(tu)return Jo;tu=1;var t=Tn(),e=Ru(),r=Pi(),n=iu(),i=rs(),a=Ta(),s=su(),o=ga(),u=Li(),h=e&&e.prototype,l=a("species"),c=!1,f=r(t.PromiseRejectionEvent),d=n("Promise",function(){var t=i(e),r=t!==String(e);if(!r&&66===u)return!0;if(o&&(!h.catch||!h.finally))return!0;if(!u||u<51||!/native code/.test(t)){var n=new e(function(t){t(1)}),a=function(t){t(function(){},function(){})};if((n.constructor={})[l]=a,!(c=n.then(function(){})instanceof a))return!0}return!(r||"BROWSER"!==s&&"DENO"!==s||f)});return Jo={CONSTRUCTOR:d,REJECTION_EVENT:f,SUBCLASSING:c}}var Du,Lu,Uu={};function Vu(){if(Du)return Uu;Du=1;var t=zi(),e=TypeError,r=function(r){var n,i;this.promise=new r(function(t,r){if(void 0!==n||void 0!==i)throw new e("Bad Promise constructor");n=t,i=r}),this.resolve=t(n),this.reject=t(i)};return Uu.f=function(t){return new r(t)},Uu}var Bu,Fu,zu,ju,Hu,Xu,Yu,Wu,$u,Gu,qu,Zu,Qu,Ku,Ju,th,eh,rh={};function nh(){return Fu?Bu:(Fu=1,Bu={})}function ih(){if(ju)return zu;ju=1;var t=Ta(),e=nh(),r=t("iterator"),n=Array.prototype;return zu=function(t){return void 0!==t&&(e.Array===t||n[r]===t)}}function ah(){if(Xu)return Hu;Xu=1;var t=mu(),e=ji(),r=Ci(),n=nh(),i=Ta()("iterator");return Hu=function(a){if(!r(a))return e(a,i)||e(a,"@@iterator")||n[t(a)]}}function sh(){if(Wu)return Yu;Wu=1;var t=Dn(),e=zi(),r=La(),n=Fi(),i=ah(),a=TypeError;return Yu=function(s,o){var u=arguments.length<2?i(s):o;if(e(u))return r(t(u,s));throw new a(n(s)+" is not iterable")},Yu}function oh(){if(Gu)return $u;Gu=1;var t=Dn(),e=La(),r=ji();return $u=function(n,i,a){var s,o;e(n);try{if(!(s=r(n,"return"))){if("throw"===i)throw a;return a}s=t(s,n)}catch(u){o=!0,s=u}if("throw"===i)throw a;if(o)throw s;return e(s),a}}function uh(){if(Zu)return qu;Zu=1;var t=Tu(),e=Dn(),r=La(),n=Fi(),i=ih(),a=ks(),s=Ii(),o=sh(),u=ah(),h=oh(),l=TypeError,c=function(t,e){this.stopped=t,this.result=e},f=c.prototype;return qu=function(d,p,g){var m,y,v,b,x,w,T,S=g&&g.that,A=!(!g||!g.AS_ENTRIES),E=!(!g||!g.IS_RECORD),_=!(!g||!g.IS_ITERATOR),O=!(!g||!g.INTERRUPTED),C=t(p,S),k=function(t){return m&&h(m,"normal"),new c(!0,t)},N=function(t){return A?(r(t),O?C(t[0],t[1],k):C(t[0],t[1])):O?C(t,k):C(t)};if(E)m=d.iterator;else if(_)m=d;else{if(!(y=u(d)))throw new l(n(d)+" is not iterable");if(i(y)){for(v=0,b=a(d);b>v;v++)if((x=N(d[v]))&&s(f,x))return x;return new c(!1)}m=o(d,y)}for(w=E?d.next:m.next;!(T=e(w,m)).done;){try{x=N(T.value)}catch(P){h(m,"throw",P)}if("object"==typeof x&&x&&s(f,x))return x}return new c(!1)},qu}function hh(){if(Ku)return Qu;Ku=1;var t=Ta()("iterator"),e=!1;try{var r=0,n={next:function(){return{done:!!r++}},return:function(){e=!0}};n[t]=function(){return this},Array.from(n,function(){throw 2})}catch(i){}return Qu=function(r,n){try{if(!n&&!e)return!1}catch(i){return!1}var a=!1;try{var s={};s[t]=function(){return{next:function(){return{done:a=!0}}}},r(s)}catch(i){}return a}}function lh(){if(th)return Ju;th=1;var t=Ru(),e=hh(),r=Iu().CONSTRUCTOR;return Ju=r||!e(function(e){t.all(e).then(void 0,function(){})})}var ch,fh={};var dh,ph={};var gh,mh={};var yh,vh,bh,xh,wh={};function Th(){if(vh)return yh;vh=1;var t=La(),e=Mi(),r=Vu();return yh=function(n,i){if(t(n),e(i)&&i.constructor===n)return i;var a=r.f(n);return(0,a.resolve)(i),a.promise},yh}function Sh(t,e,r,n,i,a,s){try{var o=t[a](s),u=o.value}catch(t){return void r(t)}o.done?e(u):Promise.resolve(u).then(n,i)}function Ah(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function s(t){Sh(a,n,i,s,o,"next",t)}function o(t){Sh(a,n,i,s,o,"throw",t)}s(void 0)})}}xh||(xh=1,function(){if(Lu)return wn;Lu=1;var t,e,r,n,i=au(),a=ga(),s=ou(),o=Tn(),u=uu(),h=Dn(),l=os(),c=cu(),f=fu(),d=pu(),p=zi(),g=Pi(),m=Mi(),y=gu(),v=bu(),b=Ou().set,x=Nu(),w=Pu(),T=Mu(),S=ku(),A=as(),E=Ru(),_=Iu(),O=Vu(),C="Promise",k=_.CONSTRUCTOR,N=_.REJECTION_EVENT,P=_.SUBCLASSING,M=A.getterFor(C),R=A.set,I=E&&E.prototype,D=E,L=I,U=o.TypeError,V=o.document,B=o.process,F=O.f,z=F,j=!!(V&&V.createEvent&&o.dispatchEvent),H="unhandledrejection",X=function(t){var e;return!(!m(t)||!g(e=t.then))&&e},Y=function(t,e){var r,n,i,a=e.value,s=1===e.state,o=s?t.ok:t.fail,u=t.resolve,l=t.reject,c=t.domain;try{o?(s||(2===e.rejection&&Z(e),e.rejection=1),!0===o?r=a:(c&&c.enter(),r=o(a),c&&(c.exit(),i=!0)),r===t.promise?l(new U("Promise-chain cycle")):(n=X(r))?h(n,r,u,l):u(r)):l(a)}catch(f){c&&!i&&c.exit(),l(f)}},W=function(t,e){t.notified||(t.notified=!0,x(function(){for(var r,n=t.reactions;r=n.get();)Y(r,t);t.notified=!1,e&&!t.rejection&&G(t)}))},$=function(t,e,r){var n,i;j?((n=V.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),o.dispatchEvent(n)):n={promise:e,reason:r},!N&&(i=o["on"+t])?i(n):t===H&&w("Unhandled promise rejection",r)},G=function(t){h(b,o,function(){var e,r=t.facade,n=t.value;if(q(t)&&(e=T(function(){s?B.emit("unhandledRejection",n,r):$(H,r,n)}),t.rejection=s||q(t)?2:1,e.error))throw e.value})},q=function(t){return 1!==t.rejection&&!t.parent},Z=function(t){h(b,o,function(){var e=t.facade;s?B.emit("rejectionHandled",e):$("rejectionhandled",e,t.value)})},Q=function(t,e,r){return function(n){t(e,n,r)}},K=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=2,W(t,!0))},J=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw new U("Promise can't be resolved itself");var n=X(e);n?x(function(){var r={done:!1};try{h(n,e,Q(J,r,t),Q(K,r,t))}catch(i){K(r,i,t)}}):(t.value=e,t.state=1,W(t,!1))}catch(i){K({done:!1},i,t)}}};if(k&&(L=(D=function(e){y(this,L),p(e),h(t,this);var r=M(this);try{e(Q(J,r),Q(K,r))}catch(n){K(r,n)}}).prototype,(t=function(t){R(this,{type:C,done:!1,notified:!1,parent:!1,reactions:new S,rejection:!1,state:0,value:null})}).prototype=l(L,"then",function(t,e){var r=M(this),n=F(v(this,D));return r.parent=!0,n.ok=!g(t)||t,n.fail=g(e)&&e,n.domain=s?B.domain:void 0,0===r.state?r.reactions.add(n):x(function(){Y(n,r)}),n.promise}),e=function(){var e=new t,r=M(e);this.promise=e,this.resolve=Q(J,r),this.reject=Q(K,r)},O.f=F=function(t){return t===D||t===r?new e(t):z(t)},!a&&g(E)&&I!==Object.prototype)){n=I.then,P||l(I,"then",function(t,e){var r=this;return new D(function(t,e){h(n,r,t,e)}).then(t,e)},{unsafe:!0});try{delete I.constructor}catch(tt){}c&&c(I,L)}i({global:!0,constructor:!0,wrap:!0,forced:k},{Promise:D}),r=u.Promise,f(D,C,!1,!0),d(C)}(),function(){if(eh)return rh;eh=1;var t=au(),e=Dn(),r=zi(),n=Vu(),i=Mu(),a=uh();t({target:"Promise",stat:!0,forced:lh()},{all:function(t){var s=this,o=n.f(s),u=o.resolve,h=o.reject,l=i(function(){var n=r(s.resolve),i=[],o=0,l=1;a(t,function(t){var r=o++,a=!1;l++,e(n,s,t).then(function(t){a||(a=!0,i[r]=t,--l||u(i))},h)}),--l||u(i)});return l.error&&h(l.value),o.promise}})}(),function(){if(ch)return fh;ch=1;var t=au(),e=ga(),r=Iu().CONSTRUCTOR,n=Ru(),i=Ri(),a=Pi(),s=os(),o=n&&n.prototype;if(t({target:"Promise",proto:!0,forced:r,real:!0},{catch:function(t){return this.then(void 0,t)}}),!e&&a(n)){var u=i("Promise").prototype.catch;o.catch!==u&&s(o,"catch",u,{unsafe:!0})}}(),function(){if(dh)return ph;dh=1;var t=au(),e=Dn(),r=zi(),n=Vu(),i=Mu(),a=uh();t({target:"Promise",stat:!0,forced:lh()},{race:function(t){var s=this,o=n.f(s),u=o.reject,h=i(function(){var n=r(s.resolve);a(t,function(t){e(n,s,t).then(o.resolve,u)})});return h.error&&u(h.value),o.promise}})}(),function(){if(gh)return mh;gh=1;var t=au(),e=Vu();t({target:"Promise",stat:!0,forced:Iu().CONSTRUCTOR},{reject:function(t){var r=e.f(this);return(0,r.reject)(t),r.promise}})}(),function(){if(bh)return wh;bh=1;var t=au(),e=Ri(),r=ga(),n=Ru(),i=Iu().CONSTRUCTOR,a=Th(),s=e("Promise"),o=r&&!i;t({target:"Promise",stat:!0,forced:r||i},{resolve:function(t){return a(o&&this===s?n:this,t)}})}());var Eh,_h,Oh,Ch,kh,Nh,Ph={},Mh={};function Rh(){if(_h)return Eh;_h=1;var t=mu(),e=String;return Eh=function(r){if("Symbol"===t(r))throw new TypeError("Cannot convert a Symbol value to a string");return e(r)}}function Ih(){if(Ch)return Oh;Ch=1;var t=La();return Oh=function(){var e=t(this),r="";return e.hasIndices&&(r+="d"),e.global&&(r+="g"),e.ignoreCase&&(r+="i"),e.multiline&&(r+="m"),e.dotAll&&(r+="s"),e.unicode&&(r+="u"),e.unicodeSets&&(r+="v"),e.sticky&&(r+="y"),r}}function Dh(){if(Nh)return kh;Nh=1;var t=Mn(),e=Tn().RegExp,r=t(function(){var t=e("a","y");return t.lastIndex=2,null!==t.exec("abcd")}),n=r||t(function(){return!e("a","y").sticky}),i=r||t(function(){var t=e("^r","gy");return t.lastIndex=2,null!==t.exec("str")});return kh={BROKEN_CARET:i,MISSED_STICKY:n,UNSUPPORTED_Y:r}}var Lh,Uh,Vh,Bh,Fh,zh,jh,Hh,Xh,Yh,Wh,$h,Gh,qh,Zh,Qh,Kh,Jh,tl,el,rl,nl,il,al,sl,ol={};function ul(){if(Uh)return Lh;Uh=1;var t=Ps(),e=Ms();return Lh=Object.keys||function(r){return t(r,e)},Lh}function hl(){if(Fh)return Bh;Fh=1;var t,e=La(),r=function(){if(Vh)return ol;Vh=1;var t=Rn(),e=Da(),r=Ua(),n=La(),i=Ni(),a=ul();return ol.f=t&&!e?Object.defineProperties:function(t,e){n(t);for(var s,o=i(e),u=a(e),h=u.length,l=0;h>l;)r.f(t,s=u[l++],o[s]);return t},ol}(),n=Ms(),i=is(),a=Su(),s=Aa(),o=ns(),u="prototype",h="script",l=o("IE_PROTO"),c=function(){},f=function(t){return"<"+h+">"+t+"</"+h+">"},d=function(t){t.write(f("")),t.close();var e=t.parentWindow.Object;return t=null,e},p=function(){try{t=new ActiveXObject("htmlfile")}catch(l){}var e,r,i;p="undefined"!=typeof document?document.domain&&t?d(t):(r=s("iframe"),i="java"+h+":",r.style.display="none",a.appendChild(r),r.src=String(i),(e=r.contentWindow.document).open(),e.write(f("document.F=Object")),e.close(),e.F):d(t);for(var o=n.length;o--;)delete p[u][n[o]];return p()};return i[l]=!0,Bh=Object.create||function(t,n){var i;return null!==t?(c[u]=e(t),i=new c,c[u]=null,i[l]=t):i=p(),void 0===n?i:r.f(i,n)},Bh}function ll(){if(Wh)return Yh;Wh=1;var t,e,r=Dn(),n=Ei(),i=Rh(),a=Ih(),s=Dh(),o=va(),u=hl(),h=as().get,l=function(){if(jh)return zh;jh=1;var t=Mn(),e=Tn().RegExp;return zh=t(function(){var t=e(".","s");return!(t.dotAll&&t.test("\n")&&"s"===t.flags)})}(),c=function(){if(Xh)return Hh;Xh=1;var t=Mn(),e=Tn().RegExp;return Hh=t(function(){var t=e("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")})}(),f=o("native-string-replace",String.prototype.replace),d=RegExp.prototype.exec,p=d,g=n("".charAt),m=n("".indexOf),y=n("".replace),v=n("".slice),b=(e=/b*/g,r(d,t=/a/,"a"),r(d,e,"a"),0!==t.lastIndex||0!==e.lastIndex),x=s.BROKEN_CARET,w=void 0!==/()??/.exec("")[1];return(b||w||x||l||c)&&(p=function(t){var e,n,s,o,l,c,T,S=this,A=h(S),E=i(t),_=A.raw;if(_)return _.lastIndex=S.lastIndex,e=r(p,_,E),S.lastIndex=_.lastIndex,e;var O=A.groups,C=x&&S.sticky,k=r(a,S),N=S.source,P=0,M=E;if(C&&(k=y(k,"y",""),-1===m(k,"g")&&(k+="g"),M=v(E,S.lastIndex),S.lastIndex>0&&(!S.multiline||S.multiline&&"\n"!==g(E,S.lastIndex-1))&&(N="(?: "+N+")",M=" "+M,P++),n=new RegExp("^(?:"+N+")",k)),w&&(n=new RegExp("^"+N+"$(?!\\s)",k)),b&&(s=S.lastIndex),o=r(d,C?n:S,M),C?o?(o.input=v(o.input,P),o[0]=v(o[0],P),o.index=S.lastIndex,S.lastIndex+=o[0].length):S.lastIndex=0:b&&o&&(S.lastIndex=S.global?o.index+o[0].length:s),w&&o&&o.length>1&&r(f,o[0],n,function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(o[l]=void 0)}),o&&O)for(o.groups=c=u(null),l=0;l<O.length;l++)c[(T=O[l])[0]]=o[T[1]];return o}),Yh=p}function cl(){if(qh)return Gh;qh=1,function(){if($h)return Mh;$h=1;var t=au(),e=ll();t({target:"RegExp",proto:!0,forced:/./.exec!==e},{exec:e})}();var t=Dn(),e=os(),r=ll(),n=Mn(),i=Ta(),a=Va(),s=i("species"),o=RegExp.prototype;return Gh=function(u,h,l,c){var f=i(u),d=!n(function(){var t={};return t[f]=function(){return 7},7!==""[u](t)}),p=d&&!n(function(){var t=!1,e=/a/;if("split"===u){var r={};r[s]=function(){return e},(e={constructor:r,flags:""})[f]=/./[f]}return e.exec=function(){return t=!0,null},e[f](""),!t});if(!d||!p||l){var g=/./[f],m=h(f,""[u],function(e,n,i,a,s){var u=n.exec;return u===r||u===o.exec?d&&!s?{done:!0,value:t(g,n,i,a)}:{done:!0,value:t(e,i,n,a)}:{done:!1}});e(String.prototype,u,m[0]),e(o,f,m[1])}c&&a(o[f],"sham",!0)},Gh}function fl(){if(Jh)return Kh;Jh=1;var t=function(){if(Qh)return Zh;Qh=1;var t=Ei(),e=_s(),r=Rh(),n=ki(),i=t("".charAt),a=t("".charCodeAt),s=t("".slice),o=function(t){return function(o,u){var h,l,c=r(n(o)),f=e(u),d=c.length;return f<0||f>=d?t?"":void 0:(h=a(c,f))<55296||h>56319||f+1===d||(l=a(c,f+1))<56320||l>57343?t?i(c,f):h:t?s(c,f,f+2):l-56320+(h-55296<<10)+65536}};return Zh={codeAt:o(!1),charAt:o(!0)}}().charAt;return Kh=function(e,r,n){return r+(n?t(e,r).length:1)},Kh}function dl(){if(nl)return rl;nl=1;var t=Dn(),e=xa(),r=Ii(),n=function(){if(el)return tl;el=1;var t=Tn(),e=Mn(),r=t.RegExp,n=!e(function(){var t=!0;try{r(".","d")}catch(u){t=!1}var e={},n="",i=t?"dgimsy":"gimsy",a=function(t,r){Object.defineProperty(e,t,{get:function(){return n+=r,!0}})},s={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var o in t&&(s.hasIndices="d"),s)a(o,s[o]);return Object.getOwnPropertyDescriptor(r.prototype,"flags").get.call(e)!==i||n!==i});return tl={correct:n}}(),i=Ih(),a=RegExp.prototype;return rl=n.correct?function(t){return t.flags}:function(s){return n.correct||!r(a,s)||e(s,"flags")?s.flags:t(i,s)}}function pl(){if(al)return il;al=1;var t=Dn(),e=La(),r=Pi(),n=_i(),i=ll(),a=TypeError;return il=function(s,o){var u=s.exec;if(r(u)){var h=t(u,s,o);return null!==h&&e(h),h}if("RegExp"===n(s))return t(i,s,o);throw new a("RegExp#exec called on incompatible receiver")}}!function(){if(sl)return Ph;sl=1;var t=Dn(),e=Ei(),r=cl(),n=La(),i=Mi(),a=Cs(),s=Rh(),o=ki(),u=ji(),h=fl(),l=dl(),c=pl(),f=e("".indexOf);r("match",function(e,r,d){return[function(r){var n=o(this),a=i(r)?u(r,e):void 0;return a?t(a,r,n):new RegExp(r)[e](s(n))},function(t){var e=n(this),i=s(t),o=d(r,e,i);if(o.done)return o.value;var u=s(l(e));if(-1===f(u,"g"))return c(e,i);var p=-1!==f(u,"u");e.lastIndex=0;for(var g,m=[],y=0;null!==(g=c(e,i));){var v=s(g[0]);m[y]=v,""===v&&(e.lastIndex=h(i,a(e.lastIndex),p)),y++}return 0===y?null:m}]})}();var gl,ml,yl,vl={};function bl(){if(ml)return gl;ml=1;var t=Ei(),e=ba(),r=Math.floor,n=t("".charAt),i=t("".replace),a=t("".slice),s=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,o=/\$([$&'`]|\d{1,2})/g;return gl=function(t,u,h,l,c,f){var d=h+t.length,p=l.length,g=o;return void 0!==c&&(c=e(c),g=s),i(f,g,function(e,i){var s;switch(n(i,0)){case"$":return"$";case"&":return t;case"`":return a(u,0,h);case"'":return a(u,d);case"<":s=c[a(i,1,-1)];break;default:var o=+i;if(0===o)return e;if(o>p){var f=r(o/10);return 0===f?e:f<=p?void 0===l[f-1]?n(i,1):l[f-1]+n(i,1):e}s=l[o-1]}return void 0===s?"":s})},gl}!function(){if(yl)return vl;yl=1;var t=xu(),e=Dn(),r=Ei(),n=cl(),i=Mn(),a=La(),s=Pi(),o=Mi(),u=_s(),h=Cs(),l=Rh(),c=ki(),f=fl(),d=ji(),p=bl(),g=dl(),m=pl(),y=Ta()("replace"),v=Math.max,b=Math.min,x=r([].concat),w=r([].push),T=r("".indexOf),S=r("".slice),A=function(t){return void 0===t?t:String(t)},E="$0"==="a".replace(/./,"$0"),_=!!/./[y]&&""===/./[y]("a","$0");n("replace",function(r,n,i){var E=_?"$":"$0";return[function(t,r){var i=c(this),a=o(t)?d(t,y):void 0;return a?e(a,t,i,r):e(n,l(i),t,r)},function(e,r){var o=a(this),c=l(e);if("string"==typeof r&&-1===T(r,E)&&-1===T(r,"$<")){var d=i(n,o,c,r);if(d.done)return d.value}var y=s(r);y||(r=l(r));var _,O=l(g(o)),C=-1!==T(O,"g");C&&(_=-1!==T(O,"u"),o.lastIndex=0);for(var k,N=[];null!==(k=m(o,c))&&(w(N,k),C);){""===l(k[0])&&(o.lastIndex=f(c,h(o.lastIndex),_))}for(var P="",M=0,R=0;R<N.length;R++){for(var I,D=l((k=N[R])[0]),L=v(b(u(k.index),c.length),0),U=[],V=1;V<k.length;V++)w(U,A(k[V]));var B=k.groups;if(y){var F=x([D],U,L,c);void 0!==B&&w(F,B),I=l(t(r,void 0,F))}else I=p(D,c,L,U,B,r);L>=M&&(P+=S(c,M,L)+I,M=L+D.length)}return P+S(c,M)}]},!!i(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})||!E||_)}();var xl,wl,Tl,Sl,Al,El,_l,Ol,Cl,kl,Nl,Pl,Ml,Rl,Il,Dl,Ll,Ul,Vl,Bl,Fl,zl,jl,Hl={};function Xl(){if(Sl)return Tl;Sl=1;var t=function(){if(wl)return xl;wl=1;var t=Mi(),e=_i(),r=Ta()("match");return xl=function(n){var i;return t(n)&&(void 0!==(i=n[r])?!!i:"RegExp"===e(n))}}(),e=TypeError;return Tl=function(r){if(t(r))throw new e("The method doesn't accept regular expressions");return r}}function Yl(){if(El)return Al;El=1;var t=Ta()("match");return Al=function(e){var r=/./;try{"/./"[e](r)}catch(n){try{return r[t]=!1,"/./"[e](r)}catch(i){}}return!1}}function Wl(){if(Cl)return Ol;Cl=1;var t=Ta(),e=hl(),r=Ua().f,n=t("unscopables"),i=Array.prototype;return void 0===i[n]&&r(i,n,{configurable:!0,value:e(null)}),Ol=function(t){i[n][t]=!0}}function $l(){if(Ml)return Pl;Ml=1;var t=xa(),e=Pi(),r=ba(),n=ns(),i=function(){if(Nl)return kl;Nl=1;var t=Mn();return kl=!t(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})}(),a=n("IE_PROTO"),s=Object,o=s.prototype;return Pl=i?s.getPrototypeOf:function(n){var i=r(n);if(t(i,a))return i[a];var u=i.constructor;return e(u)&&i instanceof u?u.prototype:i instanceof s?o:null},Pl}function Gl(){if(Il)return Rl;Il=1;var t,e,r,n=Mn(),i=Pi(),a=Mi(),s=hl(),o=$l(),u=os(),h=Ta(),l=ga(),c=h("iterator"),f=!1;return[].keys&&("next"in(r=[].keys())?(e=o(o(r)))!==Object.prototype&&(t=e):f=!0),!a(t)||n(function(){var e={};return t[c].call(e)!==e})?t={}:l&&(t=s(t)),i(t[c])||u(t,c,function(){return this}),Rl={IteratorPrototype:t,BUGGY_SAFARI_ITERATORS:f}}function ql(){if(Vl)return Ul;Vl=1;var t=au(),e=Dn(),r=ga(),n=es(),i=Pi(),a=function(){if(Ll)return Dl;Ll=1;var t=Gl().IteratorPrototype,e=hl(),r=Ai(),n=fu(),i=nh(),a=function(){return this};return Dl=function(s,o,u,h){var l=o+" Iterator";return s.prototype=e(t,{next:r(+!h,u)}),n(s,l,!1,!0),i[l]=a,s},Dl}(),s=$l(),o=cu(),u=fu(),h=Va(),l=os(),c=Ta(),f=nh(),d=Gl(),p=n.PROPER,g=n.CONFIGURABLE,m=d.IteratorPrototype,y=d.BUGGY_SAFARI_ITERATORS,v=c("iterator"),b="keys",x="values",w="entries",T=function(){return this};return Ul=function(n,c,d,S,A,E,_){a(d,c,S);var O,C,k,N=function(t){if(t===A&&D)return D;if(!y&&t&&t in R)return R[t];switch(t){case b:case x:case w:return function(){return new d(this,t)}}return function(){return new d(this)}},P=c+" Iterator",M=!1,R=n.prototype,I=R[v]||R["@@iterator"]||A&&R[A],D=!y&&I||N(A),L="Array"===c&&R.entries||I;if(L&&(O=s(L.call(new n)))!==Object.prototype&&O.next&&(r||s(O)===m||(o?o(O,m):i(O[v])||l(O,v,T)),u(O,P,!0,!0),r&&(f[P]=T)),p&&A===x&&I&&I.name!==x&&(!r&&g?h(R,"name",x):(M=!0,D=function(){return e(I,this)})),A)if(C={values:N(x),keys:E?D:N(b),entries:N(w)},_)for(k in C)(y||M||!(k in R))&&l(R,k,C[k]);else t({target:c,proto:!0,forced:y||M},C);return r&&!_||R[v]===D||l(R,v,D,{name:A}),f[c]=D,C},Ul}function Zl(){return Fl?Bl:(Fl=1,Bl=function(t,e){return{value:t,done:e}})}function Ql(){if(jl)return zl;jl=1;var t=Ni(),e=Wl(),r=nh(),n=as(),i=Ua().f,a=ql(),s=Zl(),o=ga(),u=Rn(),h="Array Iterator",l=n.set,c=n.getterFor(h);zl=a(Array,"Array",function(e,r){l(this,{type:h,target:t(e),index:0,kind:r})},function(){var t=c(this),e=t.target,r=t.index++;if(!e||r>=e.length)return t.target=null,s(void 0,!0);switch(t.kind){case"keys":return s(r,!1);case"values":return s(e[r],!1)}return s([r,e[r]],!1)},"values");var f=r.Arguments=r.Array;if(e("keys"),e("values"),e("entries"),!o&&u&&"values"!==f.name)try{i(f,"name",{value:"values"})}catch(d){}return zl}!function(){if(_l)return Hl;_l=1;var t,e=au(),r=wu(),n=_a().f,i=Cs(),a=Rh(),s=Xl(),o=ki(),u=Yl(),h=ga(),l=r("".slice),c=Math.min,f=u("startsWith");e({target:"String",proto:!0,forced:!!(h||f||(t=n(String.prototype,"startsWith"),!t||t.writable))&&!f},{startsWith:function(t){var e=a(o(this));s(t);var r=i(c(arguments.length>1?arguments[1]:void 0,e.length)),n=a(t);return l(e,r,r+n.length)===n}})}(),Ql();var Kl,Jl,tc,ec,rc,nc={};function ic(t){var e=function(t,e){if("object"!=c(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e);if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==c(e)?e:e+""}function ac(t,e,r){return(e=ic(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}!function(){if(rc)return nc;rc=1;var t=Tn(),e=Jl?Kl:(Jl=1,Kl={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),r=function(){if(ec)return tc;ec=1;var t=Aa()("span").classList,e=t&&t.constructor&&t.constructor.prototype;return tc=e===Object.prototype?void 0:e}(),n=Ql(),i=Va(),a=fu(),s=Ta()("iterator"),o=n.values,u=function(t,r){if(t){if(t[s]!==o)try{i(t,s,o)}catch(h){t[s]=o}if(a(t,r,!0),e[r])for(var u in n)if(t[u]!==n[u])try{i(t,u,n[u])}catch(h){t[u]=n[u]}}};for(var h in e)u(t[h]&&t[h].prototype,h);u(r,"DOMTokenList")}();var sc,oc,uc,hc,lc,cc={};function fc(){if(hc)return uc;hc=1;var t=Mn();return uc=function(e,r){var n=[][e];return!!n&&t(function(){n.call(null,r||function(){return 1},1)})}}!function(){if(lc)return cc;lc=1;var t=au(),e=function(){if(oc)return sc;oc=1;var t=zi(),e=ba(),r=Oi(),n=ks(),i=TypeError,a="Reduce of empty array with no initial value",s=function(s){return function(o,u,h,l){var c=e(o),f=r(c),d=n(c);if(t(u),0===d&&h<2)throw new i(a);var p=s?d-1:0,g=s?-1:1;if(h<2)for(;;){if(p in f){l=f[p],p+=g;break}if(p+=g,s?p<0:d<=p)throw new i(a)}for(;s?p>=0:d>p;p+=g)p in f&&(l=u(l,f[p],p,c));return l}};return sc={left:s(!1),right:s(!0)}}().left,r=fc(),n=Li();t({target:"Array",proto:!0,forced:!ou()&&n>79&&n<83||!r("reduce")},{reduce:function(t){var r=arguments.length;return e(this,t,r,r>1?arguments[1]:void 0)}})}();var dc,pc={};!function(){if(dc)return pc;dc=1;var t,e=au(),r=wu(),n=_a().f,i=Cs(),a=Rh(),s=Xl(),o=ki(),u=Yl(),h=ga(),l=r("".slice),c=Math.min,f=u("endsWith");e({target:"String",proto:!0,forced:!!(h||f||(t=n(String.prototype,"endsWith"),!t||t.writable))&&!f},{endsWith:function(t){var e=a(o(this));s(t);var r=arguments.length>1?arguments[1]:void 0,n=e.length,u=void 0===r?n:c(i(r),n),h=a(t);return l(e,u-h.length,u)===h}})}();var gc,mc={};!function(){if(gc)return mc;gc=1;var t=Dn(),e=Ei(),r=cl(),n=La(),i=Mi(),a=ki(),s=bu(),o=fl(),u=Cs(),h=Rh(),l=ji(),c=pl(),f=Dh(),d=Mn(),p=f.UNSUPPORTED_Y,g=Math.min,m=e([].push),y=e("".slice),v=!d(function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}),b="c"==="abbc".split(/(b)*/)[1]||4!=="test".split(/(?:)/,-1).length||2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length;r("split",function(e,r,f){var d="0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t(r,this,e,n)}:r;return[function(r,n){var s=a(this),o=i(r)?l(r,e):void 0;return o?t(o,r,s,n):t(d,h(s),r,n)},function(t,e){var i=n(this),a=h(t);if(!b){var l=f(d,i,a,e,d!==r);if(l.done)return l.value}var v=s(i,RegExp),x=i.unicode,w=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(p?"g":"y"),T=new v(p?"^(?:"+i.source+")":i,w),S=void 0===e?4294967295:e>>>0;if(0===S)return[];if(0===a.length)return null===c(T,a)?[a]:[];for(var A=0,E=0,_=[];E<a.length;){T.lastIndex=p?0:E;var O,C=c(T,p?y(a,E):a);if(null===C||(O=g(u(T.lastIndex+(p?E:0)),a.length))===A)E=o(a,E,x);else{if(m(_,y(a,A,E)),_.length===S)return _;for(var k=1;k<=C.length-1;k++)if(m(_,C[k]),_.length===S)return _;E=A=O}}return m(_,y(a,A)),_}]},b||!v,p)}();var yc,vc,bc={exports:{}},xc={exports:{}},wc=xc.exports;var Tc=function(){if(vc)return bc.exports;vc=1;for(var e=(yc||(yc=1,function(){var t,e,r,n,i,a;"undefined"!=typeof performance&&null!==performance&&performance.now?xc.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(xc.exports=function(){return(t()-i)/1e6},e=process.hrtime,n=(t=function(){var t;return 1e9*(t=e())[0]+t[1]})(),a=1e9*process.uptime(),i=n-a):Date.now?(xc.exports=function(){return Date.now()-r},r=Date.now()):(xc.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}.call(wc)),xc.exports),r="undefined"==typeof window?t:window,n=["moz","webkit"],i="AnimationFrame",a=r["request"+i],s=r["cancel"+i]||r["cancelRequest"+i],o=0;!a&&o<n.length;o++)a=r[n[o]+"Request"+i],s=r[n[o]+"Cancel"+i]||r[n[o]+"CancelRequest"+i];if(!a||!s){var u=0,h=0,l=[],c=1e3/60;a=function(t){if(0===l.length){var r=e(),n=Math.max(0,c-(r-u));u=n+r,setTimeout(function(){var t=l.slice(0);l.length=0;for(var e=0;e<t.length;e++)if(!t[e].cancelled)try{t[e].callback(u)}catch(Cp){setTimeout(function(){throw Cp},0)}},Math.round(n))}return l.push({handle:++h,callback:t,cancelled:!1}),h},s=function(t){for(var e=0;e<l.length;e++)l[e].handle===t&&(l[e].cancelled=!0)}}return bc.exports=function(t){return a.call(r,t)},bc.exports.cancel=function(){s.apply(r,arguments)},bc.exports.polyfill=function(t){t||(t=r),t.requestAnimationFrame=a,t.cancelAnimationFrame=s},bc.exports}();const Sc=e(Tc);var Ac,Ec,_c,Oc,Cc,kc,Nc,Pc,Mc,Rc={};function Ic(){return Ec?Ac:(Ec=1,Ac="\t\n\v\f\r \u2028\u2029\ufeff")}!function(){if(Nc)return Rc;Nc=1;var t=au(),e=function(){if(Oc)return _c;Oc=1;var t=Ei(),e=ki(),r=Rh(),n=Ic(),i=t("".replace),a=RegExp("^["+n+"]+"),s=RegExp("(^|[^"+n+"])["+n+"]+$"),o=function(t){return function(n){var o=r(e(n));return 1&t&&(o=i(o,a,"")),2&t&&(o=i(o,s,"$1")),o}};return _c={start:o(1),end:o(2),trim:o(3)}}().trim,r=function(){if(kc)return Cc;kc=1;var t=es().PROPER,e=Mn(),r=Ic();return Cc=function(n){return e(function(){return!!r[n]()||""!==""[n]()||t&&r[n].name!==n})}}();t({target:"String",proto:!0,forced:r("trim")},{trim:function(){return e(this)}})}();var Dc=(Mc||(Mc=1,Pc=function(t){this.ok=!1,this.alpha=1,"#"==t.charAt(0)&&(t=t.substr(1,6)),t=(t=t.replace(/ /g,"")).toLowerCase();var e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};t=e[t]||t;for(var r=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3]),parseFloat(t[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]}},{re:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,example:["#00ff00","336699"],process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,example:["#fb0","f0f"],process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,a=r[n].process,s=i.exec(t);if(s){var o=a(s);this.r=o[0],this.g=o[1],this.b=o[2],o.length>3&&(this.alpha=o[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var t=this.r.toString(16),e=this.g.toString(16),r=this.b.toString(16);return 1==t.length&&(t="0"+t),1==e.length&&(e="0"+e),1==r.length&&(r="0"+r),"#"+t+e+r},this.getHelpXML=function(){for(var t=new Array,n=0;n<r.length;n++)for(var i=r[n].example,a=0;a<i.length;a++)t[t.length]=i[a];for(var s in e)t[t.length]=s;var o=document.createElement("ul");for(o.setAttribute("id","rgbcolor-examples"),n=0;n<t.length;n++)try{var u=document.createElement("li"),h=new RGBColor(t[n]),l=document.createElement("div");l.style.cssText="margin: 3px; border: 1px solid black; background:"+h.toHex()+"; color:"+h.toHex(),l.appendChild(document.createTextNode("test"));var c=document.createTextNode(" "+t[n]+" -> "+h.toRGB()+" -> "+h.toHex());u.appendChild(l),u.appendChild(c),o.appendChild(u)}catch(Cp){}return o}}),Pc);const Lc=e(Dc);var Uc,Vc={};!function(){if(Uc)return Vc;Uc=1;var t=au(),e=wu(),r=Ns().indexOf,n=fc(),i=e([].indexOf),a=!!i&&1/i([1],1,-0)<0;t({target:"Array",proto:!0,forced:a||!n("indexOf")},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return a?i(this,t,e)||0:r(this,t,e)}})}();var Bc,Fc={};!function(){if(Bc)return Fc;Bc=1;var t=au(),e=Ei(),r=Xl(),n=ki(),i=Rh(),a=Yl(),s=e("".indexOf);t({target:"String",proto:!0,forced:!a("includes")},{includes:function(t){return!!~s(i(n(this)),i(r(t)),arguments.length>1?arguments[1]:void 0)}})}();var zc,jc,Hc,Xc={};function Yc(){if(jc)return zc;jc=1;var t=_i();return zc=Array.isArray||function(e){return"Array"===t(e)}}!function(){if(Hc)return Xc;Hc=1;var t=au(),e=Ei(),r=Yc(),n=e([].reverse),i=[1,2];t({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),n(this)}})}();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var Wc=function(t,e){return(Wc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)};function $c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}Wc(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function Gc(t,e){var r=t[0],n=t[1];return[r*Math.cos(e)-n*Math.sin(e),r*Math.sin(e)+n*Math.cos(e)]}function qc(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=0;r<t.length;r++)if("number"!=typeof t[r])throw new Error("assertNumbers arguments["+r+"] is not a number. "+typeof t[r]+" == typeof "+t[r]);return!0}var Zc=Math.PI;function Qc(t,e,r){t.lArcFlag=0===t.lArcFlag?0:1,t.sweepFlag=0===t.sweepFlag?0:1;var n=t.rX,i=t.rY,a=t.x,s=t.y;n=Math.abs(t.rX),i=Math.abs(t.rY);var o=Gc([(e-a)/2,(r-s)/2],-t.xRot/180*Zc),u=o[0],h=o[1],l=Math.pow(u,2)/Math.pow(n,2)+Math.pow(h,2)/Math.pow(i,2);1<l&&(n*=Math.sqrt(l),i*=Math.sqrt(l)),t.rX=n,t.rY=i;var c=Math.pow(n,2)*Math.pow(h,2)+Math.pow(i,2)*Math.pow(u,2),f=(t.lArcFlag!==t.sweepFlag?1:-1)*Math.sqrt(Math.max(0,(Math.pow(n,2)*Math.pow(i,2)-c)/c)),d=n*h/i*f,p=-i*u/n*f,g=Gc([d,p],t.xRot/180*Zc);t.cX=g[0]+(e+a)/2,t.cY=g[1]+(r+s)/2,t.phi1=Math.atan2((h-p)/i,(u-d)/n),t.phi2=Math.atan2((-h-p)/i,(-u-d)/n),0===t.sweepFlag&&t.phi2>t.phi1&&(t.phi2-=2*Zc),1===t.sweepFlag&&t.phi2<t.phi1&&(t.phi2+=2*Zc),t.phi1*=180/Zc,t.phi2*=180/Zc}function Kc(t,e,r){qc(t,e,r);var n=t*t+e*e-r*r;if(0>n)return[];if(0===n)return[[t*r/(t*t+e*e),e*r/(t*t+e*e)]];var i=Math.sqrt(n);return[[(t*r+e*i)/(t*t+e*e),(e*r-t*i)/(t*t+e*e)],[(t*r-e*i)/(t*t+e*e),(e*r+t*i)/(t*t+e*e)]]}var Jc,tf=Math.PI/180;function ef(t,e,r){return(1-r)*t+r*e}function rf(t,e,r,n){return t+Math.cos(n/180*Zc)*e+Math.sin(n/180*Zc)*r}function nf(t,e,r,n){var i=1e-6,a=e-t,s=r-e,o=3*a+3*(n-r)-6*s,u=6*(s-a),h=3*a;return Math.abs(o)<i?[-h/u]:function(t,e,r){var n=t*t/4-e;if(n<-r)return[];if(n<=r)return[-t/2];var i=Math.sqrt(n);return[-t/2-i,-t/2+i]}(u/o,h/o,i)}function af(t,e,r,n,i){var a=1-i;return t*(a*a*a)+e*(3*a*a*i)+r*(3*a*i*i)+n*(i*i*i)}!function(t){function e(){return i(function(t,e,r){return t.relative&&(void 0!==t.x1&&(t.x1+=e),void 0!==t.y1&&(t.y1+=r),void 0!==t.x2&&(t.x2+=e),void 0!==t.y2&&(t.y2+=r),void 0!==t.x&&(t.x+=e),void 0!==t.y&&(t.y+=r),t.relative=!1),t})}function r(){var t=NaN,e=NaN,r=NaN,n=NaN;return i(function(i,a,s){return i.type&ff.SMOOTH_CURVE_TO&&(i.type=ff.CURVE_TO,t=isNaN(t)?a:t,e=isNaN(e)?s:e,i.x1=i.relative?a-t:2*a-t,i.y1=i.relative?s-e:2*s-e),i.type&ff.CURVE_TO?(t=i.relative?a+i.x2:i.x2,e=i.relative?s+i.y2:i.y2):(t=NaN,e=NaN),i.type&ff.SMOOTH_QUAD_TO&&(i.type=ff.QUAD_TO,r=isNaN(r)?a:r,n=isNaN(n)?s:n,i.x1=i.relative?a-r:2*a-r,i.y1=i.relative?s-n:2*s-n),i.type&ff.QUAD_TO?(r=i.relative?a+i.x1:i.x1,n=i.relative?s+i.y1:i.y1):(r=NaN,n=NaN),i})}function n(){var t=NaN,e=NaN;return i(function(r,n,i){if(r.type&ff.SMOOTH_QUAD_TO&&(r.type=ff.QUAD_TO,t=isNaN(t)?n:t,e=isNaN(e)?i:e,r.x1=r.relative?n-t:2*n-t,r.y1=r.relative?i-e:2*i-e),r.type&ff.QUAD_TO){t=r.relative?n+r.x1:r.x1,e=r.relative?i+r.y1:r.y1;var a=r.x1,s=r.y1;r.type=ff.CURVE_TO,r.x1=((r.relative?0:n)+2*a)/3,r.y1=((r.relative?0:i)+2*s)/3,r.x2=(r.x+2*a)/3,r.y2=(r.y+2*s)/3}else t=NaN,e=NaN;return r})}function i(t){var e=0,r=0,n=NaN,i=NaN;return function(a){if(isNaN(n)&&!(a.type&ff.MOVE_TO))throw new Error("path must start with moveto");var s=t(a,e,r,n,i);return a.type&ff.CLOSE_PATH&&(e=n,r=i),void 0!==a.x&&(e=a.relative?e+a.x:a.x),void 0!==a.y&&(r=a.relative?r+a.y:a.y),a.type&ff.MOVE_TO&&(n=e,i=r),s}}function a(t,e,r,n,a,s){return qc(t,e,r,n,a,s),i(function(i,o,u,h){var l=i.x1,c=i.x2,f=i.relative&&!isNaN(h),d=void 0!==i.x?i.x:f?0:o,p=void 0!==i.y?i.y:f?0:u;function g(t){return t*t}i.type&ff.HORIZ_LINE_TO&&0!==e&&(i.type=ff.LINE_TO,i.y=i.relative?0:u),i.type&ff.VERT_LINE_TO&&0!==r&&(i.type=ff.LINE_TO,i.x=i.relative?0:o),void 0!==i.x&&(i.x=i.x*t+p*r+(f?0:a)),void 0!==i.y&&(i.y=d*e+i.y*n+(f?0:s)),void 0!==i.x1&&(i.x1=i.x1*t+i.y1*r+(f?0:a)),void 0!==i.y1&&(i.y1=l*e+i.y1*n+(f?0:s)),void 0!==i.x2&&(i.x2=i.x2*t+i.y2*r+(f?0:a)),void 0!==i.y2&&(i.y2=c*e+i.y2*n+(f?0:s));var m=t*n-e*r;if(void 0!==i.xRot&&(1!==t||0!==e||0!==r||1!==n))if(0===m)delete i.rX,delete i.rY,delete i.xRot,delete i.lArcFlag,delete i.sweepFlag,i.type=ff.LINE_TO;else{var y=i.xRot*Math.PI/180,v=Math.sin(y),b=Math.cos(y),x=1/g(i.rX),w=1/g(i.rY),T=g(b)*x+g(v)*w,S=2*v*b*(x-w),A=g(v)*x+g(b)*w,E=T*n*n-S*e*n+A*e*e,_=S*(t*n+e*r)-2*(T*r*n+A*t*e),O=T*r*r-S*t*r+A*t*t,C=(Math.atan2(_,E-O)+Math.PI)%Math.PI/2,k=Math.sin(C),N=Math.cos(C);i.rX=Math.abs(m)/Math.sqrt(E*g(N)+_*k*N+O*g(k)),i.rY=Math.abs(m)/Math.sqrt(E*g(k)-_*k*N+O*g(N)),i.xRot=180*C/Math.PI}return void 0!==i.sweepFlag&&0>m&&(i.sweepFlag=+!i.sweepFlag),i})}t.ROUND=function(t){function e(e){return Math.round(e*t)/t}return void 0===t&&(t=1e13),qc(t),function(t){return void 0!==t.x1&&(t.x1=e(t.x1)),void 0!==t.y1&&(t.y1=e(t.y1)),void 0!==t.x2&&(t.x2=e(t.x2)),void 0!==t.y2&&(t.y2=e(t.y2)),void 0!==t.x&&(t.x=e(t.x)),void 0!==t.y&&(t.y=e(t.y)),void 0!==t.rX&&(t.rX=e(t.rX)),void 0!==t.rY&&(t.rY=e(t.rY)),t}},t.TO_ABS=e,t.TO_REL=function(){return i(function(t,e,r){return t.relative||(void 0!==t.x1&&(t.x1-=e),void 0!==t.y1&&(t.y1-=r),void 0!==t.x2&&(t.x2-=e),void 0!==t.y2&&(t.y2-=r),void 0!==t.x&&(t.x-=e),void 0!==t.y&&(t.y-=r),t.relative=!0),t})},t.NORMALIZE_HVZ=function(t,e,r){return void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===r&&(r=!0),i(function(n,i,a,s,o){if(isNaN(s)&&!(n.type&ff.MOVE_TO))throw new Error("path must start with moveto");return e&&n.type&ff.HORIZ_LINE_TO&&(n.type=ff.LINE_TO,n.y=n.relative?0:a),r&&n.type&ff.VERT_LINE_TO&&(n.type=ff.LINE_TO,n.x=n.relative?0:i),t&&n.type&ff.CLOSE_PATH&&(n.type=ff.LINE_TO,n.x=n.relative?s-i:s,n.y=n.relative?o-a:o),n.type&ff.ARC&&(0===n.rX||0===n.rY)&&(n.type=ff.LINE_TO,delete n.rX,delete n.rY,delete n.xRot,delete n.lArcFlag,delete n.sweepFlag),n})},t.NORMALIZE_ST=r,t.QT_TO_C=n,t.INFO=i,t.SANITIZE=function(t){void 0===t&&(t=0),qc(t);var e=NaN,r=NaN,n=NaN,a=NaN;return i(function(i,s,o,u,h){var l=Math.abs,c=!1,f=0,d=0;if(i.type&ff.SMOOTH_CURVE_TO&&(f=isNaN(e)?0:s-e,d=isNaN(r)?0:o-r),i.type&(ff.CURVE_TO|ff.SMOOTH_CURVE_TO)?(e=i.relative?s+i.x2:i.x2,r=i.relative?o+i.y2:i.y2):(e=NaN,r=NaN),i.type&ff.SMOOTH_QUAD_TO?(n=isNaN(n)?s:2*s-n,a=isNaN(a)?o:2*o-a):i.type&ff.QUAD_TO?(n=i.relative?s+i.x1:i.x1,a=i.relative?o+i.y1:i.y2):(n=NaN,a=NaN),i.type&ff.LINE_COMMANDS||i.type&ff.ARC&&(0===i.rX||0===i.rY||!i.lArcFlag)||i.type&ff.CURVE_TO||i.type&ff.SMOOTH_CURVE_TO||i.type&ff.QUAD_TO||i.type&ff.SMOOTH_QUAD_TO){var p=void 0===i.x?0:i.relative?i.x:i.x-s,g=void 0===i.y?0:i.relative?i.y:i.y-o;f=isNaN(n)?void 0===i.x1?f:i.relative?i.x:i.x1-s:n-s,d=isNaN(a)?void 0===i.y1?d:i.relative?i.y:i.y1-o:a-o;var m=void 0===i.x2?0:i.relative?i.x:i.x2-s,y=void 0===i.y2?0:i.relative?i.y:i.y2-o;l(p)<=t&&l(g)<=t&&l(f)<=t&&l(d)<=t&&l(m)<=t&&l(y)<=t&&(c=!0)}return i.type&ff.CLOSE_PATH&&l(s-u)<=t&&l(o-h)<=t&&(c=!0),c?[]:i})},t.MATRIX=a,t.ROTATE=function(t,e,r){void 0===e&&(e=0),void 0===r&&(r=0),qc(t,e,r);var n=Math.sin(t),i=Math.cos(t);return a(i,n,-n,i,e-e*i+r*n,r-e*n-r*i)},t.TRANSLATE=function(t,e){return void 0===e&&(e=0),qc(t,e),a(1,0,0,1,t,e)},t.SCALE=function(t,e){return void 0===e&&(e=t),qc(t,e),a(t,0,0,e,0,0)},t.SKEW_X=function(t){return qc(t),a(1,0,Math.atan(t),1,0,0)},t.SKEW_Y=function(t){return qc(t),a(1,Math.atan(t),0,1,0,0)},t.X_AXIS_SYMMETRY=function(t){return void 0===t&&(t=0),qc(t),a(-1,0,0,1,t,0)},t.Y_AXIS_SYMMETRY=function(t){return void 0===t&&(t=0),qc(t),a(1,0,0,-1,0,t)},t.A_TO_C=function(){return i(function(t,e,r){return ff.ARC===t.type?function(t,e,r){var n,i,a,s;t.cX||Qc(t,e,r);for(var o=Math.min(t.phi1,t.phi2),u=Math.max(t.phi1,t.phi2)-o,h=Math.ceil(u/90),l=new Array(h),c=e,f=r,d=0;d<h;d++){var p=ef(t.phi1,t.phi2,d/h),g=ef(t.phi1,t.phi2,(d+1)/h),m=g-p,y=4/3*Math.tan(m*tf/4),v=[Math.cos(p*tf)-y*Math.sin(p*tf),Math.sin(p*tf)+y*Math.cos(p*tf)],b=v[0],x=v[1],w=[Math.cos(g*tf),Math.sin(g*tf)],T=w[0],S=w[1],A=[T+y*Math.sin(g*tf),S-y*Math.cos(g*tf)],E=A[0],_=A[1];l[d]={relative:t.relative,type:ff.CURVE_TO};var O=function(e,r){var n=Gc([e*t.rX,r*t.rY],t.xRot),i=n[0],a=n[1];return[t.cX+i,t.cY+a]};n=O(b,x),l[d].x1=n[0],l[d].y1=n[1],i=O(E,_),l[d].x2=i[0],l[d].y2=i[1],a=O(T,S),l[d].x=a[0],l[d].y=a[1],t.relative&&(l[d].x1-=c,l[d].y1-=f,l[d].x2-=c,l[d].y2-=f,l[d].x-=c,l[d].y-=f),c=(s=[l[d].x,l[d].y])[0],f=s[1]}return l}(t,t.relative?0:e,t.relative?0:r):t})},t.ANNOTATE_ARCS=function(){return i(function(t,e,r){return t.relative&&(e=0,r=0),ff.ARC===t.type&&Qc(t,e,r),t})},t.CLONE=function(){return function(t){var e={};for(var r in t)e[r]=t[r];return e}},t.CALCULATE_BOUNDS=function(){var t=e(),a=n(),s=r(),o=i(function(e,r,n){var i=s(a(t(function(t){var e={};for(var r in t)e[r]=t[r];return e}(e))));function u(t){t>o.maxX&&(o.maxX=t),t<o.minX&&(o.minX=t)}function h(t){t>o.maxY&&(o.maxY=t),t<o.minY&&(o.minY=t)}if(i.type&ff.DRAWING_COMMANDS&&(u(r),h(n)),i.type&ff.HORIZ_LINE_TO&&u(i.x),i.type&ff.VERT_LINE_TO&&h(i.y),i.type&ff.LINE_TO&&(u(i.x),h(i.y)),i.type&ff.CURVE_TO){u(i.x),h(i.y);for(var l=0,c=nf(r,i.x1,i.x2,i.x);l<c.length;l++)0<(O=c[l])&&1>O&&u(af(r,i.x1,i.x2,i.x,O));for(var f=0,d=nf(n,i.y1,i.y2,i.y);f<d.length;f++)0<(O=d[f])&&1>O&&h(af(n,i.y1,i.y2,i.y,O))}if(i.type&ff.ARC){u(i.x),h(i.y),Qc(i,r,n);for(var p=i.xRot/180*Math.PI,g=Math.cos(p)*i.rX,m=Math.sin(p)*i.rX,y=-Math.sin(p)*i.rY,v=Math.cos(p)*i.rY,b=i.phi1<i.phi2?[i.phi1,i.phi2]:-180>i.phi2?[i.phi2+360,i.phi1+360]:[i.phi2,i.phi1],x=b[0],w=b[1],T=function(t){var e=t[0],r=t[1],n=180*Math.atan2(r,e)/Math.PI;return n<x?n+360:n},S=0,A=Kc(y,-g,0).map(T);S<A.length;S++)(O=A[S])>x&&O<w&&u(rf(i.cX,g,y,O));for(var E=0,_=Kc(v,-m,0).map(T);E<_.length;E++){var O;(O=_[E])>x&&O<w&&h(rf(i.cY,m,v,O))}}return e});return o.minX=1/0,o.maxX=-1/0,o.minY=1/0,o.maxY=-1/0,o}}(Jc||(Jc={}));var sf,of,uf=function(){function t(){}return t.prototype.round=function(t){return this.transform(Jc.ROUND(t))},t.prototype.toAbs=function(){return this.transform(Jc.TO_ABS())},t.prototype.toRel=function(){return this.transform(Jc.TO_REL())},t.prototype.normalizeHVZ=function(t,e,r){return this.transform(Jc.NORMALIZE_HVZ(t,e,r))},t.prototype.normalizeST=function(){return this.transform(Jc.NORMALIZE_ST())},t.prototype.qtToC=function(){return this.transform(Jc.QT_TO_C())},t.prototype.aToC=function(){return this.transform(Jc.A_TO_C())},t.prototype.sanitize=function(t){return this.transform(Jc.SANITIZE(t))},t.prototype.translate=function(t,e){return this.transform(Jc.TRANSLATE(t,e))},t.prototype.scale=function(t,e){return this.transform(Jc.SCALE(t,e))},t.prototype.rotate=function(t,e,r){return this.transform(Jc.ROTATE(t,e,r))},t.prototype.matrix=function(t,e,r,n,i,a){return this.transform(Jc.MATRIX(t,e,r,n,i,a))},t.prototype.skewX=function(t){return this.transform(Jc.SKEW_X(t))},t.prototype.skewY=function(t){return this.transform(Jc.SKEW_Y(t))},t.prototype.xSymmetry=function(t){return this.transform(Jc.X_AXIS_SYMMETRY(t))},t.prototype.ySymmetry=function(t){return this.transform(Jc.Y_AXIS_SYMMETRY(t))},t.prototype.annotateArcs=function(){return this.transform(Jc.ANNOTATE_ARCS())},t}(),hf=function(t){return" "===t||"\t"===t||"\r"===t||"\n"===t},lf=function(t){return"0".charCodeAt(0)<=t.charCodeAt(0)&&t.charCodeAt(0)<="9".charCodeAt(0)},cf=function(t){function e(){var e=t.call(this)||this;return e.curNumber="",e.curCommandType=-1,e.curCommandRelative=!1,e.canParseCommandOrComma=!0,e.curNumberHasExp=!1,e.curNumberHasExpDigits=!1,e.curNumberHasDecimal=!1,e.curArgs=[],e}return $c(e,t),e.prototype.finish=function(t){if(void 0===t&&(t=[]),this.parse(" ",t),0!==this.curArgs.length||!this.canParseCommandOrComma)throw new SyntaxError("Unterminated command at the path end.");return t},e.prototype.parse=function(t,e){var r=this;void 0===e&&(e=[]);for(var n=function(t){e.push(t),r.curArgs.length=0,r.canParseCommandOrComma=!0},i=0;i<t.length;i++){var a=t[i],s=!(this.curCommandType!==ff.ARC||3!==this.curArgs.length&&4!==this.curArgs.length||1!==this.curNumber.length||"0"!==this.curNumber&&"1"!==this.curNumber),o=lf(a)&&("0"===this.curNumber&&"0"===a||s);if(!lf(a)||o)if("e"!==a&&"E"!==a)if("-"!==a&&"+"!==a||!this.curNumberHasExp||this.curNumberHasExpDigits)if("."!==a||this.curNumberHasExp||this.curNumberHasDecimal||s){if(this.curNumber&&-1!==this.curCommandType){var u=Number(this.curNumber);if(isNaN(u))throw new SyntaxError("Invalid number ending at "+i);if(this.curCommandType===ff.ARC)if(0===this.curArgs.length||1===this.curArgs.length){if(0>u)throw new SyntaxError('Expected positive number, got "'+u+'" at index "'+i+'"')}else if((3===this.curArgs.length||4===this.curArgs.length)&&"0"!==this.curNumber&&"1"!==this.curNumber)throw new SyntaxError('Expected a flag, got "'+this.curNumber+'" at index "'+i+'"');this.curArgs.push(u),this.curArgs.length===df[this.curCommandType]&&(ff.HORIZ_LINE_TO===this.curCommandType?n({type:ff.HORIZ_LINE_TO,relative:this.curCommandRelative,x:u}):ff.VERT_LINE_TO===this.curCommandType?n({type:ff.VERT_LINE_TO,relative:this.curCommandRelative,y:u}):this.curCommandType===ff.MOVE_TO||this.curCommandType===ff.LINE_TO||this.curCommandType===ff.SMOOTH_QUAD_TO?(n({type:this.curCommandType,relative:this.curCommandRelative,x:this.curArgs[0],y:this.curArgs[1]}),ff.MOVE_TO===this.curCommandType&&(this.curCommandType=ff.LINE_TO)):this.curCommandType===ff.CURVE_TO?n({type:ff.CURVE_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x2:this.curArgs[2],y2:this.curArgs[3],x:this.curArgs[4],y:this.curArgs[5]}):this.curCommandType===ff.SMOOTH_CURVE_TO?n({type:ff.SMOOTH_CURVE_TO,relative:this.curCommandRelative,x2:this.curArgs[0],y2:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===ff.QUAD_TO?n({type:ff.QUAD_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===ff.ARC&&n({type:ff.ARC,relative:this.curCommandRelative,rX:this.curArgs[0],rY:this.curArgs[1],xRot:this.curArgs[2],lArcFlag:this.curArgs[3],sweepFlag:this.curArgs[4],x:this.curArgs[5],y:this.curArgs[6]})),this.curNumber="",this.curNumberHasExpDigits=!1,this.curNumberHasExp=!1,this.curNumberHasDecimal=!1,this.canParseCommandOrComma=!0}if(!hf(a))if(","===a&&this.canParseCommandOrComma)this.canParseCommandOrComma=!1;else if("+"!==a&&"-"!==a&&"."!==a)if(o)this.curNumber=a,this.curNumberHasDecimal=!1;else{if(0!==this.curArgs.length)throw new SyntaxError("Unterminated command at index "+i+".");if(!this.canParseCommandOrComma)throw new SyntaxError('Unexpected character "'+a+'" at index '+i+". Command cannot follow comma");if(this.canParseCommandOrComma=!1,"z"!==a&&"Z"!==a)if("h"===a||"H"===a)this.curCommandType=ff.HORIZ_LINE_TO,this.curCommandRelative="h"===a;else if("v"===a||"V"===a)this.curCommandType=ff.VERT_LINE_TO,this.curCommandRelative="v"===a;else if("m"===a||"M"===a)this.curCommandType=ff.MOVE_TO,this.curCommandRelative="m"===a;else if("l"===a||"L"===a)this.curCommandType=ff.LINE_TO,this.curCommandRelative="l"===a;else if("c"===a||"C"===a)this.curCommandType=ff.CURVE_TO,this.curCommandRelative="c"===a;else if("s"===a||"S"===a)this.curCommandType=ff.SMOOTH_CURVE_TO,this.curCommandRelative="s"===a;else if("q"===a||"Q"===a)this.curCommandType=ff.QUAD_TO,this.curCommandRelative="q"===a;else if("t"===a||"T"===a)this.curCommandType=ff.SMOOTH_QUAD_TO,this.curCommandRelative="t"===a;else{if("a"!==a&&"A"!==a)throw new SyntaxError('Unexpected character "'+a+'" at index '+i+".");this.curCommandType=ff.ARC,this.curCommandRelative="a"===a}else e.push({type:ff.CLOSE_PATH}),this.canParseCommandOrComma=!0,this.curCommandType=-1}else this.curNumber=a,this.curNumberHasDecimal="."===a}else this.curNumber+=a,this.curNumberHasDecimal=!0;else this.curNumber+=a;else this.curNumber+=a,this.curNumberHasExp=!0;else this.curNumber+=a,this.curNumberHasExpDigits=this.curNumberHasExp}return e},e.prototype.transform=function(t){return Object.create(this,{parse:{value:function(e,r){void 0===r&&(r=[]);for(var n=0,i=Object.getPrototypeOf(this).parse.call(this,e);n<i.length;n++){var a=i[n],s=t(a);Array.isArray(s)?r.push.apply(r,s):r.push(s)}return r}}})},e}(uf),ff=function(t){function e(r){var n=t.call(this)||this;return n.commands="string"==typeof r?e.parse(r):r,n}return $c(e,t),e.prototype.encode=function(){return e.encode(this.commands)},e.prototype.getBounds=function(){var t=Jc.CALCULATE_BOUNDS();return this.transform(t),t},e.prototype.transform=function(t){for(var e=[],r=0,n=this.commands;r<n.length;r++){var i=t(n[r]);Array.isArray(i)?e.push.apply(e,i):e.push(i)}return this.commands=e,this},e.encode=function(t){return function(t){var e="";Array.isArray(t)||(t=[t]);for(var r=0;r<t.length;r++){var n=t[r];if(n.type===ff.CLOSE_PATH)e+="z";else if(n.type===ff.HORIZ_LINE_TO)e+=(n.relative?"h":"H")+n.x;else if(n.type===ff.VERT_LINE_TO)e+=(n.relative?"v":"V")+n.y;else if(n.type===ff.MOVE_TO)e+=(n.relative?"m":"M")+n.x+" "+n.y;else if(n.type===ff.LINE_TO)e+=(n.relative?"l":"L")+n.x+" "+n.y;else if(n.type===ff.CURVE_TO)e+=(n.relative?"c":"C")+n.x1+" "+n.y1+" "+n.x2+" "+n.y2+" "+n.x+" "+n.y;else if(n.type===ff.SMOOTH_CURVE_TO)e+=(n.relative?"s":"S")+n.x2+" "+n.y2+" "+n.x+" "+n.y;else if(n.type===ff.QUAD_TO)e+=(n.relative?"q":"Q")+n.x1+" "+n.y1+" "+n.x+" "+n.y;else if(n.type===ff.SMOOTH_QUAD_TO)e+=(n.relative?"t":"T")+n.x+" "+n.y;else{if(n.type!==ff.ARC)throw new Error('Unexpected command type "'+n.type+'" at index '+r+".");e+=(n.relative?"a":"A")+n.rX+" "+n.rY+" "+n.xRot+" "+ +n.lArcFlag+" "+ +n.sweepFlag+" "+n.x+" "+n.y}}return e}(t)},e.parse=function(t){var e=new cf,r=[];return e.parse(t,r),e.finish(r),r},e.CLOSE_PATH=1,e.MOVE_TO=2,e.HORIZ_LINE_TO=4,e.VERT_LINE_TO=8,e.LINE_TO=16,e.CURVE_TO=32,e.SMOOTH_CURVE_TO=64,e.QUAD_TO=128,e.SMOOTH_QUAD_TO=256,e.ARC=512,e.LINE_COMMANDS=e.LINE_TO|e.HORIZ_LINE_TO|e.VERT_LINE_TO,e.DRAWING_COMMANDS=e.HORIZ_LINE_TO|e.VERT_LINE_TO|e.LINE_TO|e.CURVE_TO|e.SMOOTH_CURVE_TO|e.QUAD_TO|e.SMOOTH_QUAD_TO|e.ARC,e}(uf),df=((sf={})[ff.MOVE_TO]=2,sf[ff.LINE_TO]=2,sf[ff.HORIZ_LINE_TO]=1,sf[ff.VERT_LINE_TO]=1,sf[ff.CLOSE_PATH]=0,sf[ff.QUAD_TO]=4,sf[ff.SMOOTH_QUAD_TO]=2,sf[ff.CURVE_TO]=6,sf[ff.SMOOTH_CURVE_TO]=4,sf[ff.ARC]=7,sf),pf={};function gf(t){return gf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gf(t)}!function(){if(of)return pf;of=1;var t=es().PROPER,e=os(),r=La(),n=Rh(),i=Mn(),a=dl(),s="toString",o=RegExp.prototype,u=o[s],h=i(function(){return"/a/b"!==u.call({source:"a",flags:"b"})}),l=t&&u.name!==s;(h||l)&&e(o,s,function(){var t=r(this);return"/"+n(t.source)+"/"+n(a(t))},{unsafe:!0})}();
/**
* StackBlur - a fast almost Gaussian Blur For Canvas
*
* In case you find this class useful - especially in commercial projects -
* I am not totally unhappy for a small donation to my PayPal account
* mario@quasimondo.de
*
* Or support me on flattr:
* {@link https://flattr.com/thing/72791/StackBlur-a-fast-almost-Gaussian-Blur-Effect-for-CanvasJavascript}.
*
* @module StackBlur
* @author Mario Klingemann
* Contact: mario@quasimondo.com
* Website: {@link http://www.quasimondo.com/StackBlurForCanvas/StackBlurDemo.html}
* Twitter: @quasimondo
*
* @copyright (c) 2010 Mario Klingemann
*
* Permission is hereby granted, free of charge, to any person
* obtaining a copy of this software and associated documentation
* files (the "Software"), to deal in the Software without
* restriction, including without limitation the rights to use,
* copy, modify, merge, publish, distribute, sublicense, and/or sell
* copies of the Software, and to permit persons to whom the
* Software is furnished to do so, subject to the following
* conditions:
*
* The above copyright notice and this permission notice shall be
* included in all copies or substantial portions of the Software.
*
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
* EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
* OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
* NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
* HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
* WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
* FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
* OTHER DEALINGS IN THE SOFTWARE.
*/
var mf=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],yf=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function vf(t,e,r,n,i,a){if(!(isNaN(a)||a<1)){a|=0;var s=function(t,e,r,n,i){if("string"==typeof t&&(t=document.getElementById(t)),!t||"object"!==gf(t)||!("getContext"in t))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var a=t.getContext("2d");try{return a.getImageData(e,r,n,i)}catch(Cp){throw new Error("unable to access image data: "+Cp)}}(t,e,r,n,i);s=function(t,e,r,n,i,a){for(var s,o=t.data,u=2*a+1,h=n-1,l=i-1,c=a+1,f=c*(c+1)/2,d=new bf,p=d,g=1;g<u;g++)p=p.next=new bf,g===c&&(s=p);p.next=d;for(var m=null,y=null,v=0,b=0,x=mf[a],w=yf[a],T=0;T<i;T++){p=d;for(var S=o[b],A=o[b+1],E=o[b+2],_=o[b+3],O=0;O<c;O++)p.r=S,p.g=A,p.b=E,p.a=_,p=p.next;for(var C=0,k=0,N=0,P=0,M=c*S,R=c*A,I=c*E,D=c*_,L=f*S,U=f*A,V=f*E,B=f*_,F=1;F<c;F++){var z=b+((h<F?h:F)<<2),j=o[z],H=o[z+1],X=o[z+2],Y=o[z+3],W=c-F;L+=(p.r=j)*W,U+=(p.g=H)*W,V+=(p.b=X)*W,B+=(p.a=Y)*W,C+=j,k+=H,N+=X,P+=Y,p=p.next}m=d,y=s;for(var $=0;$<n;$++){var G=B*x>>>w;if(o[b+3]=G,0!==G){var q=255/G;o[b]=(L*x>>>w)*q,o[b+1]=(U*x>>>w)*q,o[b+2]=(V*x>>>w)*q}else o[b]=o[b+1]=o[b+2]=0;L-=M,U-=R,V-=I,B-=D,M-=m.r,R-=m.g,I-=m.b,D-=m.a;var Z=$+a+1;Z=v+(Z<h?Z:h)<<2,L+=C+=m.r=o[Z],U+=k+=m.g=o[Z+1],V+=N+=m.b=o[Z+2],B+=P+=m.a=o[Z+3],m=m.next;var Q=y,K=Q.r,J=Q.g,tt=Q.b,et=Q.a;M+=K,R+=J,I+=tt,D+=et,C-=K,k-=J,N-=tt,P-=et,y=y.next,b+=4}v+=n}for(var rt=0;rt<n;rt++){var nt=o[b=rt<<2],it=o[b+1],at=o[b+2],st=o[b+3],ot=c*nt,ut=c*it,ht=c*at,lt=c*st,ct=f*nt,ft=f*it,dt=f*at,pt=f*st;p=d;for(var gt=0;gt<c;gt++)p.r=nt,p.g=it,p.b=at,p.a=st,p=p.next;for(var mt=n,yt=0,vt=0,bt=0,xt=0,wt=1;wt<=a;wt++){b=mt+rt<<2;var Tt=c-wt;ct+=(p.r=nt=o[b])*Tt,ft+=(p.g=it=o[b+1])*Tt,dt+=(p.b=at=o[b+2])*Tt,pt+=(p.a=st=o[b+3])*Tt,xt+=nt,yt+=it,vt+=at,bt+=st,p=p.next,wt<l&&(mt+=n)}b=rt,m=d,y=s;for(var St=0;St<i;St++){var At=b<<2;o[At+3]=st=pt*x>>>w,st>0?(st=255/st,o[At]=(ct*x>>>w)*st,o[At+1]=(ft*x>>>w)*st,o[At+2]=(dt*x>>>w)*st):o[At]=o[At+1]=o[At+2]=0,ct-=ot,ft-=ut,dt-=ht,pt-=lt,ot-=m.r,ut-=m.g,ht-=m.b,lt-=m.a,At=rt+((At=St+c)<l?At:l)*n<<2,ct+=xt+=m.r=o[At],ft+=yt+=m.g=o[At+1],dt+=vt+=m.b=o[At+2],pt+=bt+=m.a=o[At+3],m=m.next,ot+=nt=y.r,ut+=it=y.g,ht+=at=y.b,lt+=st=y.a,xt-=nt,yt-=it,vt-=at,bt-=st,y=y.next,b+=n}}return t}(s,0,0,n,i,a),t.getContext("2d").putImageData(s,e,r)}}var bf=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null};var xf=Object.freeze({__proto__:null,offscreen:function(){var{DOMParser:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:t,createCanvas:(t,e)=>new OffscreenCanvas(t,e),createImage:t=>Ah(function*(){var e=yield fetch(t),r=yield e.blob();return yield createImageBitmap(r)})()};return"undefined"==typeof DOMParser&&void 0!==t||Reflect.deleteProperty(e,"DOMParser"),e},node:function(t){var{DOMParser:e,canvas:r,fetch:n}=t;return{window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:e,fetch:n,createCanvas:r.createCanvas,createImage:r.loadImage}}});function wf(t){return t.replace(/(?!\u3000)\s+/gm," ")}function Tf(t){return t.replace(/^[\n \t]+/,"")}function Sf(t){return t.replace(/[\n \t]+$/,"")}function Af(t){return((t||"").match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm)||[]).map(parseFloat)}var Ef=/^[A-Z-]+$/;function _f(t){return Ef.test(t)?t.toLowerCase():t}function Of(t){var e=/url\(('([^']+)'|"([^"]+)"|([^'")]+))\)/.exec(t)||[];return e[2]||e[3]||e[4]}function Cf(t){if(!t.startsWith("rgb"))return t;var e=3;return t.replace(/\d+(\.\d+)?/g,(t,r)=>e--&&r?String(Math.round(parseFloat(t))):t)}var kf=/(\[[^\]]+\])/g,Nf=/(#[^\s+>~.[:]+)/g,Pf=/(\.[^\s+>~.[:]+)/g,Mf=/(::[^\s+>~.[:]+|:first-line|:first-letter|:before|:after)/gi,Rf=/(:[\w-]+\([^)]*\))/gi,If=/(:[^\s+>~.[:]+)/g,Df=/([^\s+>~.[:]+)/g;function Lf(t,e){var r=e.exec(t);return r?[t.replace(e," "),r.length]:[t,0]}function Uf(t){var e=[0,0,0],r=t.replace(/:not\(([^)]*)\)/g,"     $1 ").replace(/{[\s\S]*/gm," "),n=0;return[r,n]=Lf(r,kf),e[1]+=n,[r,n]=Lf(r,Nf),e[0]+=n,[r,n]=Lf(r,Pf),e[1]+=n,[r,n]=Lf(r,Mf),e[2]+=n,[r,n]=Lf(r,Rf),e[1]+=n,[r,n]=Lf(r,If),e[1]+=n,r=r.replace(/[*\s+>~]/g," ").replace(/[#.]/g," "),[r,n]=Lf(r,Df),e[2]+=n,e.join("")}var Vf=1e-8;function Bf(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2))}function Ff(t,e){return(t[0]*e[0]+t[1]*e[1])/(Bf(t)*Bf(e))}function zf(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(Ff(t,e))}function jf(t){return t*t*t}function Hf(t){return 3*t*t*(1-t)}function Xf(t){return 3*t*(1-t)*(1-t)}function Yf(t){return(1-t)*(1-t)*(1-t)}function Wf(t){return t*t}function $f(t){return 2*t*(1-t)}function Gf(t){return(1-t)*(1-t)}class qf{constructor(t,e,r){this.document=t,this.name=e,this.value=r,this.isNormalizedColor=!1}static empty(t){return new qf(t,"EMPTY","")}split(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:" ",{document:e,name:r}=this;return wf(this.getString()).trim().split(t).map(t=>new qf(e,r,t))}hasValue(t){var{value:e}=this;return null!==e&&""!==e&&(t||0!==e)&&void 0!==e}isString(t){var{value:e}=this,r="string"==typeof e;return r&&t?t.test(e):r}isUrlDefinition(){return this.isString(/^url\(/)}isPixels(){if(!this.hasValue())return!1;var t=this.getString();switch(!0){case t.endsWith("px"):case/^[0-9]+$/.test(t):return!0;default:return!1}}setValue(t){return this.value=t,this}getValue(t){return void 0===t||this.hasValue()?this.value:t}getNumber(t){if(!this.hasValue())return void 0===t?0:parseFloat(t);var{value:e}=this,r=parseFloat(e);return this.isString(/%$/)&&(r/=100),r}getString(t){return void 0===t||this.hasValue()?void 0===this.value?"":String(this.value):String(t)}getColor(t){var e=this.getString(t);return this.isNormalizedColor||(this.isNormalizedColor=!0,e=Cf(e),this.value=e),e}getDpi(){return 96}getRem(){return this.document.rootEmSize}getEm(){return this.document.emSize}getUnits(){return this.getString().replace(/[0-9.-]/g,"")}getPixels(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.hasValue())return 0;var[r,n]="boolean"==typeof t?[void 0,t]:[t],{viewPort:i}=this.document.screen;switch(!0){case this.isString(/vmin$/):return this.getNumber()/100*Math.min(i.computeSize("x"),i.computeSize("y"));case this.isString(/vmax$/):return this.getNumber()/100*Math.max(i.computeSize("x"),i.computeSize("y"));case this.isString(/vw$/):return this.getNumber()/100*i.computeSize("x");case this.isString(/vh$/):return this.getNumber()/100*i.computeSize("y");case this.isString(/rem$/):return this.getNumber()*this.getRem();case this.isString(/em$/):return this.getNumber()*this.getEm();case this.isString(/ex$/):return this.getNumber()*this.getEm()/2;case this.isString(/px$/):return this.getNumber();case this.isString(/pt$/):return this.getNumber()*this.getDpi()*(1/72);case this.isString(/pc$/):return 15*this.getNumber();case this.isString(/cm$/):return this.getNumber()*this.getDpi()/2.54;case this.isString(/mm$/):return this.getNumber()*this.getDpi()/25.4;case this.isString(/in$/):return this.getNumber()*this.getDpi();case this.isString(/%$/)&&n:return this.getNumber()*this.getEm();case this.isString(/%$/):return this.getNumber()*i.computeSize(r);default:var a=this.getNumber();return e&&a<1?a*i.computeSize(r):a}}getMilliseconds(){return this.hasValue()?this.isString(/ms$/)?this.getNumber():1e3*this.getNumber():0}getRadians(){if(!this.hasValue())return 0;switch(!0){case this.isString(/deg$/):return this.getNumber()*(Math.PI/180);case this.isString(/grad$/):return this.getNumber()*(Math.PI/200);case this.isString(/rad$/):return this.getNumber();default:return this.getNumber()*(Math.PI/180)}}getDefinition(){var t=this.getString(),e=/#([^)'"]+)/.exec(t);return e&&(e=e[1]),e||(e=t),this.document.definitions[e]}getFillStyleDefinition(t,e){var r=this.getDefinition();if(!r)return null;if("function"==typeof r.createGradient)return r.createGradient(this.document.ctx,t,e);if("function"==typeof r.createPattern){if(r.getHrefAttribute().hasValue()){var n=r.getAttribute("patternTransform");r=r.getHrefAttribute().getDefinition(),n.hasValue()&&r.getAttribute("patternTransform",!0).setValue(n.value)}return r.createPattern(this.document.ctx,t,e)}return null}getTextBaseline(){return this.hasValue()?qf.textBaselineMapping[this.getString()]:null}addOpacity(t){for(var e=this.getColor(),r=e.length,n=0,i=0;i<r&&(","===e[i]&&n++,3!==n);i++);if(t.hasValue()&&this.isString()&&3!==n){var a=new Lc(e);a.ok&&(a.alpha=t.getNumber(),e=a.toRGBA())}return new qf(this.document,this.name,e)}}qf.textBaselineMapping={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};class Zf{constructor(){this.viewPorts=[]}clear(){this.viewPorts=[]}setCurrent(t,e){this.viewPorts.push({width:t,height:e})}removeCurrent(){this.viewPorts.pop()}getCurrent(){var{viewPorts:t}=this;return t[t.length-1]}get width(){return this.getCurrent().width}get height(){return this.getCurrent().height}computeSize(t){return"number"==typeof t?t:"x"===t?this.width:"y"===t?this.height:Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))/Math.sqrt(2)}}class Qf{constructor(t,e){this.x=t,this.y=e}static parse(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,[r=e,n=e]=Af(t);return new Qf(r,n)}static parseScale(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,[r=e,n=r]=Af(t);return new Qf(r,n)}static parsePath(t){for(var e=Af(t),r=e.length,n=[],i=0;i<r;i+=2)n.push(new Qf(e[i],e[i+1]));return n}angleTo(t){return Math.atan2(t.y-this.y,t.x-this.x)}applyTransform(t){var{x:e,y:r}=this,n=e*t[0]+r*t[2]+t[4],i=e*t[1]+r*t[3]+t[5];this.x=n,this.y=i}}class Kf{constructor(t){this.screen=t,this.working=!1,this.events=[],this.eventElements=[],this.onClick=this.onClick.bind(this),this.onMouseMove=this.onMouseMove.bind(this)}isWorking(){return this.working}start(){if(!this.working){var{screen:t,onClick:e,onMouseMove:r}=this,n=t.ctx.canvas;n.onclick=e,n.onmousemove=r,this.working=!0}}stop(){if(this.working){var t=this.screen.ctx.canvas;this.working=!1,t.onclick=null,t.onmousemove=null}}hasEvents(){return this.working&&this.events.length>0}runEvents(){if(this.working){var{screen:t,events:e,eventElements:r}=this,{style:n}=t.ctx.canvas;n&&(n.cursor=""),e.forEach((t,e)=>{for(var{run:n}=t,i=r[e];i;)n(i),i=i.parent}),this.events=[],this.eventElements=[]}}checkPath(t,e){if(this.working&&e){var{events:r,eventElements:n}=this;r.forEach((r,i)=>{var{x:a,y:s}=r;!n[i]&&e.isPointInPath&&e.isPointInPath(a,s)&&(n[i]=t)})}}checkBoundingBox(t,e){if(this.working&&e){var{events:r,eventElements:n}=this;r.forEach((r,i)=>{var{x:a,y:s}=r;!n[i]&&e.isPointInBox(a,s)&&(n[i]=t)})}}mapXY(t,e){for(var{window:r,ctx:n}=this.screen,i=new Qf(t,e),a=n.canvas;a;)i.x-=a.offsetLeft,i.y-=a.offsetTop,a=a.offsetParent;return r.scrollX&&(i.x+=r.scrollX),r.scrollY&&(i.y+=r.scrollY),i}onClick(t){var{x:e,y:r}=this.mapXY(t.clientX,t.clientY);this.events.push({type:"onclick",x:e,y:r,run(t){t.onClick&&t.onClick()}})}onMouseMove(t){var{x:e,y:r}=this.mapXY(t.clientX,t.clientY);this.events.push({type:"onmousemove",x:e,y:r,run(t){t.onMouseMove&&t.onMouseMove()}})}}var Jf="undefined"!=typeof window?window:null,td="undefined"!=typeof fetch?fetch.bind(void 0):null;class ed{constructor(t){var{fetch:e=td,window:r=Jf}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.ctx=t,this.FRAMERATE=30,this.MAX_VIRTUAL_PIXELS=3e4,this.CLIENT_WIDTH=800,this.CLIENT_HEIGHT=600,this.viewPort=new Zf,this.mouse=new Kf(this),this.animations=[],this.waits=[],this.frameDuration=0,this.isReadyLock=!1,this.isFirstRender=!0,this.intervalId=null,this.window=r,this.fetch=e}wait(t){this.waits.push(t)}ready(){return this.readyPromise?this.readyPromise:Promise.resolve()}isReady(){if(this.isReadyLock)return!0;var t=this.waits.every(t=>t());return t&&(this.waits=[],this.resolveReady&&this.resolveReady()),this.isReadyLock=t,t}setDefaults(t){t.strokeStyle="rgba(0,0,0,0)",t.lineCap="butt",t.lineJoin="miter",t.miterLimit=4}setViewBox(t){var{document:e,ctx:r,aspectRatio:n,width:i,desiredWidth:a,height:s,desiredHeight:o,minX:u=0,minY:h=0,refX:l,refY:c,clip:f=!1,clipX:d=0,clipY:p=0}=t,g=wf(n).replace(/^defer\s/,""),[m,y]=g.split(" "),v=m||"xMidYMid",b=y||"meet",x=i/a,w=s/o,T=Math.min(x,w),S=Math.max(x,w),A=a,E=o;"meet"===b&&(A*=T,E*=T),"slice"===b&&(A*=S,E*=S);var _=new qf(e,"refX",l),O=new qf(e,"refY",c),C=_.hasValue()&&O.hasValue();if(C&&r.translate(-T*_.getPixels("x"),-T*O.getPixels("y")),f){var k=T*d,N=T*p;r.beginPath(),r.moveTo(k,N),r.lineTo(i,N),r.lineTo(i,s),r.lineTo(k,s),r.closePath(),r.clip()}if(!C){var P="meet"===b&&T===w,M="slice"===b&&S===w,R="meet"===b&&T===x,I="slice"===b&&S===x;v.startsWith("xMid")&&(P||M)&&r.translate(i/2-A/2,0),v.endsWith("YMid")&&(R||I)&&r.translate(0,s/2-E/2),v.startsWith("xMax")&&(P||M)&&r.translate(i-A,0),v.endsWith("YMax")&&(R||I)&&r.translate(0,s-E)}switch(!0){case"none"===v:r.scale(x,w);break;case"meet"===b:r.scale(T,T);break;case"slice"===b:r.scale(S,S)}r.translate(-u,-h)}start(t){var{enableRedraw:e=!1,ignoreMouse:r=!1,ignoreAnimation:n=!1,ignoreDimensions:i=!1,ignoreClear:a=!1,forceRedraw:s,scaleWidth:o,scaleHeight:u,offsetX:h,offsetY:l}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{FRAMERATE:c,mouse:f}=this,d=1e3/c;if(this.frameDuration=d,this.readyPromise=new Promise(t=>{this.resolveReady=t}),this.isReady()&&this.render(t,i,a,o,u,h,l),e){var p=Date.now(),g=p,m=0,y=()=>{p=Date.now(),(m=p-g)>=d&&(g=p-m%d,this.shouldUpdate(n,s)&&(this.render(t,i,a,o,u,h,l),f.runEvents())),this.intervalId=Sc(y)};r||f.start(),this.intervalId=Sc(y)}}stop(){this.intervalId&&(Sc.cancel(this.intervalId),this.intervalId=null),this.mouse.stop()}shouldUpdate(t,e){if(!t){var{frameDuration:r}=this;if(this.animations.reduce((t,e)=>e.update(r)||t,!1))return!0}return!("function"!=typeof e||!e())||(!(this.isReadyLock||!this.isReady())||!!this.mouse.hasEvents())}render(t,e,r,n,i,a,s){var{CLIENT_WIDTH:o,CLIENT_HEIGHT:u,viewPort:h,ctx:l,isFirstRender:c}=this,f=l.canvas;h.clear(),f.width&&f.height?h.setCurrent(f.width,f.height):h.setCurrent(o,u);var d=t.getStyle("width"),p=t.getStyle("height");!e&&(c||"number"!=typeof n&&"number"!=typeof i)&&(d.hasValue()&&(f.width=d.getPixels("x"),f.style&&(f.style.width="".concat(f.width,"px"))),p.hasValue()&&(f.height=p.getPixels("y"),f.style&&(f.style.height="".concat(f.height,"px"))));var g=f.clientWidth||f.width,m=f.clientHeight||f.height;if(e&&d.hasValue()&&p.hasValue()&&(g=d.getPixels("x"),m=p.getPixels("y")),h.setCurrent(g,m),"number"==typeof a&&t.getAttribute("x",!0).setValue(a),"number"==typeof s&&t.getAttribute("y",!0).setValue(s),"number"==typeof n||"number"==typeof i){var y=Af(t.getAttribute("viewBox").getString()),v=0,b=0;if("number"==typeof n){var x=t.getStyle("width");x.hasValue()?v=x.getPixels("x")/n:isNaN(y[2])||(v=y[2]/n)}if("number"==typeof i){var w=t.getStyle("height");w.hasValue()?b=w.getPixels("y")/i:isNaN(y[3])||(b=y[3]/i)}v||(v=b),b||(b=v),t.getAttribute("width",!0).setValue(n),t.getAttribute("height",!0).setValue(i);var T=t.getStyle("transform",!0,!0);T.setValue("".concat(T.getString()," scale(").concat(1/v,", ").concat(1/b,")"))}r||l.clearRect(0,0,g,m),t.render(l),c&&(this.isFirstRender=!1)}}ed.defaultWindow=Jf,ed.defaultFetch=td;var{defaultFetch:rd}=ed,nd="undefined"!=typeof DOMParser?DOMParser:null;class id{constructor(){var{fetch:t=rd,DOMParser:e=nd}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.fetch=t,this.DOMParser=e}parse(t){var e=this;return Ah(function*(){return t.startsWith("<")?e.parseFromString(t):e.load(t)})()}parseFromString(t){var e=new this.DOMParser;try{return this.checkDocument(e.parseFromString(t,"image/svg+xml"))}catch(r){return this.checkDocument(e.parseFromString(t,"text/xml"))}}checkDocument(t){var e=t.getElementsByTagName("parsererror")[0];if(e)throw new Error(e.textContent);return t}load(t){var e=this;return Ah(function*(){var r=yield e.fetch(t),n=yield r.text();return e.parseFromString(n)})()}}class ad{constructor(t,e){this.type="translate",this.point=null,this.point=Qf.parse(e)}apply(t){var{x:e,y:r}=this.point;t.translate(e||0,r||0)}unapply(t){var{x:e,y:r}=this.point;t.translate(-1*e||0,-1*r||0)}applyToPoint(t){var{x:e,y:r}=this.point;t.applyTransform([1,0,0,1,e||0,r||0])}}class sd{constructor(t,e,r){this.type="rotate",this.angle=null,this.originX=null,this.originY=null,this.cx=0,this.cy=0;var n=Af(e);this.angle=new qf(t,"angle",n[0]),this.originX=r[0],this.originY=r[1],this.cx=n[1]||0,this.cy=n[2]||0}apply(t){var{cx:e,cy:r,originX:n,originY:i,angle:a}=this,s=e+n.getPixels("x"),o=r+i.getPixels("y");t.translate(s,o),t.rotate(a.getRadians()),t.translate(-s,-o)}unapply(t){var{cx:e,cy:r,originX:n,originY:i,angle:a}=this,s=e+n.getPixels("x"),o=r+i.getPixels("y");t.translate(s,o),t.rotate(-1*a.getRadians()),t.translate(-s,-o)}applyToPoint(t){var{cx:e,cy:r,angle:n}=this,i=n.getRadians();t.applyTransform([1,0,0,1,e||0,r||0]),t.applyTransform([Math.cos(i),Math.sin(i),-Math.sin(i),Math.cos(i),0,0]),t.applyTransform([1,0,0,1,-e||0,-r||0])}}class od{constructor(t,e,r){this.type="scale",this.scale=null,this.originX=null,this.originY=null;var n=Qf.parseScale(e);0!==n.x&&0!==n.y||(n.x=Vf,n.y=Vf),this.scale=n,this.originX=r[0],this.originY=r[1]}apply(t){var{scale:{x:e,y:r},originX:n,originY:i}=this,a=n.getPixels("x"),s=i.getPixels("y");t.translate(a,s),t.scale(e,r||e),t.translate(-a,-s)}unapply(t){var{scale:{x:e,y:r},originX:n,originY:i}=this,a=n.getPixels("x"),s=i.getPixels("y");t.translate(a,s),t.scale(1/e,1/r||e),t.translate(-a,-s)}applyToPoint(t){var{x:e,y:r}=this.scale;t.applyTransform([e||0,0,0,r||0,0,0])}}class ud{constructor(t,e,r){this.type="matrix",this.matrix=[],this.originX=null,this.originY=null,this.matrix=Af(e),this.originX=r[0],this.originY=r[1]}apply(t){var{originX:e,originY:r,matrix:n}=this,i=e.getPixels("x"),a=r.getPixels("y");t.translate(i,a),t.transform(n[0],n[1],n[2],n[3],n[4],n[5]),t.translate(-i,-a)}unapply(t){var{originX:e,originY:r,matrix:n}=this,i=n[0],a=n[2],s=n[4],o=n[1],u=n[3],h=n[5],l=1/(i*(1*u-0*h)-a*(1*o-0*h)+s*(0*o-0*u)),c=e.getPixels("x"),f=r.getPixels("y");t.translate(c,f),t.transform(l*(1*u-0*h),l*(0*h-1*o),l*(0*s-1*a),l*(1*i-0*s),l*(a*h-s*u),l*(s*o-i*h)),t.translate(-c,-f)}applyToPoint(t){t.applyTransform(this.matrix)}}class hd extends ud{constructor(t,e,r){super(t,e,r),this.type="skew",this.angle=null,this.angle=new qf(t,"angle",e)}}class ld extends hd{constructor(t,e,r){super(t,e,r),this.type="skewX",this.matrix=[1,0,Math.tan(this.angle.getRadians()),1,0,0]}}class cd extends hd{constructor(t,e,r){super(t,e,r),this.type="skewY",this.matrix=[1,Math.tan(this.angle.getRadians()),0,1,0,0]}}class fd{constructor(t,e,r){this.document=t,this.transforms=[];var n=function(t){return wf(t).trim().replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/)}(e);n.forEach(t=>{if("none"!==t){var[e,n]=function(t){var[e,r]=t.split("(");return[e.trim(),r.trim().replace(")","")]}(t),i=fd.transformTypes[e];void 0!==i&&this.transforms.push(new i(this.document,n,r))}})}static fromElement(t,e){var r=e.getStyle("transform",!1,!0),[n,i=n]=e.getStyle("transform-origin",!1,!0).split(),a=[n,i];return r.hasValue()?new fd(t,r.getString(),a):null}apply(t){for(var{transforms:e}=this,r=e.length,n=0;n<r;n++)e[n].apply(t)}unapply(t){for(var{transforms:e}=this,r=e.length-1;r>=0;r--)e[r].unapply(t)}applyToPoint(t){for(var{transforms:e}=this,r=e.length,n=0;n<r;n++)e[n].applyToPoint(t)}}fd.transformTypes={translate:ad,rotate:sd,scale:od,matrix:ud,skewX:ld,skewY:cd};class dd{constructor(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.document=t,this.node=e,this.captureTextNodes=r,this.attributes=Object.create(null),this.styles=Object.create(null),this.stylesSpecificity=Object.create(null),this.animationFrozen=!1,this.animationFrozenValue="",this.parent=null,this.children=[],e&&1===e.nodeType){if(Array.from(e.attributes).forEach(e=>{var r=_f(e.nodeName);this.attributes[r]=new qf(t,r,e.value)}),this.addStylesFromStyleDefinition(),this.getAttribute("style").hasValue()){var n=this.getAttribute("style").getString().split(";").map(t=>t.trim());n.forEach(e=>{if(e){var[r,n]=e.split(":").map(t=>t.trim());this.styles[r]=new qf(t,r,n)}})}var{definitions:i}=t,a=this.getAttribute("id");a.hasValue()&&(i[a.getString()]||(i[a.getString()]=this)),Array.from(e.childNodes).forEach(e=>{if(1===e.nodeType)this.addChild(e);else if(r&&(3===e.nodeType||4===e.nodeType)){var n=t.createTextNode(e);n.getText().length>0&&this.addChild(n)}})}}getAttribute(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.attributes[t];if(!r&&e){var n=new qf(this.document,t,"");return this.attributes[t]=n,n}return r||qf.empty(this.document)}getHrefAttribute(){for(var t in this.attributes)if("href"===t||t.endsWith(":href"))return this.attributes[t];return qf.empty(this.document)}getStyle(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.styles[t];if(n)return n;var i=this.getAttribute(t);if(null!=i&&i.hasValue())return this.styles[t]=i,i;if(!r){var{parent:a}=this;if(a){var s=a.getStyle(t);if(null!=s&&s.hasValue())return s}}if(e){var o=new qf(this.document,t,"");return this.styles[t]=o,o}return n||qf.empty(this.document)}render(t){if("none"!==this.getStyle("display").getString()&&"hidden"!==this.getStyle("visibility").getString()){if(t.save(),this.getStyle("mask").hasValue()){var e=this.getStyle("mask").getDefinition();e&&(this.applyEffects(t),e.apply(t,this))}else if("none"!==this.getStyle("filter").getValue("none")){var r=this.getStyle("filter").getDefinition();r&&(this.applyEffects(t),r.apply(t,this))}else this.setContext(t),this.renderChildren(t),this.clearContext(t);t.restore()}}setContext(t){}applyEffects(t){var e=fd.fromElement(this.document,this);e&&e.apply(t);var r=this.getStyle("clip-path",!1,!0);if(r.hasValue()){var n=r.getDefinition();n&&n.apply(t)}}clearContext(t){}renderChildren(t){this.children.forEach(e=>{e.render(t)})}addChild(t){var e=t instanceof dd?t:this.document.createElement(t);e.parent=this,dd.ignoreChildTypes.includes(e.type)||this.children.push(e)}matchesSelector(t){var e,{node:r}=this;if("function"==typeof r.matches)return r.matches(t);var n=null===(e=r.getAttribute)||void 0===e?void 0:e.call(r,"class");return!(!n||""===n)&&n.split(" ").some(e=>".".concat(e)===t)}addStylesFromStyleDefinition(){var{styles:t,stylesSpecificity:e}=this.document;for(var r in t)if(!r.startsWith("@")&&this.matchesSelector(r)){var n=t[r],i=e[r];if(n)for(var a in n){var s=this.stylesSpecificity[a];void 0===s&&(s="000"),i>=s&&(this.styles[a]=n[a],this.stylesSpecificity[a]=i)}}}removeStyles(t,e){return e.reduce((e,r)=>{var n=t.getStyle(r);if(!n.hasValue())return e;var i=n.getString();return n.setValue(""),[...e,[r,i]]},[])}restoreStyles(t,e){e.forEach(e=>{var[r,n]=e;t.getStyle(r,!0).setValue(n)})}isFirstChild(){var t;return 0===(null===(t=this.parent)||void 0===t?void 0:t.children.indexOf(this))}}dd.ignoreChildTypes=["title"];class pd extends dd{constructor(t,e,r){super(t,e,r)}}function gd(t){var e=t.trim();return/^('|")/.test(e)?e:'"'.concat(e,'"')}function md(t){if(!t)return"";var e=t.trim().toLowerCase();switch(e){case"normal":case"italic":case"oblique":case"inherit":case"initial":case"unset":return e;default:return/^oblique\s+(-|)\d+deg$/.test(e)?e:""}}function yd(t){if(!t)return"";var e=t.trim().toLowerCase();switch(e){case"normal":case"bold":case"lighter":case"bolder":case"inherit":case"initial":case"unset":return e;default:return/^[\d.]+$/.test(e)?e:""}}class vd{constructor(t,e,r,n,i,a){var s=a?"string"==typeof a?vd.parse(a):a:{};this.fontFamily=i||s.fontFamily,this.fontSize=n||s.fontSize,this.fontStyle=t||s.fontStyle,this.fontWeight=r||s.fontWeight,this.fontVariant=e||s.fontVariant}static parse(){var t=arguments.length>1?arguments[1]:void 0,e="",r="",n="",i="",a="",s=wf(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").trim().split(" "),o={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1};return s.forEach(t=>{switch(!0){case!o.fontStyle&&vd.styles.includes(t):"inherit"!==t&&(e=t),o.fontStyle=!0;break;case!o.fontVariant&&vd.variants.includes(t):"inherit"!==t&&(r=t),o.fontStyle=!0,o.fontVariant=!0;break;case!o.fontWeight&&vd.weights.includes(t):"inherit"!==t&&(n=t),o.fontStyle=!0,o.fontVariant=!0,o.fontWeight=!0;break;case!o.fontSize:"inherit"!==t&&([i]=t.split("/")),o.fontStyle=!0,o.fontVariant=!0,o.fontWeight=!0,o.fontSize=!0;break;default:"inherit"!==t&&(a+=t)}}),new vd(e,r,n,i,a,t)}toString(){return[md(this.fontStyle),this.fontVariant,yd(this.fontWeight),this.fontSize,(t=this.fontFamily,"undefined"==typeof process?t:t.trim().split(",").map(gd).join(","))].join(" ").trim();var t}}vd.styles="normal|italic|oblique|inherit",vd.variants="normal|small-caps|inherit",vd.weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";class bd{constructor(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.NaN,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.NaN,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.NaN,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Number.NaN;this.x1=t,this.y1=e,this.x2=r,this.y2=n,this.addPoint(t,e),this.addPoint(r,n)}get x(){return this.x1}get y(){return this.y1}get width(){return this.x2-this.x1}get height(){return this.y2-this.y1}addPoint(t,e){void 0!==t&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=t,this.x2=t),t<this.x1&&(this.x1=t),t>this.x2&&(this.x2=t)),void 0!==e&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=e,this.y2=e),e<this.y1&&(this.y1=e),e>this.y2&&(this.y2=e))}addX(t){this.addPoint(t,null)}addY(t){this.addPoint(null,t)}addBoundingBox(t){if(t){var{x1:e,y1:r,x2:n,y2:i}=t;this.addPoint(e,r),this.addPoint(n,i)}}sumCubic(t,e,r,n,i){return Math.pow(1-t,3)*e+3*Math.pow(1-t,2)*t*r+3*(1-t)*Math.pow(t,2)*n+Math.pow(t,3)*i}bezierCurveAdd(t,e,r,n,i){var a=6*e-12*r+6*n,s=-3*e+9*r-9*n+3*i,o=3*r-3*e;if(0!==s){var u=Math.pow(a,2)-4*o*s;if(!(u<0)){var h=(-a+Math.sqrt(u))/(2*s);0<h&&h<1&&(t?this.addX(this.sumCubic(h,e,r,n,i)):this.addY(this.sumCubic(h,e,r,n,i)));var l=(-a-Math.sqrt(u))/(2*s);0<l&&l<1&&(t?this.addX(this.sumCubic(l,e,r,n,i)):this.addY(this.sumCubic(l,e,r,n,i)))}}else{if(0===a)return;var c=-o/a;0<c&&c<1&&(t?this.addX(this.sumCubic(c,e,r,n,i)):this.addY(this.sumCubic(c,e,r,n,i)))}}addBezierCurve(t,e,r,n,i,a,s,o){this.addPoint(t,e),this.addPoint(s,o),this.bezierCurveAdd(!0,t,r,i,s),this.bezierCurveAdd(!1,e,n,a,o)}addQuadraticCurve(t,e,r,n,i,a){var s=t+2/3*(r-t),o=e+2/3*(n-e),u=s+1/3*(i-t),h=o+1/3*(a-e);this.addBezierCurve(t,e,s,u,o,h,i,a)}isPointInBox(t,e){var{x1:r,y1:n,x2:i,y2:a}=this;return r<=t&&t<=i&&n<=e&&e<=a}}class xd extends ff{constructor(t){super(t.replace(/([+\-.])\s+/gm,"$1").replace(/[^MmZzLlHhVvCcSsQqTtAae\d\s.,+-].*/g,"")),this.control=null,this.start=null,this.current=null,this.command=null,this.commands=this.commands,this.i=-1,this.previousCommand=null,this.points=[],this.angles=[]}reset(){this.i=-1,this.command=null,this.previousCommand=null,this.start=new Qf(0,0),this.control=new Qf(0,0),this.current=new Qf(0,0),this.points=[],this.angles=[]}isEnd(){var{i:t,commands:e}=this;return t>=e.length-1}next(){var t=this.commands[++this.i];return this.previousCommand=this.command,this.command=t,t}getPoint(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"x",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"y",r=new Qf(this.command[t],this.command[e]);return this.makeAbsolute(r)}getAsControlPoint(t,e){var r=this.getPoint(t,e);return this.control=r,r}getAsCurrentPoint(t,e){var r=this.getPoint(t,e);return this.current=r,r}getReflectedControlPoint(){var t=this.previousCommand.type;if(t!==ff.CURVE_TO&&t!==ff.SMOOTH_CURVE_TO&&t!==ff.QUAD_TO&&t!==ff.SMOOTH_QUAD_TO)return this.current;var{current:{x:e,y:r},control:{x:n,y:i}}=this;return new Qf(2*e-n,2*r-i)}makeAbsolute(t){if(this.command.relative){var{x:e,y:r}=this.current;t.x+=e,t.y+=r}return t}addMarker(t,e,r){var{points:n,angles:i}=this;r&&i.length>0&&!i[i.length-1]&&(i[i.length-1]=n[n.length-1].angleTo(r)),this.addMarkerAngle(t,e?e.angleTo(t):null)}addMarkerAngle(t,e){this.points.push(t),this.angles.push(e)}getMarkerPoints(){return this.points}getMarkerAngles(){for(var{angles:t}=this,e=t.length,r=0;r<e;r++)if(!t[r])for(var n=r+1;n<e;n++)if(t[n]){t[r]=t[n];break}return t}}class wd extends dd{constructor(){super(...arguments),this.modifiedEmSizeStack=!1}calculateOpacity(){for(var t=1,e=this;e;){var r=e.getStyle("opacity",!1,!0);r.hasValue(!0)&&(t*=r.getNumber()),e=e.parent}return t}setContext(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e){var r=this.getStyle("fill"),n=this.getStyle("fill-opacity"),i=this.getStyle("stroke"),a=this.getStyle("stroke-opacity");if(r.isUrlDefinition()){var s=r.getFillStyleDefinition(this,n);s&&(t.fillStyle=s)}else if(r.hasValue()){"currentColor"===r.getString()&&r.setValue(this.getStyle("color").getColor());var o=r.getColor();"inherit"!==o&&(t.fillStyle="none"===o?"rgba(0,0,0,0)":o)}if(n.hasValue()){var u=new qf(this.document,"fill",t.fillStyle).addOpacity(n).getColor();t.fillStyle=u}if(i.isUrlDefinition()){var h=i.getFillStyleDefinition(this,a);h&&(t.strokeStyle=h)}else if(i.hasValue()){"currentColor"===i.getString()&&i.setValue(this.getStyle("color").getColor());var l=i.getString();"inherit"!==l&&(t.strokeStyle="none"===l?"rgba(0,0,0,0)":l)}if(a.hasValue()){var c=new qf(this.document,"stroke",t.strokeStyle).addOpacity(a).getString();t.strokeStyle=c}var f=this.getStyle("stroke-width");if(f.hasValue()){var d=f.getPixels();t.lineWidth=d||Vf}var p=this.getStyle("stroke-linecap"),g=this.getStyle("stroke-linejoin"),m=this.getStyle("stroke-miterlimit"),y=this.getStyle("stroke-dasharray"),v=this.getStyle("stroke-dashoffset");if(p.hasValue()&&(t.lineCap=p.getString()),g.hasValue()&&(t.lineJoin=g.getString()),m.hasValue()&&(t.miterLimit=m.getNumber()),y.hasValue()&&"none"!==y.getString()){var b=Af(y.getString());void 0!==t.setLineDash?t.setLineDash(b):void 0!==t.webkitLineDash?t.webkitLineDash=b:void 0===t.mozDash||1===b.length&&0===b[0]||(t.mozDash=b);var x=v.getPixels();void 0!==t.lineDashOffset?t.lineDashOffset=x:void 0!==t.webkitLineDashOffset?t.webkitLineDashOffset=x:void 0!==t.mozDashOffset&&(t.mozDashOffset=x)}}if(this.modifiedEmSizeStack=!1,void 0!==t.font){var w=this.getStyle("font"),T=this.getStyle("font-style"),S=this.getStyle("font-variant"),A=this.getStyle("font-weight"),E=this.getStyle("font-size"),_=this.getStyle("font-family"),O=new vd(T.getString(),S.getString(),A.getString(),E.hasValue()?"".concat(E.getPixels(!0),"px"):"",_.getString(),vd.parse(w.getString(),t.font));T.setValue(O.fontStyle),S.setValue(O.fontVariant),A.setValue(O.fontWeight),E.setValue(O.fontSize),_.setValue(O.fontFamily),t.font=O.toString(),E.isPixels()&&(this.document.emSize=E.getPixels(),this.modifiedEmSizeStack=!0)}e||(this.applyEffects(t),t.globalAlpha=this.calculateOpacity())}clearContext(t){super.clearContext(t),this.modifiedEmSizeStack&&this.document.popEmSize()}}class Td extends wd{constructor(t,e,r){super(t,e,r),this.type="path",this.pathParser=null,this.pathParser=new xd(this.getAttribute("d").getString())}path(t){var{pathParser:e}=this,r=new bd;for(e.reset(),t&&t.beginPath();!e.isEnd();)switch(e.next().type){case xd.MOVE_TO:this.pathM(t,r);break;case xd.LINE_TO:this.pathL(t,r);break;case xd.HORIZ_LINE_TO:this.pathH(t,r);break;case xd.VERT_LINE_TO:this.pathV(t,r);break;case xd.CURVE_TO:this.pathC(t,r);break;case xd.SMOOTH_CURVE_TO:this.pathS(t,r);break;case xd.QUAD_TO:this.pathQ(t,r);break;case xd.SMOOTH_QUAD_TO:this.pathT(t,r);break;case xd.ARC:this.pathA(t,r);break;case xd.CLOSE_PATH:this.pathZ(t,r)}return r}getBoundingBox(t){return this.path()}getMarkers(){var{pathParser:t}=this,e=t.getMarkerPoints(),r=t.getMarkerAngles(),n=e.map((t,e)=>[t,r[e]]);return n}renderChildren(t){this.path(t),this.document.screen.mouse.checkPath(this,t);var e=this.getStyle("fill-rule");""!==t.fillStyle&&("inherit"!==e.getString("inherit")?t.fill(e.getString()):t.fill()),""!==t.strokeStyle&&("non-scaling-stroke"===this.getAttribute("vector-effect").getString()?(t.save(),t.setTransform(1,0,0,1,0,0),t.stroke(),t.restore()):t.stroke());var r=this.getMarkers();if(r){var n=r.length-1,i=this.getStyle("marker-start"),a=this.getStyle("marker-mid"),s=this.getStyle("marker-end");if(i.isUrlDefinition()){var o=i.getDefinition(),[u,h]=r[0];o.render(t,u,h)}if(a.isUrlDefinition())for(var l=a.getDefinition(),c=1;c<n;c++){var[f,d]=r[c];l.render(t,f,d)}if(s.isUrlDefinition()){var p=s.getDefinition(),[g,m]=r[n];p.render(t,g,m)}}}static pathM(t){var e=t.getAsCurrentPoint();return t.start=t.current,{point:e}}pathM(t,e){var{pathParser:r}=this,{point:n}=Td.pathM(r),{x:i,y:a}=n;r.addMarker(n),e.addPoint(i,a),t&&t.moveTo(i,a)}static pathL(t){var{current:e}=t;return{current:e,point:t.getAsCurrentPoint()}}pathL(t,e){var{pathParser:r}=this,{current:n,point:i}=Td.pathL(r),{x:a,y:s}=i;r.addMarker(i,n),e.addPoint(a,s),t&&t.lineTo(a,s)}static pathH(t){var{current:e,command:r}=t,n=new Qf((r.relative?e.x:0)+r.x,e.y);return t.current=n,{current:e,point:n}}pathH(t,e){var{pathParser:r}=this,{current:n,point:i}=Td.pathH(r),{x:a,y:s}=i;r.addMarker(i,n),e.addPoint(a,s),t&&t.lineTo(a,s)}static pathV(t){var{current:e,command:r}=t,n=new Qf(e.x,(r.relative?e.y:0)+r.y);return t.current=n,{current:e,point:n}}pathV(t,e){var{pathParser:r}=this,{current:n,point:i}=Td.pathV(r),{x:a,y:s}=i;r.addMarker(i,n),e.addPoint(a,s),t&&t.lineTo(a,s)}static pathC(t){var{current:e}=t;return{current:e,point:t.getPoint("x1","y1"),controlPoint:t.getAsControlPoint("x2","y2"),currentPoint:t.getAsCurrentPoint()}}pathC(t,e){var{pathParser:r}=this,{current:n,point:i,controlPoint:a,currentPoint:s}=Td.pathC(r);r.addMarker(s,a,i),e.addBezierCurve(n.x,n.y,i.x,i.y,a.x,a.y,s.x,s.y),t&&t.bezierCurveTo(i.x,i.y,a.x,a.y,s.x,s.y)}static pathS(t){var{current:e}=t;return{current:e,point:t.getReflectedControlPoint(),controlPoint:t.getAsControlPoint("x2","y2"),currentPoint:t.getAsCurrentPoint()}}pathS(t,e){var{pathParser:r}=this,{current:n,point:i,controlPoint:a,currentPoint:s}=Td.pathS(r);r.addMarker(s,a,i),e.addBezierCurve(n.x,n.y,i.x,i.y,a.x,a.y,s.x,s.y),t&&t.bezierCurveTo(i.x,i.y,a.x,a.y,s.x,s.y)}static pathQ(t){var{current:e}=t;return{current:e,controlPoint:t.getAsControlPoint("x1","y1"),currentPoint:t.getAsCurrentPoint()}}pathQ(t,e){var{pathParser:r}=this,{current:n,controlPoint:i,currentPoint:a}=Td.pathQ(r);r.addMarker(a,i,i),e.addQuadraticCurve(n.x,n.y,i.x,i.y,a.x,a.y),t&&t.quadraticCurveTo(i.x,i.y,a.x,a.y)}static pathT(t){var{current:e}=t,r=t.getReflectedControlPoint();return t.control=r,{current:e,controlPoint:r,currentPoint:t.getAsCurrentPoint()}}pathT(t,e){var{pathParser:r}=this,{current:n,controlPoint:i,currentPoint:a}=Td.pathT(r);r.addMarker(a,i,i),e.addQuadraticCurve(n.x,n.y,i.x,i.y,a.x,a.y),t&&t.quadraticCurveTo(i.x,i.y,a.x,a.y)}static pathA(t){var{current:e,command:r}=t,{rX:n,rY:i,xRot:a,lArcFlag:s,sweepFlag:o}=r,u=a*(Math.PI/180),h=t.getAsCurrentPoint(),l=new Qf(Math.cos(u)*(e.x-h.x)/2+Math.sin(u)*(e.y-h.y)/2,-Math.sin(u)*(e.x-h.x)/2+Math.cos(u)*(e.y-h.y)/2),c=Math.pow(l.x,2)/Math.pow(n,2)+Math.pow(l.y,2)/Math.pow(i,2);c>1&&(n*=Math.sqrt(c),i*=Math.sqrt(c));var f=(s===o?-1:1)*Math.sqrt((Math.pow(n,2)*Math.pow(i,2)-Math.pow(n,2)*Math.pow(l.y,2)-Math.pow(i,2)*Math.pow(l.x,2))/(Math.pow(n,2)*Math.pow(l.y,2)+Math.pow(i,2)*Math.pow(l.x,2)));isNaN(f)&&(f=0);var d=new Qf(f*n*l.y/i,f*-i*l.x/n),p=new Qf((e.x+h.x)/2+Math.cos(u)*d.x-Math.sin(u)*d.y,(e.y+h.y)/2+Math.sin(u)*d.x+Math.cos(u)*d.y),g=zf([1,0],[(l.x-d.x)/n,(l.y-d.y)/i]),m=[(l.x-d.x)/n,(l.y-d.y)/i],y=[(-l.x-d.x)/n,(-l.y-d.y)/i],v=zf(m,y);return Ff(m,y)<=-1&&(v=Math.PI),Ff(m,y)>=1&&(v=0),{currentPoint:h,rX:n,rY:i,sweepFlag:o,xAxisRotation:u,centp:p,a1:g,ad:v}}pathA(t,e){var{pathParser:r}=this,{currentPoint:n,rX:i,rY:a,sweepFlag:s,xAxisRotation:o,centp:u,a1:h,ad:l}=Td.pathA(r),c=1-s?1:-1,f=h+c*(l/2),d=new Qf(u.x+i*Math.cos(f),u.y+a*Math.sin(f));if(r.addMarkerAngle(d,f-c*Math.PI/2),r.addMarkerAngle(n,f-c*Math.PI),e.addPoint(n.x,n.y),t&&!isNaN(h)&&!isNaN(l)){var p=i>a?i:a,g=i>a?1:i/a,m=i>a?a/i:1;t.translate(u.x,u.y),t.rotate(o),t.scale(g,m),t.arc(0,0,p,h,h+l,Boolean(1-s)),t.scale(1/g,1/m),t.rotate(-o),t.translate(-u.x,-u.y)}}static pathZ(t){t.current=t.start}pathZ(t,e){Td.pathZ(this.pathParser),t&&e.x1!==e.x2&&e.y1!==e.y2&&t.closePath()}}class Sd extends Td{constructor(t,e,r){super(t,e,r),this.type="glyph",this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber(),this.unicode=this.getAttribute("unicode").getString(),this.arabicForm=this.getAttribute("arabic-form").getString()}}class Ad extends wd{constructor(t,e,r){super(t,e,new.target===Ad||r),this.type="text",this.x=0,this.y=0,this.measureCache=-1}setContext(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super.setContext(t,e);var r=this.getStyle("dominant-baseline").getTextBaseline()||this.getStyle("alignment-baseline").getTextBaseline();r&&(t.textBaseline=r)}initializeCoordinates(){this.x=0,this.y=0,this.leafTexts=[],this.textChunkStart=0,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY}getBoundingBox(t){if("text"!==this.type)return this.getTElementBoundingBox(t);this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(t);var e=null;return this.children.forEach((r,n)=>{var i=this.getChildBoundingBox(t,this,this,n);e?e.addBoundingBox(i):e=i}),e}getFontSize(){var{document:t,parent:e}=this,r=vd.parse(t.ctx.font).fontSize;return e.getStyle("font-size").getNumber(r)}getTElementBoundingBox(t){var e=this.getFontSize();return new bd(this.x,this.y-e,this.x+this.measureText(t),this.y)}getGlyph(t,e,r){var n=e[r],i=null;if(t.isArabic){var a=e.length,s=e[r-1],o=e[r+1],u="isolated";if((0===r||" "===s)&&r<a-1&&" "!==o&&(u="terminal"),r>0&&" "!==s&&r<a-1&&" "!==o&&(u="medial"),r>0&&" "!==s&&(r===a-1||" "===o)&&(u="initial"),void 0!==t.glyphs[n]){var h=t.glyphs[n];i=h instanceof Sd?h:h[u]}}else i=t.glyphs[n];return i||(i=t.missingGlyph),i}getText(){return""}getTextFromNode(t){var e=t||this.node,r=Array.from(e.parentNode.childNodes),n=r.indexOf(e),i=r.length-1,a=wf(e.textContent||"");return 0===n&&(a=Tf(a)),n===i&&(a=Sf(a)),a}renderChildren(t){if("text"===this.type){this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(t),this.children.forEach((e,r)=>{this.renderChild(t,this,this,r)});var{mouse:e}=this.document.screen;e.isWorking()&&e.checkBoundingBox(this,this.getBoundingBox(t))}else this.renderTElementChildren(t)}renderTElementChildren(t){var{document:e,parent:r}=this,n=this.getText(),i=r.getStyle("font-family").getDefinition();if(i)for(var{unitsPerEm:a}=i.fontFace,s=vd.parse(e.ctx.font),o=r.getStyle("font-size").getNumber(s.fontSize),u=r.getStyle("font-style").getString(s.fontStyle),h=o/a,l=i.isRTL?n.split("").reverse().join(""):n,c=Af(r.getAttribute("dx").getString()),f=l.length,d=0;d<f;d++){var p=this.getGlyph(i,l,d);t.translate(this.x,this.y),t.scale(h,-h);var g=t.lineWidth;t.lineWidth=t.lineWidth*a/o,"italic"===u&&t.transform(1,0,.4,1,0,0),p.render(t),"italic"===u&&t.transform(1,0,-.4,1,0,0),t.lineWidth=g,t.scale(1/h,-1/h),t.translate(-this.x,-this.y),this.x+=o*(p.horizAdvX||i.horizAdvX)/a,void 0===c[d]||isNaN(c[d])||(this.x+=c[d])}else{var{x:m,y:y}=this;t.fillStyle&&t.fillText(n,m,y),t.strokeStyle&&t.strokeText(n,m,y)}}applyAnchoring(){if(!(this.textChunkStart>=this.leafTexts.length)){var t=this.leafTexts[this.textChunkStart],e=t.getStyle("text-anchor").getString("start"),r=0;r="start"===e?t.x-this.minX:"end"===e?t.x-this.maxX:t.x-(this.minX+this.maxX)/2;for(var n=this.textChunkStart;n<this.leafTexts.length;n++)this.leafTexts[n].x+=r;this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.textChunkStart=this.leafTexts.length}}adjustChildCoordinatesRecursive(t){this.children.forEach((e,r)=>{this.adjustChildCoordinatesRecursiveCore(t,this,this,r)}),this.applyAnchoring()}adjustChildCoordinatesRecursiveCore(t,e,r,n){var i=r.children[n];i.children.length>0?i.children.forEach((r,n)=>{e.adjustChildCoordinatesRecursiveCore(t,e,i,n)}):this.adjustChildCoordinates(t,e,r,n)}adjustChildCoordinates(t,e,r,n){var i=r.children[n];if("function"!=typeof i.measureText)return i;t.save(),i.setContext(t,!0);var a=i.getAttribute("x"),s=i.getAttribute("y"),o=i.getAttribute("dx"),u=i.getAttribute("dy"),h=i.getStyle("font-family").getDefinition(),l=Boolean(h)&&h.isRTL;0===n&&(a.hasValue()||a.setValue(i.getInheritedAttribute("x")),s.hasValue()||s.setValue(i.getInheritedAttribute("y")),o.hasValue()||o.setValue(i.getInheritedAttribute("dx")),u.hasValue()||u.setValue(i.getInheritedAttribute("dy")));var c=i.measureText(t);return l&&(e.x-=c),a.hasValue()?(e.applyAnchoring(),i.x=a.getPixels("x"),o.hasValue()&&(i.x+=o.getPixels("x"))):(o.hasValue()&&(e.x+=o.getPixels("x")),i.x=e.x),e.x=i.x,l||(e.x+=c),s.hasValue()?(i.y=s.getPixels("y"),u.hasValue()&&(i.y+=u.getPixels("y"))):(u.hasValue()&&(e.y+=u.getPixels("y")),i.y=e.y),e.y=i.y,e.leafTexts.push(i),e.minX=Math.min(e.minX,i.x,i.x+c),e.maxX=Math.max(e.maxX,i.x,i.x+c),i.clearContext(t),t.restore(),i}getChildBoundingBox(t,e,r,n){var i=r.children[n];if("function"!=typeof i.getBoundingBox)return null;var a=i.getBoundingBox(t);return a?(i.children.forEach((r,n)=>{var s=e.getChildBoundingBox(t,e,i,n);a.addBoundingBox(s)}),a):null}renderChild(t,e,r,n){var i=r.children[n];i.render(t),i.children.forEach((r,n)=>{e.renderChild(t,e,i,n)})}measureText(t){var{measureCache:e}=this;if(~e)return e;var r=this.getText(),n=this.measureTargetText(t,r);return this.measureCache=n,n}measureTargetText(t,e){if(!e.length)return 0;var{parent:r}=this,n=r.getStyle("font-family").getDefinition();if(n){for(var i=this.getFontSize(),a=n.isRTL?e.split("").reverse().join(""):e,s=Af(r.getAttribute("dx").getString()),o=a.length,u=0,h=0;h<o;h++){u+=(this.getGlyph(n,a,h).horizAdvX||n.horizAdvX)*i/n.fontFace.unitsPerEm,void 0===s[h]||isNaN(s[h])||(u+=s[h])}return u}if(!t.measureText)return 10*e.length;t.save(),this.setContext(t,!0);var{width:l}=t.measureText(e);return this.clearContext(t),t.restore(),l}getInheritedAttribute(t){for(var e=this;e instanceof Ad&&e.isFirstChild();){var r=e.parent.getAttribute(t);if(r.hasValue(!0))return r.getValue("0");e=e.parent}return null}}class Ed extends Ad{constructor(t,e,r){super(t,e,new.target===Ed||r),this.type="tspan",this.text=this.children.length>0?"":this.getTextFromNode()}getText(){return this.text}}class _d extends Ed{constructor(){super(...arguments),this.type="textNode"}}class Od extends wd{constructor(){super(...arguments),this.type="svg",this.root=!1}setContext(t){var e,{document:r}=this,{screen:n,window:i}=r,a=t.canvas;if(n.setDefaults(t),a.style&&void 0!==t.font&&i&&void 0!==i.getComputedStyle){t.font=i.getComputedStyle(a).getPropertyValue("font");var s=new qf(r,"fontSize",vd.parse(t.font).fontSize);s.hasValue()&&(r.rootEmSize=s.getPixels("y"),r.emSize=r.rootEmSize)}this.getAttribute("x").hasValue()||this.getAttribute("x",!0).setValue(0),this.getAttribute("y").hasValue()||this.getAttribute("y",!0).setValue(0);var{width:o,height:u}=n.viewPort;this.getStyle("width").hasValue()||this.getStyle("width",!0).setValue("100%"),this.getStyle("height").hasValue()||this.getStyle("height",!0).setValue("100%"),this.getStyle("color").hasValue()||this.getStyle("color",!0).setValue("black");var h=this.getAttribute("refX"),l=this.getAttribute("refY"),c=this.getAttribute("viewBox"),f=c.hasValue()?Af(c.getString()):null,d=!this.root&&"visible"!==this.getStyle("overflow").getValue("hidden"),p=0,g=0,m=0,y=0;f&&(p=f[0],g=f[1]),this.root||(o=this.getStyle("width").getPixels("x"),u=this.getStyle("height").getPixels("y"),"marker"===this.type&&(m=p,y=g,p=0,g=0)),n.viewPort.setCurrent(o,u),!this.node||this.parent&&"foreignObject"!==(null===(e=this.node.parentNode)||void 0===e?void 0:e.nodeName)||!this.getStyle("transform",!1,!0).hasValue()||this.getStyle("transform-origin",!1,!0).hasValue()||this.getStyle("transform-origin",!0,!0).setValue("50% 50%"),super.setContext(t),t.translate(this.getAttribute("x").getPixels("x"),this.getAttribute("y").getPixels("y")),f&&(o=f[2],u=f[3]),r.setViewBox({ctx:t,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:n.viewPort.width,desiredWidth:o,height:n.viewPort.height,desiredHeight:u,minX:p,minY:g,refX:h.getValue(),refY:l.getValue(),clip:d,clipX:m,clipY:y}),f&&(n.viewPort.removeCurrent(),n.viewPort.setCurrent(o,u))}clearContext(t){super.clearContext(t),this.document.screen.viewPort.removeCurrent()}resize(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.getAttribute("width",!0),i=this.getAttribute("height",!0),a=this.getAttribute("viewBox"),s=this.getAttribute("style"),o=n.getNumber(0),u=i.getNumber(0);if(r)if("string"==typeof r)this.getAttribute("preserveAspectRatio",!0).setValue(r);else{var h=this.getAttribute("preserveAspectRatio");h.hasValue()&&h.setValue(h.getString().replace(/^\s*(\S.*\S)\s*$/,"$1"))}if(n.setValue(t),i.setValue(e),a.hasValue()||a.setValue("0 0 ".concat(o||t," ").concat(u||e)),s.hasValue()){var l=this.getStyle("width"),c=this.getStyle("height");l.hasValue()&&l.setValue("".concat(t,"px")),c.hasValue()&&c.setValue("".concat(e,"px"))}}}class Cd extends Td{constructor(){super(...arguments),this.type="rect"}path(t){var e=this.getAttribute("x").getPixels("x"),r=this.getAttribute("y").getPixels("y"),n=this.getStyle("width",!1,!0).getPixels("x"),i=this.getStyle("height",!1,!0).getPixels("y"),a=this.getAttribute("rx"),s=this.getAttribute("ry"),o=a.getPixels("x"),u=s.getPixels("y");if(a.hasValue()&&!s.hasValue()&&(u=o),s.hasValue()&&!a.hasValue()&&(o=u),o=Math.min(o,n/2),u=Math.min(u,i/2),t){var h=(Math.sqrt(2)-1)/3*4;t.beginPath(),i>0&&n>0&&(t.moveTo(e+o,r),t.lineTo(e+n-o,r),t.bezierCurveTo(e+n-o+h*o,r,e+n,r+u-h*u,e+n,r+u),t.lineTo(e+n,r+i-u),t.bezierCurveTo(e+n,r+i-u+h*u,e+n-o+h*o,r+i,e+n-o,r+i),t.lineTo(e+o,r+i),t.bezierCurveTo(e+o-h*o,r+i,e,r+i-u+h*u,e,r+i-u),t.lineTo(e,r+u),t.bezierCurveTo(e,r+u-h*u,e+o-h*o,r,e+o,r),t.closePath())}return new bd(e,r,e+n,r+i)}getMarkers(){return null}}class kd extends Td{constructor(){super(...arguments),this.type="circle"}path(t){var e=this.getAttribute("cx").getPixels("x"),r=this.getAttribute("cy").getPixels("y"),n=this.getAttribute("r").getPixels();return t&&n>0&&(t.beginPath(),t.arc(e,r,n,0,2*Math.PI,!1),t.closePath()),new bd(e-n,r-n,e+n,r+n)}getMarkers(){return null}}class Nd extends Td{constructor(){super(...arguments),this.type="ellipse"}path(t){var e=(Math.sqrt(2)-1)/3*4,r=this.getAttribute("rx").getPixels("x"),n=this.getAttribute("ry").getPixels("y"),i=this.getAttribute("cx").getPixels("x"),a=this.getAttribute("cy").getPixels("y");return t&&r>0&&n>0&&(t.beginPath(),t.moveTo(i+r,a),t.bezierCurveTo(i+r,a+e*n,i+e*r,a+n,i,a+n),t.bezierCurveTo(i-e*r,a+n,i-r,a+e*n,i-r,a),t.bezierCurveTo(i-r,a-e*n,i-e*r,a-n,i,a-n),t.bezierCurveTo(i+e*r,a-n,i+r,a-e*n,i+r,a),t.closePath()),new bd(i-r,a-n,i+r,a+n)}getMarkers(){return null}}class Pd extends Td{constructor(){super(...arguments),this.type="line"}getPoints(){return[new Qf(this.getAttribute("x1").getPixels("x"),this.getAttribute("y1").getPixels("y")),new Qf(this.getAttribute("x2").getPixels("x"),this.getAttribute("y2").getPixels("y"))]}path(t){var[{x:e,y:r},{x:n,y:i}]=this.getPoints();return t&&(t.beginPath(),t.moveTo(e,r),t.lineTo(n,i)),new bd(e,r,n,i)}getMarkers(){var[t,e]=this.getPoints(),r=t.angleTo(e);return[[t,r],[e,r]]}}class Md extends Td{constructor(t,e,r){super(t,e,r),this.type="polyline",this.points=[],this.points=Qf.parsePath(this.getAttribute("points").getString())}path(t){var{points:e}=this,[{x:r,y:n}]=e,i=new bd(r,n);return t&&(t.beginPath(),t.moveTo(r,n)),e.forEach(e=>{var{x:r,y:n}=e;i.addPoint(r,n),t&&t.lineTo(r,n)}),i}getMarkers(){var{points:t}=this,e=t.length-1,r=[];return t.forEach((n,i)=>{i!==e&&r.push([n,n.angleTo(t[i+1])])}),r.length>0&&r.push([t[t.length-1],r[r.length-1][1]]),r}}class Rd extends Md{constructor(){super(...arguments),this.type="polygon"}path(t){var e=super.path(t),[{x:r,y:n}]=this.points;return t&&(t.lineTo(r,n),t.closePath()),e}}class Id extends dd{constructor(){super(...arguments),this.type="pattern"}createPattern(t,e,r){var n=this.getStyle("width").getPixels("x",!0),i=this.getStyle("height").getPixels("y",!0),a=new Od(this.document,null);a.attributes.viewBox=new qf(this.document,"viewBox",this.getAttribute("viewBox").getValue()),a.attributes.width=new qf(this.document,"width","".concat(n,"px")),a.attributes.height=new qf(this.document,"height","".concat(i,"px")),a.attributes.transform=new qf(this.document,"transform",this.getAttribute("patternTransform").getValue()),a.children=this.children;var s=this.document.createCanvas(n,i),o=s.getContext("2d"),u=this.getAttribute("x"),h=this.getAttribute("y");u.hasValue()&&h.hasValue()&&o.translate(u.getPixels("x",!0),h.getPixels("y",!0)),r.hasValue()?this.styles["fill-opacity"]=r:Reflect.deleteProperty(this.styles,"fill-opacity");for(var l=-1;l<=1;l++)for(var c=-1;c<=1;c++)o.save(),a.attributes.x=new qf(this.document,"x",l*s.width),a.attributes.y=new qf(this.document,"y",c*s.height),a.render(o),o.restore();return t.createPattern(s,"repeat")}}class Dd extends dd{constructor(){super(...arguments),this.type="marker"}render(t,e,r){if(e){var{x:n,y:i}=e,a=this.getAttribute("orient").getString("auto"),s=this.getAttribute("markerUnits").getString("strokeWidth");t.translate(n,i),"auto"===a&&t.rotate(r),"strokeWidth"===s&&t.scale(t.lineWidth,t.lineWidth),t.save();var o=new Od(this.document,null);o.type=this.type,o.attributes.viewBox=new qf(this.document,"viewBox",this.getAttribute("viewBox").getValue()),o.attributes.refX=new qf(this.document,"refX",this.getAttribute("refX").getValue()),o.attributes.refY=new qf(this.document,"refY",this.getAttribute("refY").getValue()),o.attributes.width=new qf(this.document,"width",this.getAttribute("markerWidth").getValue()),o.attributes.height=new qf(this.document,"height",this.getAttribute("markerHeight").getValue()),o.attributes.overflow=new qf(this.document,"overflow",this.getAttribute("overflow").getValue()),o.attributes.fill=new qf(this.document,"fill",this.getAttribute("fill").getColor("black")),o.attributes.stroke=new qf(this.document,"stroke",this.getAttribute("stroke").getValue("none")),o.children=this.children,o.render(t),t.restore(),"strokeWidth"===s&&t.scale(1/t.lineWidth,1/t.lineWidth),"auto"===a&&t.rotate(-r),t.translate(-n,-i)}}}class Ld extends dd{constructor(){super(...arguments),this.type="defs"}render(){}}class Ud extends wd{constructor(){super(...arguments),this.type="g"}getBoundingBox(t){var e=new bd;return this.children.forEach(r=>{e.addBoundingBox(r.getBoundingBox(t))}),e}}class Vd extends dd{constructor(t,e,r){super(t,e,r),this.attributesToInherit=["gradientUnits"],this.stops=[];var{stops:n,children:i}=this;i.forEach(t=>{"stop"===t.type&&n.push(t)})}getGradientUnits(){return this.getAttribute("gradientUnits").getString("objectBoundingBox")}createGradient(t,e,r){var n=this;this.getHrefAttribute().hasValue()&&(n=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(n));var{stops:i}=n,a=this.getGradient(t,e);if(!a)return this.addParentOpacity(r,i[i.length-1].color);if(i.forEach(t=>{a.addColorStop(t.offset,this.addParentOpacity(r,t.color))}),this.getAttribute("gradientTransform").hasValue()){var{document:s}=this,{MAX_VIRTUAL_PIXELS:o,viewPort:u}=s.screen,[h]=u.viewPorts,l=new Cd(s,null);l.attributes.x=new qf(s,"x",-o/3),l.attributes.y=new qf(s,"y",-o/3),l.attributes.width=new qf(s,"width",o),l.attributes.height=new qf(s,"height",o);var c=new Ud(s,null);c.attributes.transform=new qf(s,"transform",this.getAttribute("gradientTransform").getValue()),c.children=[l];var f=new Od(s,null);f.attributes.x=new qf(s,"x",0),f.attributes.y=new qf(s,"y",0),f.attributes.width=new qf(s,"width",h.width),f.attributes.height=new qf(s,"height",h.height),f.children=[c];var d=s.createCanvas(h.width,h.height),p=d.getContext("2d");return p.fillStyle=a,f.render(p),p.createPattern(d,"no-repeat")}return a}inheritStopContainer(t){this.attributesToInherit.forEach(e=>{!this.getAttribute(e).hasValue()&&t.getAttribute(e).hasValue()&&this.getAttribute(e,!0).setValue(t.getAttribute(e).getValue())})}addParentOpacity(t,e){return t.hasValue()?new qf(this.document,"color",e).addOpacity(t).getColor():e}}class Bd extends Vd{constructor(t,e,r){super(t,e,r),this.type="linearGradient",this.attributesToInherit.push("x1","y1","x2","y2")}getGradient(t,e){var r="objectBoundingBox"===this.getGradientUnits(),n=r?e.getBoundingBox(t):null;if(r&&!n)return null;this.getAttribute("x1").hasValue()||this.getAttribute("y1").hasValue()||this.getAttribute("x2").hasValue()||this.getAttribute("y2").hasValue()||(this.getAttribute("x1",!0).setValue(0),this.getAttribute("y1",!0).setValue(0),this.getAttribute("x2",!0).setValue(1),this.getAttribute("y2",!0).setValue(0));var i=r?n.x+n.width*this.getAttribute("x1").getNumber():this.getAttribute("x1").getPixels("x"),a=r?n.y+n.height*this.getAttribute("y1").getNumber():this.getAttribute("y1").getPixels("y"),s=r?n.x+n.width*this.getAttribute("x2").getNumber():this.getAttribute("x2").getPixels("x"),o=r?n.y+n.height*this.getAttribute("y2").getNumber():this.getAttribute("y2").getPixels("y");return i===s&&a===o?null:t.createLinearGradient(i,a,s,o)}}class Fd extends Vd{constructor(t,e,r){super(t,e,r),this.type="radialGradient",this.attributesToInherit.push("cx","cy","r","fx","fy","fr")}getGradient(t,e){var r="objectBoundingBox"===this.getGradientUnits(),n=e.getBoundingBox(t);if(r&&!n)return null;this.getAttribute("cx").hasValue()||this.getAttribute("cx",!0).setValue("50%"),this.getAttribute("cy").hasValue()||this.getAttribute("cy",!0).setValue("50%"),this.getAttribute("r").hasValue()||this.getAttribute("r",!0).setValue("50%");var i=r?n.x+n.width*this.getAttribute("cx").getNumber():this.getAttribute("cx").getPixels("x"),a=r?n.y+n.height*this.getAttribute("cy").getNumber():this.getAttribute("cy").getPixels("y"),s=i,o=a;this.getAttribute("fx").hasValue()&&(s=r?n.x+n.width*this.getAttribute("fx").getNumber():this.getAttribute("fx").getPixels("x")),this.getAttribute("fy").hasValue()&&(o=r?n.y+n.height*this.getAttribute("fy").getNumber():this.getAttribute("fy").getPixels("y"));var u=r?(n.width+n.height)/2*this.getAttribute("r").getNumber():this.getAttribute("r").getPixels(),h=this.getAttribute("fr").getPixels();return t.createRadialGradient(s,o,h,i,a,u)}}class zd extends dd{constructor(t,e,r){super(t,e,r),this.type="stop";var n=Math.max(0,Math.min(1,this.getAttribute("offset").getNumber())),i=this.getStyle("stop-opacity"),a=this.getStyle("stop-color",!0);""===a.getString()&&a.setValue("#000"),i.hasValue()&&(a=a.addOpacity(i)),this.offset=n,this.color=a.getColor()}}class jd extends dd{constructor(t,e,r){super(t,e,r),this.type="animate",this.duration=0,this.initialValue=null,this.initialUnits="",this.removed=!1,this.frozen=!1,t.screen.animations.push(this),this.begin=this.getAttribute("begin").getMilliseconds(),this.maxDuration=this.begin+this.getAttribute("dur").getMilliseconds(),this.from=this.getAttribute("from"),this.to=this.getAttribute("to"),this.values=new qf(t,"values",null);var n=this.getAttribute("values");n.hasValue()&&this.values.setValue(n.getString().split(";"))}getProperty(){var t=this.getAttribute("attributeType").getString(),e=this.getAttribute("attributeName").getString();return"CSS"===t?this.parent.getStyle(e,!0):this.parent.getAttribute(e,!0)}calcValue(){var{initialUnits:t}=this,{progress:e,from:r,to:n}=this.getProgress(),i=r.getNumber()+(n.getNumber()-r.getNumber())*e;return"%"===t&&(i*=100),"".concat(i).concat(t)}update(t){var{parent:e}=this,r=this.getProperty();if(this.initialValue||(this.initialValue=r.getString(),this.initialUnits=r.getUnits()),this.duration>this.maxDuration){var n=this.getAttribute("fill").getString("remove");if("indefinite"===this.getAttribute("repeatCount").getString()||"indefinite"===this.getAttribute("repeatDur").getString())this.duration=0;else if("freeze"!==n||this.frozen){if("remove"===n&&!this.removed)return this.removed=!0,r.setValue(e.animationFrozen?e.animationFrozenValue:this.initialValue),!0}else this.frozen=!0,e.animationFrozen=!0,e.animationFrozenValue=r.getString();return!1}this.duration+=t;var i=!1;if(this.begin<this.duration){var a=this.calcValue(),s=this.getAttribute("type");if(s.hasValue()){var o=s.getString();a="".concat(o,"(").concat(a,")")}r.setValue(a),i=!0}return i}getProgress(){var{document:t,values:e}=this,r={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(e.hasValue()){var n=r.progress*(e.getValue().length-1),i=Math.floor(n),a=Math.ceil(n);r.from=new qf(t,"from",parseFloat(e.getValue()[i])),r.to=new qf(t,"to",parseFloat(e.getValue()[a])),r.progress=(n-i)/(a-i)}else r.from=this.from,r.to=this.to;return r}}class Hd extends jd{constructor(){super(...arguments),this.type="animateColor"}calcValue(){var{progress:t,from:e,to:r}=this.getProgress(),n=new Lc(e.getColor()),i=new Lc(r.getColor());if(n.ok&&i.ok){var a=n.r+(i.r-n.r)*t,s=n.g+(i.g-n.g)*t,o=n.b+(i.b-n.b)*t;return"rgb(".concat(Math.floor(a),", ").concat(Math.floor(s),", ").concat(Math.floor(o),")")}return this.getAttribute("from").getColor()}}class Xd extends jd{constructor(){super(...arguments),this.type="animateTransform"}calcValue(){var{progress:t,from:e,to:r}=this.getProgress(),n=Af(e.getString()),i=Af(r.getString()),a=n.map((e,r)=>e+(i[r]-e)*t).join(" ");return a}}class Yd extends dd{constructor(t,e,r){super(t,e,r),this.type="font",this.glyphs=Object.create(null),this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber();var{definitions:n}=t,{children:i}=this;for(var a of i)switch(a.type){case"font-face":this.fontFace=a;var s=a.getStyle("font-family");s.hasValue()&&(n[s.getString()]=this);break;case"missing-glyph":this.missingGlyph=a;break;case"glyph":var o=a;o.arabicForm?(this.isRTL=!0,this.isArabic=!0,void 0===this.glyphs[o.unicode]&&(this.glyphs[o.unicode]=Object.create(null)),this.glyphs[o.unicode][o.arabicForm]=o):this.glyphs[o.unicode]=o}}render(){}}class Wd extends dd{constructor(t,e,r){super(t,e,r),this.type="font-face",this.ascent=this.getAttribute("ascent").getNumber(),this.descent=this.getAttribute("descent").getNumber(),this.unitsPerEm=this.getAttribute("units-per-em").getNumber()}}class $d extends Td{constructor(){super(...arguments),this.type="missing-glyph",this.horizAdvX=0}}class Gd extends Ad{constructor(){super(...arguments),this.type="tref"}getText(){var t=this.getHrefAttribute().getDefinition();if(t){var e=t.children[0];if(e)return e.getText()}return""}}class qd extends Ad{constructor(t,e,r){super(t,e,r),this.type="a";var{childNodes:n}=e,i=n[0],a=n.length>0&&Array.from(n).every(t=>3===t.nodeType);this.hasText=a,this.text=a?this.getTextFromNode(i):""}getText(){return this.text}renderChildren(t){if(this.hasText){super.renderChildren(t);var{document:e,x:r,y:n}=this,{mouse:i}=e.screen,a=new qf(e,"fontSize",vd.parse(e.ctx.font).fontSize);i.isWorking()&&i.checkBoundingBox(this,new bd(r,n-a.getPixels("y"),r+this.measureText(t),n))}else if(this.children.length>0){var s=new Ud(this.document,null);s.children=this.children,s.parent=this,s.render(t)}}onClick(){var{window:t}=this.document;t&&t.open(this.getHrefAttribute().getString())}onMouseMove(){this.document.ctx.canvas.style.cursor="pointer"}}function Zd(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function Qd(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Zd(Object(r),!0).forEach(function(e){ac(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Zd(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}class Kd extends Ad{constructor(t,e,r){super(t,e,r),this.type="textPath",this.textWidth=0,this.textHeight=0,this.pathLength=-1,this.glyphInfo=null,this.letterSpacingCache=[],this.measuresCache=new Map([["",0]]);var n=this.getHrefAttribute().getDefinition();this.text=this.getTextFromNode(),this.dataArray=this.parsePathData(n)}getText(){return this.text}path(t){var{dataArray:e}=this;t&&t.beginPath(),e.forEach(e=>{var{type:r,points:n}=e;switch(r){case xd.LINE_TO:t&&t.lineTo(n[0],n[1]);break;case xd.MOVE_TO:t&&t.moveTo(n[0],n[1]);break;case xd.CURVE_TO:t&&t.bezierCurveTo(n[0],n[1],n[2],n[3],n[4],n[5]);break;case xd.QUAD_TO:t&&t.quadraticCurveTo(n[0],n[1],n[2],n[3]);break;case xd.ARC:var[i,a,s,o,u,h,l,c]=n,f=s>o?s:o,d=s>o?1:s/o,p=s>o?o/s:1;t&&(t.translate(i,a),t.rotate(l),t.scale(d,p),t.arc(0,0,f,u,u+h,Boolean(1-c)),t.scale(1/d,1/p),t.rotate(-l),t.translate(-i,-a));break;case xd.CLOSE_PATH:t&&t.closePath()}})}renderChildren(t){this.setTextData(t),t.save();var e=this.parent.getStyle("text-decoration").getString(),r=this.getFontSize(),{glyphInfo:n}=this,i=t.fillStyle;"underline"===e&&t.beginPath(),n.forEach((n,i)=>{var{p0:a,p1:s,rotation:o,text:u}=n;t.save(),t.translate(a.x,a.y),t.rotate(o),t.fillStyle&&t.fillText(u,0,0),t.strokeStyle&&t.strokeText(u,0,0),t.restore(),"underline"===e&&(0===i&&t.moveTo(a.x,a.y+r/8),t.lineTo(s.x,s.y+r/5))}),"underline"===e&&(t.lineWidth=r/20,t.strokeStyle=i,t.stroke(),t.closePath()),t.restore()}getLetterSpacingAt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.letterSpacingCache[t]||0}findSegmentToFitChar(t,e,r,n,i,a,s,o,u){var h=a,l=this.measureText(t,o);" "===o&&"justify"===e&&r<n&&(l+=(n-r)/i),u>-1&&(h+=this.getLetterSpacingAt(u));var c=this.textHeight/20,f=this.getEquidistantPointOnPath(h,c,0),d=this.getEquidistantPointOnPath(h+l,c,0),p={p0:f,p1:d},g=f&&d?Math.atan2(d.y-f.y,d.x-f.x):0;if(s){var m=Math.cos(Math.PI/2+g)*s,y=Math.cos(-g)*s;p.p0=Qd(Qd({},f),{},{x:f.x+m,y:f.y+y}),p.p1=Qd(Qd({},d),{},{x:d.x+m,y:d.y+y})}return{offset:h+=l,segment:p,rotation:g}}measureText(t,e){var{measuresCache:r}=this,n=e||this.getText();if(r.has(n))return r.get(n);var i=this.measureTargetText(t,n);return r.set(n,i),i}setTextData(t){if(!this.glyphInfo){var e=this.getText(),r=e.split(""),n=e.split(" ").length-1,i=this.parent.getAttribute("dx").split().map(t=>t.getPixels("x")),a=this.parent.getAttribute("dy").getPixels("y"),s=this.parent.getStyle("text-anchor").getString("start"),o=this.getStyle("letter-spacing"),u=this.parent.getStyle("letter-spacing"),h=0;o.hasValue()&&"inherit"!==o.getValue()?o.hasValue()&&"initial"!==o.getValue()&&"unset"!==o.getValue()&&(h=o.getPixels()):h=u.getPixels();var l=[],c=e.length;this.letterSpacingCache=l;for(var f=0;f<c;f++)l.push(void 0!==i[f]?i[f]:h);var d=l.reduce((t,e,r)=>0===r?0:t+e||0,0),p=this.measureText(t),g=Math.max(p+d,0);this.textWidth=p,this.textHeight=this.getFontSize(),this.glyphInfo=[];var m=this.getPathLength(),y=this.getStyle("startOffset").getNumber(0)*m,v=0;"middle"!==s&&"center"!==s||(v=-g/2),"end"!==s&&"right"!==s||(v=-g),v+=y,r.forEach((e,i)=>{var{offset:o,segment:u,rotation:h}=this.findSegmentToFitChar(t,s,g,m,n,v,a,e,i);v=o,u.p0&&u.p1&&this.glyphInfo.push({text:r[i],p0:u.p0,p1:u.p1,rotation:h})})}}parsePathData(t){if(this.pathLength=-1,!t)return[];var e=[],{pathParser:r}=t;for(r.reset();!r.isEnd();){var{current:n}=r,i=n?n.x:0,a=n?n.y:0,s=r.next(),o=s.type,u=[];switch(s.type){case xd.MOVE_TO:this.pathM(r,u);break;case xd.LINE_TO:o=this.pathL(r,u);break;case xd.HORIZ_LINE_TO:o=this.pathH(r,u);break;case xd.VERT_LINE_TO:o=this.pathV(r,u);break;case xd.CURVE_TO:this.pathC(r,u);break;case xd.SMOOTH_CURVE_TO:o=this.pathS(r,u);break;case xd.QUAD_TO:this.pathQ(r,u);break;case xd.SMOOTH_QUAD_TO:o=this.pathT(r,u);break;case xd.ARC:u=this.pathA(r);break;case xd.CLOSE_PATH:Td.pathZ(r)}s.type!==xd.CLOSE_PATH?e.push({type:o,points:u,start:{x:i,y:a},pathLength:this.calcLength(i,a,o,u)}):e.push({type:xd.CLOSE_PATH,points:[],pathLength:0})}return e}pathM(t,e){var{x:r,y:n}=Td.pathM(t).point;e.push(r,n)}pathL(t,e){var{x:r,y:n}=Td.pathL(t).point;return e.push(r,n),xd.LINE_TO}pathH(t,e){var{x:r,y:n}=Td.pathH(t).point;return e.push(r,n),xd.LINE_TO}pathV(t,e){var{x:r,y:n}=Td.pathV(t).point;return e.push(r,n),xd.LINE_TO}pathC(t,e){var{point:r,controlPoint:n,currentPoint:i}=Td.pathC(t);e.push(r.x,r.y,n.x,n.y,i.x,i.y)}pathS(t,e){var{point:r,controlPoint:n,currentPoint:i}=Td.pathS(t);return e.push(r.x,r.y,n.x,n.y,i.x,i.y),xd.CURVE_TO}pathQ(t,e){var{controlPoint:r,currentPoint:n}=Td.pathQ(t);e.push(r.x,r.y,n.x,n.y)}pathT(t,e){var{controlPoint:r,currentPoint:n}=Td.pathT(t);return e.push(r.x,r.y,n.x,n.y),xd.QUAD_TO}pathA(t){var{rX:e,rY:r,sweepFlag:n,xAxisRotation:i,centp:a,a1:s,ad:o}=Td.pathA(t);return 0===n&&o>0&&(o-=2*Math.PI),1===n&&o<0&&(o+=2*Math.PI),[a.x,a.y,e,r,s,o,i,n]}calcLength(t,e,r,n){var i=0,a=null,s=null,o=0;switch(r){case xd.LINE_TO:return this.getLineLength(t,e,n[0],n[1]);case xd.CURVE_TO:for(i=0,a=this.getPointOnCubicBezier(0,t,e,n[0],n[1],n[2],n[3],n[4],n[5]),o=.01;o<=1;o+=.01)s=this.getPointOnCubicBezier(o,t,e,n[0],n[1],n[2],n[3],n[4],n[5]),i+=this.getLineLength(a.x,a.y,s.x,s.y),a=s;return i;case xd.QUAD_TO:for(i=0,a=this.getPointOnQuadraticBezier(0,t,e,n[0],n[1],n[2],n[3]),o=.01;o<=1;o+=.01)s=this.getPointOnQuadraticBezier(o,t,e,n[0],n[1],n[2],n[3]),i+=this.getLineLength(a.x,a.y,s.x,s.y),a=s;return i;case xd.ARC:i=0;var u=n[4],h=n[5],l=n[4]+h,c=Math.PI/180;if(Math.abs(u-l)<c&&(c=Math.abs(u-l)),a=this.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],u,0),h<0)for(o=u-c;o>l;o-=c)s=this.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],o,0),i+=this.getLineLength(a.x,a.y,s.x,s.y),a=s;else for(o=u+c;o<l;o+=c)s=this.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],o,0),i+=this.getLineLength(a.x,a.y,s.x,s.y),a=s;return s=this.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],l,0),i+=this.getLineLength(a.x,a.y,s.x,s.y)}return 0}getPointOnLine(t,e,r,n,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:r,o=(i-r)/(n-e+Vf),u=Math.sqrt(t*t/(1+o*o));n<e&&(u*=-1);var h=o*u,l=null;if(n===e)l={x:a,y:s+h};else if((s-r)/(a-e+Vf)===o)l={x:a+u,y:s+h};else{var c,f,d=this.getLineLength(e,r,n,i);if(d<Vf)return null;var p=(a-e)*(n-e)+(s-r)*(i-r);c=e+(p/=d*d)*(n-e),f=r+p*(i-r);var g=this.getLineLength(a,s,c,f),m=Math.sqrt(t*t-g*g);u=Math.sqrt(m*m/(1+o*o)),n<e&&(u*=-1),l={x:c+u,y:f+(h=o*u)}}return l}getPointOnPath(t){var e=this.getPathLength(),r=0,n=null;if(t<-5e-5||t-5e-5>e)return null;var{dataArray:i}=this;for(var a of i){if(!a||!(a.pathLength<5e-5||r+a.pathLength+5e-5<t)){var s=t-r,o=0;switch(a.type){case xd.LINE_TO:n=this.getPointOnLine(s,a.start.x,a.start.y,a.points[0],a.points[1],a.start.x,a.start.y);break;case xd.ARC:var u=a.points[4],h=a.points[5],l=a.points[4]+h;if(o=u+s/a.pathLength*h,h<0&&o<l||h>=0&&o>l)break;n=this.getPointOnEllipticalArc(a.points[0],a.points[1],a.points[2],a.points[3],o,a.points[6]);break;case xd.CURVE_TO:(o=s/a.pathLength)>1&&(o=1),n=this.getPointOnCubicBezier(o,a.start.x,a.start.y,a.points[0],a.points[1],a.points[2],a.points[3],a.points[4],a.points[5]);break;case xd.QUAD_TO:(o=s/a.pathLength)>1&&(o=1),n=this.getPointOnQuadraticBezier(o,a.start.x,a.start.y,a.points[0],a.points[1],a.points[2],a.points[3])}if(n)return n;break}r+=a.pathLength}return null}getLineLength(t,e,r,n){return Math.sqrt((r-t)*(r-t)+(n-e)*(n-e))}getPathLength(){return-1===this.pathLength&&(this.pathLength=this.dataArray.reduce((t,e)=>e.pathLength>0?t+e.pathLength:t,0)),this.pathLength}getPointOnCubicBezier(t,e,r,n,i,a,s,o,u){return{x:o*jf(t)+a*Hf(t)+n*Xf(t)+e*Yf(t),y:u*jf(t)+s*Hf(t)+i*Xf(t)+r*Yf(t)}}getPointOnQuadraticBezier(t,e,r,n,i,a,s){return{x:a*Wf(t)+n*$f(t)+e*Gf(t),y:s*Wf(t)+i*$f(t)+r*Gf(t)}}getPointOnEllipticalArc(t,e,r,n,i,a){var s=Math.cos(a),o=Math.sin(a),u=r*Math.cos(i),h=n*Math.sin(i);return{x:t+(u*s-h*o),y:e+(u*o+h*s)}}buildEquidistantCache(t,e){var r=this.getPathLength(),n=e||.25,i=t||r/100;if(!this.equidistantCache||this.equidistantCache.step!==i||this.equidistantCache.precision!==n){this.equidistantCache={step:i,precision:n,points:[]};for(var a=0,s=0;s<=r;s+=n){var o=this.getPointOnPath(s),u=this.getPointOnPath(s+n);o&&u&&((a+=this.getLineLength(o.x,o.y,u.x,u.y))>=i&&(this.equidistantCache.points.push({x:o.x,y:o.y,distance:s}),a-=i))}}}getEquidistantPointOnPath(t,e,r){if(this.buildEquidistantCache(e,r),t<0||t-this.getPathLength()>5e-5)return null;var n=Math.round(t/this.getPathLength()*(this.equidistantCache.points.length-1));return this.equidistantCache.points[n]||null}}var Jd=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*)$/i;class tp extends wd{constructor(t,e,r){super(t,e,r),this.type="image",this.loaded=!1;var n=this.getHrefAttribute().getString();if(n){var i=n.endsWith(".svg")||/^\s*data:image\/svg\+xml/i.test(n);t.images.push(this),i?this.loadSvg(n):this.loadImage(n),this.isSvg=i}}loadImage(t){var e=this;return Ah(function*(){try{var r=yield e.document.createImage(t);e.image=r}catch(n){}e.loaded=!0})()}loadSvg(t){var e=this;return Ah(function*(){var r=Jd.exec(t);if(r){var n=r[5];"base64"===r[4]?e.image=atob(n):e.image=decodeURIComponent(n)}else try{var i=yield e.document.fetch(t),a=yield i.text();e.image=a}catch(s){}e.loaded=!0})()}renderChildren(t){var{document:e,image:r,loaded:n}=this,i=this.getAttribute("x").getPixels("x"),a=this.getAttribute("y").getPixels("y"),s=this.getStyle("width").getPixels("x"),o=this.getStyle("height").getPixels("y");if(n&&r&&s&&o){if(t.save(),t.translate(i,a),this.isSvg){var u=e.canvg.forkString(t,this.image,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:0,offsetY:0,scaleWidth:s,scaleHeight:o});u.document.documentElement.parent=this,u.render()}else{var h=this.image;e.setViewBox({ctx:t,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:s,desiredWidth:h.width,height:o,desiredHeight:h.height}),this.loaded&&(void 0===h.complete||h.complete)&&t.drawImage(h,0,0)}t.restore()}}getBoundingBox(){var t=this.getAttribute("x").getPixels("x"),e=this.getAttribute("y").getPixels("y"),r=this.getStyle("width").getPixels("x"),n=this.getStyle("height").getPixels("y");return new bd(t,e,t+r,e+n)}}class ep extends wd{constructor(){super(...arguments),this.type="symbol"}render(t){}}class rp{constructor(t){this.document=t,this.loaded=!1,t.fonts.push(this)}load(t,e){var r=this;return Ah(function*(){try{var{document:n}=r,i=(yield n.canvg.parser.load(e)).getElementsByTagName("font");Array.from(i).forEach(e=>{var r=n.createElement(e);n.definitions[t]=r})}catch(a){}r.loaded=!0})()}}class np extends dd{constructor(t,e,r){super(t,e,r),this.type="style";var n=wf(Array.from(e.childNodes).map(t=>t.textContent).join("").replace(/(\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"").replace(/@import.*;/g,""));n.split("}").forEach(e=>{var r=e.trim();if(r){var n=r.split("{"),i=n[0].split(","),a=n[1].split(";");i.forEach(e=>{var r=e.trim();if(r){var n=t.styles[r]||{};if(a.forEach(e=>{var r=e.indexOf(":"),i=e.substr(0,r).trim(),a=e.substr(r+1,e.length-r).trim();i&&a&&(n[i]=new qf(t,i,a))}),t.styles[r]=n,t.stylesSpecificity[r]=Uf(r),"@font-face"===r){var i=n["font-family"].getString().replace(/"|'/g,"");n.src.getString().split(",").forEach(e=>{if(e.indexOf('format("svg")')>0){var r=Of(e);r&&new rp(t).load(i,r)}})}}})}})}}np.parseExternalUrl=Of;class ip extends wd{constructor(){super(...arguments),this.type="use"}setContext(t){super.setContext(t);var e=this.getAttribute("x"),r=this.getAttribute("y");e.hasValue()&&t.translate(e.getPixels("x"),0),r.hasValue()&&t.translate(0,r.getPixels("y"))}path(t){var{element:e}=this;e&&e.path(t)}renderChildren(t){var{document:e,element:r}=this;if(r){var n=r;if("symbol"===r.type&&((n=new Od(e,null)).attributes.viewBox=new qf(e,"viewBox",r.getAttribute("viewBox").getString()),n.attributes.preserveAspectRatio=new qf(e,"preserveAspectRatio",r.getAttribute("preserveAspectRatio").getString()),n.attributes.overflow=new qf(e,"overflow",r.getAttribute("overflow").getString()),n.children=r.children,r.styles.opacity=new qf(e,"opacity",this.calculateOpacity())),"svg"===n.type){var i=this.getStyle("width",!1,!0),a=this.getStyle("height",!1,!0);i.hasValue()&&(n.attributes.width=new qf(e,"width",i.getString())),a.hasValue()&&(n.attributes.height=new qf(e,"height",a.getString()))}var s=n.parent;n.parent=this,n.render(t),n.parent=s}}getBoundingBox(t){var{element:e}=this;return e?e.getBoundingBox(t):null}elementTransform(){var{document:t,element:e}=this;return fd.fromElement(t,e)}get element(){return this.cachedElement||(this.cachedElement=this.getHrefAttribute().getDefinition()),this.cachedElement}}function ap(t,e,r,n,i,a){return t[r*n*4+4*e+a]}function sp(t,e,r,n,i,a,s){t[r*n*4+4*e+a]=s}function op(t,e,r){return t[e]*r}function up(t,e,r,n){return e+Math.cos(t)*r+Math.sin(t)*n}class hp extends dd{constructor(t,e,r){super(t,e,r),this.type="feColorMatrix";var n=Af(this.getAttribute("values").getString());switch(this.getAttribute("type").getString("matrix")){case"saturate":var i=n[0];n=[.213+.787*i,.715-.715*i,.072-.072*i,0,0,.213-.213*i,.715+.285*i,.072-.072*i,0,0,.213-.213*i,.715-.715*i,.072+.928*i,0,0,0,0,0,1,0,0,0,0,0,1];break;case"hueRotate":var a=n[0]*Math.PI/180;n=[up(a,.213,.787,-.213),up(a,.715,-.715,-.715),up(a,.072,-.072,.928),0,0,up(a,.213,-.213,.143),up(a,.715,.285,.14),up(a,.072,-.072,-.283),0,0,up(a,.213,-.213,-.787),up(a,.715,-.715,.715),up(a,.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break;case"luminanceToAlpha":n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1]}this.matrix=n,this.includeOpacity=this.getAttribute("includeOpacity").hasValue()}apply(t,e,r,n,i){for(var{includeOpacity:a,matrix:s}=this,o=t.getImageData(0,0,n,i),u=0;u<i;u++)for(var h=0;h<n;h++){var l=ap(o.data,h,u,n,0,0),c=ap(o.data,h,u,n,0,1),f=ap(o.data,h,u,n,0,2),d=ap(o.data,h,u,n,0,3),p=op(s,0,l)+op(s,1,c)+op(s,2,f)+op(s,3,d)+op(s,4,1),g=op(s,5,l)+op(s,6,c)+op(s,7,f)+op(s,8,d)+op(s,9,1),m=op(s,10,l)+op(s,11,c)+op(s,12,f)+op(s,13,d)+op(s,14,1),y=op(s,15,l)+op(s,16,c)+op(s,17,f)+op(s,18,d)+op(s,19,1);a&&(p=0,g=0,m=0,y*=d/255),sp(o.data,h,u,n,0,0,p),sp(o.data,h,u,n,0,1,g),sp(o.data,h,u,n,0,2,m),sp(o.data,h,u,n,0,3,y)}t.clearRect(0,0,n,i),t.putImageData(o,0,0)}}class lp extends dd{constructor(){super(...arguments),this.type="mask"}apply(t,e){var{document:r}=this,n=this.getAttribute("x").getPixels("x"),i=this.getAttribute("y").getPixels("y"),a=this.getStyle("width").getPixels("x"),s=this.getStyle("height").getPixels("y");if(!a&&!s){var o=new bd;this.children.forEach(e=>{o.addBoundingBox(e.getBoundingBox(t))}),n=Math.floor(o.x1),i=Math.floor(o.y1),a=Math.floor(o.width),s=Math.floor(o.height)}var u=this.removeStyles(e,lp.ignoreStyles),h=r.createCanvas(n+a,i+s),l=h.getContext("2d");r.screen.setDefaults(l),this.renderChildren(l),new hp(r,{nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]}).apply(l,0,0,n+a,i+s);var c=r.createCanvas(n+a,i+s),f=c.getContext("2d");r.screen.setDefaults(f),e.render(f),f.globalCompositeOperation="destination-in",f.fillStyle=l.createPattern(h,"no-repeat"),f.fillRect(0,0,n+a,i+s),t.fillStyle=f.createPattern(c,"no-repeat"),t.fillRect(0,0,n+a,i+s),this.restoreStyles(e,u)}render(t){}}lp.ignoreStyles=["mask","transform","clip-path"];var cp=()=>{};class fp extends dd{constructor(){super(...arguments),this.type="clipPath"}apply(t){var{document:e}=this,r=Reflect.getPrototypeOf(t),{beginPath:n,closePath:i}=t;r&&(r.beginPath=cp,r.closePath=cp),Reflect.apply(n,t,[]),this.children.forEach(n=>{if(void 0!==n.path){var a=void 0!==n.elementTransform?n.elementTransform():null;a||(a=fd.fromElement(e,n)),a&&a.apply(t),n.path(t),r&&(r.closePath=i),a&&a.unapply(t)}}),Reflect.apply(i,t,[]),t.clip(),r&&(r.beginPath=n,r.closePath=i)}render(t){}}class dp extends dd{constructor(){super(...arguments),this.type="filter"}apply(t,e){var{document:r,children:n}=this,i=e.getBoundingBox(t);if(i){var a=0,s=0;n.forEach(t=>{var e=t.extraFilterDistance||0;a=Math.max(a,e),s=Math.max(s,e)});var o=Math.floor(i.width),u=Math.floor(i.height),h=o+2*a,l=u+2*s;if(!(h<1||l<1)){var c=Math.floor(i.x),f=Math.floor(i.y),d=this.removeStyles(e,dp.ignoreStyles),p=r.createCanvas(h,l),g=p.getContext("2d");r.screen.setDefaults(g),g.translate(-c+a,-f+s),e.render(g),n.forEach(t=>{"function"==typeof t.apply&&t.apply(g,0,0,h,l)}),t.drawImage(p,0,0,h,l,c-a,f-s,h,l),this.restoreStyles(e,d)}}}render(t){}}dp.ignoreStyles=["filter","transform","clip-path"];class pp extends dd{constructor(t,e,r){super(t,e,r),this.type="feDropShadow",this.addStylesFromStyleDefinition()}apply(t,e,r,n,i){}}class gp extends dd{constructor(){super(...arguments),this.type="feMorphology"}apply(t,e,r,n,i){}}class mp extends dd{constructor(){super(...arguments),this.type="feComposite"}apply(t,e,r,n,i){}}class yp extends dd{constructor(t,e,r){super(t,e,r),this.type="feGaussianBlur",this.blurRadius=Math.floor(this.getAttribute("stdDeviation").getNumber()),this.extraFilterDistance=this.blurRadius}apply(t,e,r,n,i){var{document:a,blurRadius:s}=this,o=a.window?a.window.document.body:null,u=t.canvas;u.id=a.getUniqueId(),o&&(u.style.display="none",o.appendChild(u)),vf(u,e,r,n,i,s),o&&o.removeChild(u)}}class vp extends dd{constructor(){super(...arguments),this.type="title"}}class bp extends dd{constructor(){super(...arguments),this.type="desc"}}var xp={svg:Od,rect:Cd,circle:kd,ellipse:Nd,line:Pd,polyline:Md,polygon:Rd,path:Td,pattern:Id,marker:Dd,defs:Ld,linearGradient:Bd,radialGradient:Fd,stop:zd,animate:jd,animateColor:Hd,animateTransform:Xd,font:Yd,"font-face":Wd,"missing-glyph":$d,glyph:Sd,text:Ad,tspan:Ed,tref:Gd,a:qd,textPath:Kd,image:tp,g:Ud,symbol:ep,style:np,use:ip,mask:lp,clipPath:fp,filter:dp,feDropShadow:pp,feMorphology:gp,feComposite:mp,feColorMatrix:hp,feGaussianBlur:yp,title:vp,desc:bp};function wp(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function Tp(){return Tp=Ah(function*(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=document.createElement("img");return e&&(r.crossOrigin="Anonymous"),new Promise((e,n)=>{r.onload=()=>{e(r)},r.onerror=(t,e,r,i,a)=>{n(a)},r.src=t})}),Tp.apply(this,arguments)}class Sp{constructor(t){var{rootEmSize:e=12,emSize:r=12,createCanvas:n=Sp.createCanvas,createImage:i=Sp.createImage,anonymousCrossOrigin:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.canvg=t,this.definitions=Object.create(null),this.styles=Object.create(null),this.stylesSpecificity=Object.create(null),this.images=[],this.fonts=[],this.emSizeStack=[],this.uniqueId=0,this.screen=t.screen,this.rootEmSize=e,this.emSize=r,this.createCanvas=n,this.createImage=this.bindCreateImage(i,a),this.screen.wait(this.isImagesLoaded.bind(this)),this.screen.wait(this.isFontsLoaded.bind(this))}bindCreateImage(t,e){return"boolean"==typeof e?(r,n)=>t(r,"boolean"==typeof n?n:e):t}get window(){return this.screen.window}get fetch(){return this.screen.fetch}get ctx(){return this.screen.ctx}get emSize(){var{emSizeStack:t}=this;return t[t.length-1]}set emSize(t){var{emSizeStack:e}=this;e.push(t)}popEmSize(){var{emSizeStack:t}=this;t.pop()}getUniqueId(){return"canvg".concat(++this.uniqueId)}isImagesLoaded(){return this.images.every(t=>t.loaded)}isFontsLoaded(){return this.fonts.every(t=>t.loaded)}createDocumentElement(t){var e=this.createElement(t.documentElement);return e.root=!0,e.addStylesFromStyleDefinition(),this.documentElement=e,e}createElement(t){var e=t.nodeName.replace(/^[^:]+:/,""),r=Sp.elementTypes[e];return void 0!==r?new r(this,t):new pd(this,t)}createTextNode(t){return new _d(this,t)}setViewBox(t){this.screen.setViewBox(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?wp(Object(r),!0).forEach(function(e){ac(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wp(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({document:this},t))}}function Ap(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function Ep(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ap(Object(r),!0).forEach(function(e){ac(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ap(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}Sp.createCanvas=function(t,e){var r=document.createElement("canvas");return r.width=t,r.height=e,r},Sp.createImage=function(t){return Tp.apply(this,arguments)},Sp.elementTypes=xp;class _p{constructor(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.parser=new id(r),this.screen=new ed(t,r),this.options=r;var n=new Sp(this,r),i=n.createDocumentElement(e);this.document=n,this.documentElement=i}static from(t,e){var r=arguments;return Ah(function*(){var n=r.length>2&&void 0!==r[2]?r[2]:{},i=new id(n),a=yield i.parse(e);return new _p(t,a,n)})()}static fromString(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=new id(r).parseFromString(e);return new _p(t,n,r)}fork(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return _p.from(t,e,Ep(Ep({},this.options),r))}forkString(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return _p.fromString(t,e,Ep(Ep({},this.options),r))}ready(){return this.screen.ready()}isReady(){return this.screen.isReady()}render(){var t=arguments,e=this;return Ah(function*(){var r=t.length>0&&void 0!==t[0]?t[0]:{};e.start(Ep({enableRedraw:!0,ignoreAnimation:!0,ignoreMouse:!0},r)),yield e.ready(),e.stop()})()}start(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{documentElement:e,screen:r,options:n}=this;r.start(e,Ep(Ep({enableRedraw:!0},n),t))}stop(){this.screen.stop()}resize(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.documentElement.resize(t,e,r)}}const Op=Object.freeze(Object.defineProperty({__proto__:null,AElement:qd,AnimateColorElement:Hd,AnimateElement:jd,AnimateTransformElement:Xd,BoundingBox:bd,CB1:jf,CB2:Hf,CB3:Xf,CB4:Yf,Canvg:_p,CircleElement:kd,ClipPathElement:fp,DefsElement:Ld,DescElement:bp,Document:Sp,Element:dd,EllipseElement:Nd,FeColorMatrixElement:hp,FeCompositeElement:mp,FeDropShadowElement:pp,FeGaussianBlurElement:yp,FeMorphologyElement:gp,FilterElement:dp,Font:vd,FontElement:Yd,FontFaceElement:Wd,GElement:Ud,GlyphElement:Sd,GradientElement:Vd,ImageElement:tp,LineElement:Pd,LinearGradientElement:Bd,MarkerElement:Dd,MaskElement:lp,Matrix:ud,MissingGlyphElement:$d,Mouse:Kf,PSEUDO_ZERO:Vf,Parser:id,PathElement:Td,PathParser:xd,PatternElement:Id,Point:Qf,PolygonElement:Rd,PolylineElement:Md,Property:qf,QB1:Wf,QB2:$f,QB3:Gf,RadialGradientElement:Fd,RectElement:Cd,RenderedElement:wd,Rotate:sd,SVGElement:Od,SVGFontLoader:rp,Scale:od,Screen:ed,Skew:hd,SkewX:ld,SkewY:cd,StopElement:zd,StyleElement:np,SymbolElement:ep,TRefElement:Gd,TSpanElement:Ed,TextElement:Ad,TextPathElement:Kd,TitleElement:vp,Transform:fd,Translate:ad,UnknownElement:pd,UseElement:ip,ViewPort:Zf,compressSpaces:wf,default:_p,getSelectorSpecificity:Uf,normalizeAttributeName:_f,normalizeColor:Cf,parseExternalUrl:Of,presets:xf,toNumbers:Af,trimLeft:Tf,trimRight:Sf,vectorMagnitude:Bf,vectorsAngle:zf,vectorsRatio:Ff},Symbol.toStringTag,{value:"Module"}));export{l as I,n as _,r as a,c as b,G as c,cr as d,Op as i,vn as p,Y as z};
