const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-RjjHmXFZ.js","assets/react-vendor-0Am1niUb.js","assets/supabase-BsxaddrC.js","assets/vendor-DtN75V_I.js","assets/ShopPage-Cm2-Jp2s.js","assets/Wallet-C4CMF9Ha.js","assets/Profile-DKKLYDJ2.js","assets/AddBank-cl603RQx.js","assets/Recharge-BDL6yP0q.js","assets/PurchaseHistory-DoWZvoco.js","assets/ChangePassword-DS6RZdKq.js","assets/AccountHistory-C-rqc3jY.js","assets/Register-a-t-Fipz.js","assets/Withdraw-BAPYTdfc.js","assets/Login-C8esMfsZ.js","assets/SecurityVerify-aULpDdIC.js","assets/Rewards-CQRZtTrb.js","assets/GiftChest-C1qdB0_j.js","assets/RewardClaim-DXQXRZg4.js","assets/Info-xIxUePV2.js","assets/AboutBP-CWSzinUP.js","assets/DepositUSDT-OVtFIWsz.js","assets/DepositUSDTHistory-B4bW0p1G.js","assets/WalletHistory--ZefVfNL.js","assets/WithdrawalHistory-CiEmNawq.js","assets/SubordinateList-BEICVYdH.js","assets/InvitePage-Dy4Qbzy7.js","assets/GuiaIndicacao-C2_kwQUA.js"])))=>i.map(i=>d[i]);
import{j as e,r as t,R as s,a as r}from"./react-vendor-0Am1niUb.js";import{c as a}from"./supabase-BsxaddrC.js";import"./vendor-DtN75V_I.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const i=a("https://fycskldchqqqohgvioal.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZ5Y3NrbGRjaHFxcW9oZ3Zpb2FsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY5MDQxOTMsImV4cCI6MjA4MjQ4MDE5M30.vC5GkVPi9mZwkSNQG_ajVcRnWN8pyYGD0xQbl8Uhco0"),n=({className:t="text-black/60",size:s="w-8 h-8"})=>e.jsxs("div",{className:`relative ${s} ${t}`,children:[[...Array(12)].map((t,s)=>e.jsx("div",{className:"absolute left-[48.5%] top-0 h-[30%] w-[3%] bg-current rounded-full animate-ios-spinner",style:{transform:`rotate(${30*s}deg)`,transformOrigin:"50% 166.6%",animationDelay:.1*s-1.1+"s"}},s)),e.jsx("style",{children:"\n                @keyframes ios-spinner {\n                    0% { opacity: 1; }\n                    100% { opacity: 0.15; }\n                }\n                .animate-ios-spinner {\n                    animation: ios-spinner 1.2s linear infinite;\n                }\n            "})]}),o=()=>{const[s,r]=t.useState({x:window.innerWidth-70,y:window.innerHeight-150}),[a,n]=t.useState(!1),[o,c]=t.useState(!1),[d,u]=t.useState(null),m=t.useRef(null),h=t.useRef(null);t.useEffect(()=>{(async()=>{try{const{data:e,error:t}=await i.from("atendimento_links").select("whatsapp_gerente_url, whatsapp_grupo_vendas_url").single();u(e&&!t?{service:e.whatsapp_gerente_url,group:e.whatsapp_grupo_vendas_url}:{service:"https://wa.me/",group:"https://chat.whatsapp.com/"})}catch(e){u({service:"https://wa.me/",group:"https://chat.whatsapp.com/"})}})()},[]);const x=e=>{const t="touches"in e?e.touches[0].clientX:e.clientX,r="touches"in e?e.touches[0].clientY:e.clientY;m.current={startX:t,startY:r,initialX:s.x,initialY:s.y},n(!1)};return d?e.jsxs(e.Fragment,{children:[e.jsx("div",{ref:h,style:{position:"fixed",left:s.x,top:s.y,zIndex:9999,touchAction:"none"},onMouseDown:x,onTouchStart:x}),e.jsx(l,{position:s,onMove:r,onClick:()=>{a||c(!0)}}),o&&e.jsxs("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center px-6 animate-in fade-in duration-300",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>c(!1)}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-2xl w-full max-w-[320px] rounded-[32px] overflow-hidden relative z-10 shadow-[0_20px_50px_rgba(0,0,0,0.4)] scale-100 animate-in zoom-in-95 duration-300 border border-white/30",children:[e.jsxs("div",{className:"bg-[#00C853] p-6 pb-10 relative",children:[e.jsxs("div",{className:"flex justify-between items-center relative z-10",children:[e.jsx("h3",{className:"font-black text-white text-xl tracking-tight",children:"Suporte BP"}),e.jsx("button",{onClick:()=>c(!1),className:"size-8 flex items-center justify-center bg-white/20 hover:bg-white/30 rounded-full transition-colors",children:e.jsx("span",{className:"material-symbols-outlined text-white text-[20px]",children:"close"})})]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-8 bg-gradient-to-t from-white/90 to-transparent"})]}),e.jsxs("div",{className:"p-5 pt-0 space-y-3",children:[e.jsxs("div",{className:"flex flex-col items-center -mt-12 mb-3 relative z-20",children:[e.jsx("div",{className:"size-20 rounded-[24px] bg-white p-1 shadow-xl border border-gray-50 overflow-hidden mb-2",children:e.jsx("img",{src:"/support_mascot.png",alt:"Suporte Mascot",className:"w-full h-full object-cover rounded-[20px]"})}),e.jsx("p",{className:"text-[9px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Agente Online"})]}),e.jsxs("a",{href:d.service,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 px-4 h-[40px] bg-white border border-gray-100 text-[#00C853] rounded-xl font-black text-[13px] hover:bg-gray-50 transition-all shadow-sm active:scale-95 group",children:[e.jsx("div",{className:"size-7 rounded-lg bg-green-50 flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"support_agent"})}),e.jsx("span",{className:"truncate",children:"Atendimento VIP"})]}),e.jsxs("a",{href:d.group,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 px-4 h-[40px] bg-[#25D366] text-white rounded-xl font-black text-[13px] hover:brightness-110 transition-all shadow-lg shadow-green-500/10 active:scale-95 group",children:[e.jsx("div",{className:"size-7 rounded-lg bg-white/20 flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",children:e.jsx("path",{d:"M13.601 2.326A7.854 7.854 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.933 7.933 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.898 7.898 0 0 0 13.6 2.326zM7.994 14.521a6.573 6.573 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.557 6.557 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592zm3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.729.729 0 0 0-.529.247c-.182.198-.691.677-.691 1.654 0 .977.71 1.916.81 2.049.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232z"})})}),e.jsx("span",{className:"truncate",children:"Grupo de WhatsApp"})]})]})]})]})]}):null},l=({position:s,onMove:r,onClick:a})=>{const i=t.useRef(!1),n=t.useRef({x:0,y:0}),o=t.useRef({x:0,y:0});t.useEffect(()=>{const e=(e,t)=>{if(!i.current)return;const s=e-n.current.x,a=t-n.current.y;r({x:Math.min(Math.max(0,o.current.x+s),window.innerWidth-50),y:Math.min(Math.max(0,o.current.y+a),window.innerHeight-50)})},t=t=>e(t.clientX,t.clientY),s=t=>e(t.touches[0].clientX,t.touches[0].clientY),a=()=>{i.current&&(i.current=!1,window.removeEventListener("mousemove",t),window.removeEventListener("mouseup",a),window.removeEventListener("touchmove",s),window.removeEventListener("touchend",a))};return()=>{window.removeEventListener("mousemove",t),window.removeEventListener("mouseup",a),window.removeEventListener("touchmove",s),window.removeEventListener("touchend",a)}},[r]);const[l,c]=t.useState(!1),d=e=>{const t="touches"in e?e.touches[0].clientX:e.clientX,a="touches"in e?e.touches[0].clientY:e.clientY;n.current={x:t,y:a},o.current=s,c(!1);const i=e=>{const t="touches"in e?e.touches[0].clientX:e.clientX,s="touches"in e?e.touches[0].clientY:e.clientY,a=t-n.current.x,i=s-n.current.y;(Math.abs(a)>3||Math.abs(i)>3)&&c(!0),r({x:o.current.x+a,y:o.current.y+i}),e.preventDefault()},l=()=>{window.removeEventListener("mousemove",i),window.removeEventListener("mouseup",l),window.removeEventListener("touchmove",i),window.removeEventListener("touchend",l)};window.addEventListener("mousemove",i),window.addEventListener("mouseup",l),window.addEventListener("touchmove",i,{passive:!1}),window.addEventListener("touchend",l)};return e.jsxs("div",{style:{position:"fixed",left:s.x,top:s.y,zIndex:9999,touchAction:"none",cursor:"move"},onMouseDown:d,onTouchStart:d,onClick:e=>{l||a()},className:"size-12 bg-[#25D366] rounded-full shadow-lg flex items-center justify-center text-white active:scale-90 transition-transform hover:shadow-xl hover:scale-105",children:[e.jsx("i",{className:"fa-brands fa-whatsapp text-2xl"}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 16 16",children:e.jsx("path",{d:"M13.601 2.326A7.854 7.854 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.933 7.933 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.898 7.898 0 0 0 13.6 2.326zM7.994 14.521a6.573 6.573 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.557 6.557 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592zm3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.729.729 0 0 0-.529.247c-.182.198-.691.677-.691 1.654 0 .977.71 1.916.81 2.049.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232z"})})]})},c=({onClose:s})=>{const[r,a]=t.useState(""),[n,o]=t.useState(""),[l,c]=t.useState(!1);t.useEffect(()=>{c(!0);(async()=>{try{const{data:e}=await i.from("atendimento_links").select("whatsapp_grupo_vendas_url, splash_message").limit(1).single();e&&(e.whatsapp_grupo_vendas_url&&a(e.whatsapp_grupo_vendas_url),e.splash_message&&o(e.splash_message))}catch(e){}})()},[]);const d=()=>{c(!1),setTimeout(s,300)};return t.useEffect(()=>{const e=setTimeout(()=>{d()},8e3);return()=>clearTimeout(e)},[]),e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 transition-all duration-300 "+(l?"bg-black/60 backdrop-blur-sm":"bg-black/0 pointer-events-none"),children:e.jsxs("div",{className:"bg-white/10 backdrop-blur-2xl w-full max-w-[280px] rounded-2xl shadow-2xl border border-white/30 p-4 flex flex-col transition-all duration-300 transform "+(l?"scale-100 opacity-100":"scale-95 opacity-0"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h2",{className:"text-white text-lg font-black tracking-tight",children:"Dicas"}),e.jsx("button",{onClick:d,className:"size-7 rounded-full bg-white/10 flex items-center justify-center text-white/70 hover:bg-white/20 active:scale-90 transition-all",children:e.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"close"})})]}),e.jsx("div",{className:"flex-1 mb-4",children:n?e.jsx("div",{className:"text-white/90 text-sm font-normal leading-relaxed",dangerouslySetInnerHTML:{__html:n}}):e.jsx("p",{className:"text-white/90 text-sm font-normal leading-relaxed",children:"Bem-vindo! Junte-se ao nosso grupo para receber atualizações e suporte."})}),e.jsx("p",{onClick:()=>{r&&(window.location.href=r)},className:"text-[#00C853] text-sm font-medium italic cursor-pointer hover:text-[#00E676] transition-colors text-center pt-3 border-t border-white/20",children:"Clique entre Grupo WhatsApp"})]})})},d=({status:t,message:s})=>"idle"===t?null:e.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-transparent backdrop-blur-[2px] pointer-events-none",children:e.jsx("div",{className:"bg-white/95 backdrop-blur-md rounded-2xl py-3 px-6 flex flex-col items-center justify-center border border-gray-100 shadow-[0_8px_30px_rgb(0,0,0,0.1)] animate-in zoom-in-95 duration-300 pointer-events-auto",children:"loading"===t?e.jsx(n,{size:"w-8 h-8",color:"text-[#00C853]"}):e.jsx("p",{className:"text-gray-800 text-[14px] font-bold text-center max-w-[240px] leading-tight tracking-tight",children:s})})}),u=({isOpen:t,onClose:s})=>{if(!t)return null;return e.jsx("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center bg-black/60 backdrop-blur-md p-6 animate-in fade-in duration-300",children:e.jsxs("div",{className:"w-full max-w-[280px] bg-white/10 backdrop-blur-2xl rounded-[32px] p-8 shadow-2xl text-center flex flex-col items-center animate-in zoom-in-95 duration-300 border border-white/30",children:[e.jsx("div",{className:"size-16 rounded-2xl bg-white/10 flex items-center justify-center mb-5",children:e.jsx("span",{className:"material-symbols-outlined text-[#00C853] text-3xl",children:"wifi_off"})}),e.jsx("h3",{className:"text-white text-lg font-black mb-1",children:"Sem Conex�o"}),e.jsx("p",{className:"text-white/80 text-xs font-bold leading-relaxed mb-6",children:"Sua internet parece estar lenta ou desconectada. Tente novamente."}),e.jsx("button",{onClick:()=>{navigator.onLine&&(s(),window.location.reload())},className:"w-full h-12 bg-[#00C853] text-white font-black rounded-2xl shadow-lg shadow-green-500/20 active:scale-95 transition-all mb-3 text-sm",children:"TENTAR AGORA"}),e.jsx("button",{onClick:s,className:"text-white/60 text-[10px] font-black uppercase tracking-widest hover:text-white transition-colors",children:"IGNORAR"})]})})},m=t.createContext(void 0),h=({children:r})=>{const[a,i]=t.useState("idle"),[n,o]=t.useState(null),[l,c]=t.useState(0),[h,x]=t.useState(0),[p,f]=t.useState(!1),w=t.useCallback(()=>{i("idle"),o(null)},[]),g=t.useCallback(()=>{f(!1),i("loading"),o(null)},[]),b=t.useCallback(()=>{i("idle"),o(null)},[]);s.useEffect(()=>{let e;return"loading"===a&&(e=setTimeout(()=>{b(),f(!0)},2e4)),()=>{clearTimeout(e),clearTimeout(void 0)}},[a,b]);const v=t.useCallback(e=>{i("success"),o(e),setTimeout(w,2500)},[w]),y=e=>{const t="string"==typeof e?e:e.message||"",s=t.toLowerCase();if(s.includes("invalid login credentials")||s.includes("user not found")||s.includes("invalid credentials"))return"Dados de acesso incorretos. Verifique e tente novamente.";if(s.includes("email not confirmed"))return"Por favor, confirme seu cadastro.";if(s.includes("token")||s.includes("jwt")||s.includes("auth")||s.includes("unauthorized")||s.includes("session expired")||s.includes("not logged in"))return"Sessão expirada. Por favor, acesse sua conta novamente.";if(s.includes("insufficient")||s.includes("balance")||s.includes("funds"))return"Saldo insuficiente para esta operação.";if(s.includes("duplicate")||s.includes("already exists")||s.includes("already processed"))return"Esta ação já foi realizada anteriormente.";if(s.includes("user already registered"))return"Este número de telefone já está em uso.";if(s.includes("limit")||s.includes("exceeded"))return"Limite operacional atingido. Tente mais tarde.";if(s.includes("invalid")&&(s.includes("deposit")||s.includes("withdrawal")))return"Os dados informados para a transação são inválidos.";return[/sql/i,/database/i,/invalid input/i,/syntax error/i,/unexpected /i,/fetch/i,/network/i,/cors/i,/table/i,/schema/i,/column/i,/relation/i,/row/i,/procedure/i,/rpc/i,/postgrest/i,/violates/i].some(e=>e.test(t))?"Serviço temporariamente indisponível. Nossa equipe técnica já foi notificada.":t&&t.length<80&&!/[{}<>|\\/]/.test(t)?t:"Ocorreu um erro no processamento. Por favor, tente em instantes."},_=t.useCallback(e=>{const t=y(e);i("error"),o(t),setTimeout(w,4e3)},[w]),j=t.useCallback(e=>{const t=y(e);i("warning"),o(t),setTimeout(w,3e3)},[w]);return e.jsxs(m.Provider,{value:{status:a,message:n,showLoading:g,hideLoading:b,showSuccess:v,showError:_,showWarning:j,reset:w,withLoading:async(e,t,s)=>(g(),new Promise((r,a)=>{let i=!1;const n=setTimeout(()=>{i=!0,a(new Error("Timeout ap�s 20s"))},2e4);("function"==typeof e?e():e).then(e=>{i||(clearTimeout(n),t?v(t):w(),r(e))}).catch(e=>{if(i)return;clearTimeout(n);const t=s||y(e);_(t),a(e)})}))},children:[r,e.jsx(d,{status:a,message:n||""}),e.jsx(u,{isOpen:p,onClose:()=>f(!1)})]})},x=()=>{const e=t.useContext(m);if(!e)throw new Error("useLoading must be used within a LoadingProvider");return e},p=({onClose:s,onNavigate:r,showToast:a})=>{const{withLoading:o,showError:l}=x(),[c,d]=t.useState(!0),[u,m]=t.useState(!1),[h,p]=t.useState(!1),[f,w]=t.useState(0),[g,b]=t.useState(!1),[v,y]=t.useState(!1);t.useEffect(()=>{_();const e=setTimeout(()=>{s()},48e4);return()=>clearTimeout(e)},[]);const _=async()=>{d(!0);try{const{data:{user:e},error:t}=await i.auth.getUser();if(!e||t)return void s();const{data:r,error:a}=await i.rpc("get_task_screen_data");if(a)throw a;if(r){const e=r.purchases||[];m(e.length>0),p(r.has_collected_today||!1),w(r.potential_income||0),r.has_collected_today?s():y(!0)}}catch(e){s()}finally{d(!1)}};return v?e.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center px-4 animate-in fade-in duration-300",children:[e.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:s}),e.jsxs("div",{className:"bg-white w-full max-w-[340px] rounded-[4px] overflow-hidden relative z-10 shadow-[0_20px_50px_rgba(0,0,0,0.2)] animate-in zoom-in-95 duration-300",children:[e.jsx("button",{onClick:s,className:"absolute top-4 right-4 size-8 flex items-center justify-center rounded-full bg-gray-100 text-gray-400 active:scale-95 transition-all",children:e.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"close"})}),e.jsx("div",{className:"p-6 pt-10 flex flex-col items-center",children:c?e.jsx("div",{className:"py-12",children:e.jsx(n,{size:"w-10 h-10",color:"text-[#00C853]"})}):e.jsx(e.Fragment,{children:u?e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsxs("p",{className:"text-[#00C853] font-bold text-[15px] leading-relaxed mb-6",children:["Olá! Você ainda não realizou a sua coleta de renda diária. ",e.jsx("br",{}),"Clique no botão abaixo para coletar os seus lucros de hoje."]}),e.jsx("div",{className:"bg-[#F0F2F2] border border-gray-200 px-4 py-1.5 rounded-full mb-8",children:e.jsxs("span",{className:"text-[13px] font-bold text-[#007600] uppercase tracking-wide",children:["Total de hoje: +",f.toLocaleString()," Kz"]})}),e.jsx("button",{onClick:async()=>{if(!g){b(!0);try{await o(async()=>{const{data:{user:e}}=await i.auth.getUser();if(!e)throw new Error("Sessão expirada.");const{data:t,error:r}=await i.rpc("collect_daily_income");if(r)throw new Error("Erro de comunicação. Tente novamente.");if(!t.success)throw new Error(t.message||"Erro ao coletar renda.");return p(!0),setTimeout(()=>s(),1500),t.message},"Tarefa diária concluída!")}catch(e){l(e)}finally{b(!1)}}},disabled:h||g,className:"relative flex flex-col items-center justify-center w-32 h-32 rounded-full transition-all active:scale-95 border-4 mb-4 "+(h?"bg-gray-100 border-gray-200 text-[#565959]":"bg-[#00C853] border-[#00C853] text-[#0F1111] shadow-[0_10px_25px_rgba(0,200,83,0.3)]"),children:g?e.jsx(n,{className:"text-[#0F1111]",size:"w-8 h-8"}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"material-symbols-outlined text-[44px] mb-1",children:h?"verified":"power_settings_new"}),e.jsx("span",{className:"text-[11px] font-black uppercase tracking-tight",children:h?"Coletado":"Coletar"})]})}),e.jsx("p",{className:"text-[10px] font-bold uppercase tracking-[0.2em] mb-4 "+(h?"text-[#565959]":"text-[#007600] animate-pulse"),children:h?"RENDA COLETADA":"AGUARDANDO COLETA"})]}):e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("div",{className:"size-16 rounded-2xl bg-[#00C853]/10 flex items-center justify-center mb-6",children:e.jsx("span",{className:"material-symbols-outlined text-[#00C853] text-[32px]",children:"inventory_2"})}),e.jsxs("p",{className:"text-[#00C853] font-bold text-[15px] leading-relaxed mb-6",children:["Olá! Informamos que, no momento, você não possui nenhum produto ativo. ",e.jsx("br",{}),"Para realizar tarefas e obter lucros diários, é necessário recarregar a sua conta e adquirir um produto."]}),e.jsx("button",{onClick:()=>{r("deposit"),s()},className:"text-[#00C853] font-bold text-[14px] underline underline-offset-4 decoration-2 active:opacity-70 transition-all mb-4",children:"Recarregar conta"})]})})})]})]}):null},f={},w=function(e,t,s){let r=Promise.resolve();if(t&&t.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=s?.nonce||s?.getAttribute("nonce");r=e(t.map(e=>{if((e=function(e){return"/"+e}(e))in f)return;f[e]=!0;const t=e.endsWith(".css"),s=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${s}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":"modulepreload",t||(r.as="script"),r.crossOrigin="",r.href=e,a&&r.setAttribute("nonce",a),document.head.appendChild(r),t?new Promise((t,s)=>{r.addEventListener("load",t),r.addEventListener("error",()=>s(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function a(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(const e of t||[])"rejected"===e.status&&a(e.reason);return e().catch(a)})},g={home:"Início",shop:"Loja BP",register:"Criar Conta",login:"Acessar Conta",profile:"Meu Perfil","about-bp":"Quem Somos",wallet:"Carteira",deposit:"Recarga",retirada:"Retirada","investimentos-fundo":"Marketplace","historico-fundos":"Meus Pedidos","ganhos-tarefas":"Recompensas","invite-page":"Convidar Amigos","security-verify":"Segurança","deposit-usdt-history":"Histórico USDT","subordinate-list":"Equipe"},b={Home:t.lazy(()=>w(()=>import("./Home-RjjHmXFZ.js"),__vite__mapDeps([0,1,2,3]))),Shop:t.lazy(()=>w(()=>import("./ShopPage-Cm2-Jp2s.js"),__vite__mapDeps([4,1,2,3]))),Wallet:t.lazy(()=>w(()=>import("./Wallet-C4CMF9Ha.js"),__vite__mapDeps([5,1]))),Profile:t.lazy(()=>w(()=>import("./Profile-DKKLYDJ2.js"),__vite__mapDeps([6,1,2,3]))),AddBank:t.lazy(()=>w(()=>import("./AddBank-cl603RQx.js"),__vite__mapDeps([7,1,2,3]))),Recharge:t.lazy(()=>w(()=>import("./Recharge-BDL6yP0q.js"),__vite__mapDeps([8,1,2,3]))),PurchaseHistory:t.lazy(()=>w(()=>import("./PurchaseHistory-DoWZvoco.js"),__vite__mapDeps([9,1,2,3]))),ChangePassword:t.lazy(()=>w(()=>import("./ChangePassword-DS6RZdKq.js"),__vite__mapDeps([10,1,2,3]))),AccountHistory:t.lazy(()=>w(()=>import("./AccountHistory-C-rqc3jY.js"),__vite__mapDeps([11,1,2,3]))),Register:t.lazy(()=>w(()=>import("./Register-a-t-Fipz.js"),__vite__mapDeps([12,1,2,3]))),Withdraw:t.lazy(()=>w(()=>import("./Withdraw-BAPYTdfc.js"),__vite__mapDeps([13,1,2,3]))),Login:t.lazy(()=>w(()=>import("./Login-C8esMfsZ.js"),__vite__mapDeps([14,1,2,3]))),SecurityVerify:t.lazy(()=>w(()=>import("./SecurityVerify-aULpDdIC.js"),__vite__mapDeps([15,1,2,3]))),Rewards:t.lazy(()=>w(()=>import("./Rewards-CQRZtTrb.js"),__vite__mapDeps([16,1,2,3]))),GiftChest:t.lazy(()=>w(()=>import("./GiftChest-C1qdB0_j.js"),__vite__mapDeps([17,1,2,3]))),RewardClaim:t.lazy(()=>w(()=>import("./RewardClaim-DXQXRZg4.js"),__vite__mapDeps([18,1]))),Info:t.lazy(()=>w(()=>import("./Info-xIxUePV2.js"),__vite__mapDeps([19,1]))),AboutBP:t.lazy(()=>w(()=>import("./AboutBP-CWSzinUP.js"),__vite__mapDeps([20,1]))),DepositUSDT:t.lazy(()=>w(()=>import("./DepositUSDT-OVtFIWsz.js"),__vite__mapDeps([21,1,2,3]))),DepositUSDTHistory:t.lazy(()=>w(()=>import("./DepositUSDTHistory-B4bW0p1G.js"),__vite__mapDeps([22,1,2,3]))),WalletHistory:t.lazy(()=>w(()=>import("./WalletHistory--ZefVfNL.js"),__vite__mapDeps([23,1,2,3]))),WithdrawalHistory:t.lazy(()=>w(()=>import("./WithdrawalHistory-CiEmNawq.js"),__vite__mapDeps([24,1,2,3]))),SubordinateList:t.lazy(()=>w(()=>import("./SubordinateList-BEICVYdH.js"),__vite__mapDeps([25,1,2,3]))),InvitePage:t.lazy(()=>w(()=>import("./InvitePage-Dy4Qbzy7.js"),__vite__mapDeps([26,1,2,3]))),GuiaIndicacao:t.lazy(()=>w(()=>import("./GuiaIndicacao-C2_kwQUA.js"),__vite__mapDeps([27,1])))},v=()=>{const{withLoading:s,showWarning:r}=x(),{performFullLogout:a}=(()=>{const{showLoading:e,hideLoading:s,showWarning:r}=x();return{performFullLogout:t.useCallback(async()=>{try{e(),await i.auth.signOut(),localStorage.clear(),sessionStorage.clear();const t=document.cookie.split(";");for(let e=0;e<t.length;e++){const s=t[e],r=s.indexOf("="),a=r>-1?s.substr(0,r):s;document.cookie=a+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;domain="+window.location.hostname,document.cookie=a+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/"}window.location.href=window.location.origin+window.location.pathname+"#/login"}catch(t){}finally{s()}},[e,s])}})(),[l,d]=t.useState("register"),[u,m]=t.useState(null),[h,f]=t.useState(null),[w,v]=t.useState(!1),[y,_]=t.useState(!1),[j,E]=t.useState(!1),[N,k]=t.useState(null),C=t.useRef(null);t.useEffect(()=>{(async()=>{const{data:{session:e}}=await i.auth.getSession();if(m(e),e)await L(e.user.id);else{new URLSearchParams(window.location.search).get("ref")&&d("register")}document.body.classList.add("app-loaded")})();const{data:{subscription:e}}=i.auth.onAuthStateChange((e,t)=>{m(t),t?(L(t.user.id),E(!0)):(f(null),d("register"))});return()=>e.unsubscribe()},[]);const L=async e=>{const{data:t}=await i.from("profiles").select("*").eq("id",e).single();t&&f(t)};t.useEffect(()=>{if(!u)return;const e=i.channel(`profile-${u.user.id}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"profiles",filter:`id=eq.${u.user.id}`},e=>f(e.new)).subscribe();return()=>{e.unsubscribe()}},[u]);const S=t.useCallback(()=>{C.current&&clearTimeout(C.current),u&&(C.current=setTimeout(async()=>{await a(),r("Sessão expirada. Por favor, acesse sua conta novamente.")},18e5))},[u,a,r]);t.useEffect(()=>{const e=["mousedown","keydown","touchstart"],t=()=>S();return u&&(e.forEach(e=>window.addEventListener(e,t,{passive:!0})),S()),()=>{e.forEach(e=>window.removeEventListener(e,t)),C.current&&clearTimeout(C.current)}},[u,S]),t.useEffect(()=>{document.title=`${g[l]||"BP Commerce"} | BP`,"home"===l&&u&&E(!0)},[l,u]);const T=t.useCallback((e,t=null)=>{if(e===l)return;k(t),"home"!==e||sessionStorage.getItem("welcome_shown")||(_(!0),sessionStorage.setItem("welcome_shown","true"));["historico-conta","withdrawal-history","purchase-history","shop"].includes(e)?s(async()=>{await new Promise(e=>setTimeout(e,100)),d(e)}):d(e)},[l,s]);return e.jsxs("div",{className:"flex flex-col min-h-screen bg-[#F4F7F6] max-w-md mx-auto shadow-premium overflow-x-hidden relative",children:[e.jsxs("main",{className:"flex-1 overflow-y-auto no-scrollbar pb-20",children:[e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"flex h-screen items-center justify-center bg-[#F4F7F6]",children:e.jsx(n,{size:"w-10 h-10",color:"text-[#FA6400]"})}),children:(()=>{if(!u&&!["login","register"].includes(l))return e.jsx(b.Register,{onNavigate:T});const t={home:b.Home,shop:b.Shop,wallet:b.Wallet,profile:b.Profile,"add-bank":b.AddBank,deposit:b.Recharge,"purchase-history":b.PurchaseHistory,"change-password":b.ChangePassword,"historico-conta":b.AccountHistory,register:b.Register,retirada:b.Withdraw,login:b.Login,"security-verify":b.SecurityVerify,"ganhos-tarefas":b.Rewards,"gift-chest":b.GiftChest,"reward-claim":b.RewardClaim,"deposit-usdt":b.DepositUSDT,"deposit-usdt-history":b.DepositUSDTHistory,info:b.Info,"about-bp":b.AboutBP,"subordinate-list":b.SubordinateList,"deposit-history":b.WalletHistory,"withdrawal-history":b.WithdrawalHistory,"invite-page":b.InvitePage,"guia-indicacao":b.GuiaIndicacao}[l]||b.Home;return e.jsx(t,{onNavigate:T,profile:h,onLogout:()=>v(!0),balance:h?.balance||0,data:N})})()}),u&&e.jsx(o,{})]}),j&&u&&e.jsx(p,{onClose:()=>E(!1),onNavigate:T}),y&&u&&"home"===l&&e.jsx(c,{onClose:()=>_(!1)}),u&&["home","shop","profile","invite-page"].includes(l)&&e.jsx("nav",{className:"fixed bottom-4 left-4 right-4 max-w-[calc(448px-2rem)] mx-auto glass-panel rounded-[28px] py-3 px-6 z-40 shadow-glass",children:e.jsx("div",{className:"flex justify-between items-center bg-transparent",children:[{id:"home",icon:"home",label:"Início"},{id:"shop",icon:"oil_barrel",label:"Investir"},{id:"invite-page",icon:"groups",label:"Convidar"},{id:"profile",icon:"account_circle",label:"Meu BP"}].map(t=>e.jsxs("button",{onClick:()=>d(t.id),className:"flex flex-col items-center gap-1 transition-all duration-300 "+(l===t.id?"text-[#FA6400] scale-110":"text-gray-400 hover:text-gray-600"),children:[e.jsx("div",{className:"relative "+(l===t.id?'after:content-[""] after:absolute after:-bottom-1 after:left-1/2 after:-translate-x-1/2 after:w-1 after:h-1 after:bg-[#FA6400] after:rounded-full':""),children:e.jsx("span",{className:"material-symbols-outlined text-[26px]",style:{fontVariationSettings:l===t.id?"'FILL' 1":"'FILL' 0"},children:t.icon})}),e.jsx("span",{className:"text-[10px] font-bold "+(l===t.id?"opacity-100":"opacity-0 h-0 invisible"),children:t.label})]},t.id))})}),w&&e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-6 animate-in fade-in duration-300",children:[e.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-md",onClick:()=>v(!1)}),e.jsx("div",{className:"bg-white/95 backdrop-blur-xl w-full max-w-[320px] rounded-[40px] p-8 relative z-10 shadow-premium border border-white/50",children:e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("div",{className:"size-20 rounded-[32px] bg-primary/10 flex items-center justify-center mb-6",children:e.jsx("span",{className:"material-symbols-outlined text-primary text-4xl font-light",children:"logout"})}),e.jsx("h3",{className:"text-[22px] font-black text-[#0F1111] mb-2 tracking-tight",children:"Sair Agora?"}),e.jsx("p",{className:"text-gray-500 text-[14px] font-medium mb-8 leading-relaxed",children:"Sua sessão será encerrada com segurança."}),e.jsxs("div",{className:"flex flex-col gap-3 w-full",children:[e.jsx("button",{onClick:a,className:"w-full h-[54px] bg-primary text-white rounded-[20px] font-black text-[15px] uppercase tracking-wider shadow-premium",children:"Confirmar Saída"}),e.jsx("button",{onClick:()=>v(!1),className:"w-full h-[50px] text-gray-400 font-bold text-[12px] uppercase",children:"Cancelar"})]})]})})]})]})},y=t.createContext(void 0),_=({children:s})=>{const[r,a]=t.useState(!1),[i,n]=t.useState(null),[o,l]=t.useState(null),c=t.useCallback(async e=>new Promise((t,s)=>{let r=!1;const i=setTimeout(()=>{r||(n(()=>()=>{c(e).then(t).catch(s)}),l(()=>()=>{s(new Error("A operação falhou devido ao tempo limite de conexão."))}),a(!0))},15e3);e().then(e=>{r||(r=!0,clearTimeout(i),t(e))}).catch(e=>{r||(r=!0,clearTimeout(i),s(e))})}),[]);return e.jsxs(y.Provider,{value:{runWithTimeout:c},children:[s,e.jsx(u,{isOpen:r,onRetry:()=>{a(!1),i&&i()},onClose:()=>{a(!1),o&&o()}})]})},j=()=>{const e=t.useContext(y);if(!e)throw new Error("useNetwork must be used within a NetworkProvider");return e},E=document.getElementById("root");if(!E)throw new Error("Could not find root element");r.createRoot(E).render(e.jsx(s.StrictMode,{children:e.jsx(_,{children:e.jsx(h,{children:e.jsx(v,{})})})})),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{}).catch(e=>{})});export{n as S,j as a,i as s,x as u};
