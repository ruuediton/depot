import{r as e,j as s}from"./react-vendor-C8-TlGsU.js";import{s as a}from"./index-BaS3q1EV.js";import"./pdf-utils-DX6aKe5X.js";import"./vendor-D2WcXlqy.js";import"./supabase-DIRwJvxg.js";const t=["/carousel1.png","/carousel2.png","/carousel3.png"],r=[{label:"Geral",icon:"star",page:"historico-conta"},{label:"P2P",icon:"sync_alt",page:"p2p-transfer"},{label:"Retiradas",icon:"shopping_bag",page:"withdrawal-history"},{label:"Compras",icon:"account_balance",page:"purchase-history"},{label:"Recargas",icon:"handshake",page:"deposit-history"},{label:"Suporte",icon:"contact_support",page:"support"}],l=({onNavigate:l,profile:i})=>{const[n,o]=e.useState("Todas"),[c,d]=e.useState(0),[p,x]=e.useState(null),[m,g]=e.useState([]),[h,u]=e.useState([]),[b,f]=e.useState(!0);return e.useEffect(()=>{const e=setInterval(()=>{d(e=>(e+1)%t.length)},3500);return()=>clearInterval(e)},[]),e.useEffect(()=>{if(!i?.id)return;const e=async()=>{try{const{data:e}=await a.from("products").select("*").eq("status","active").order("price",{ascending:!0}).limit(1);e&&e.length>0&&x(e[0])}catch(e){}},s=async()=>{try{const{data:e,error:s}=await a.from("marketing").select("*").order("data",{ascending:!1}).limit(15);e&&!s&&g(e)}catch(e){}},t=async()=>{try{const{data:e}=await a.from("historico_compras").select("id, nome_produto, status").eq("user_id",i.id).order("data_compra",{ascending:!1}).limit(5);e&&u(e)}catch(e){}};i?.id&&(async()=>{f(!0);try{await Promise.all([e(),s(),t()])}catch(a){}finally{f(!1)}})()},[i?.id]),s.jsxs("div",{className:"flex flex-col pb-40 bg-white min-h-screen font-display antialiased relative",children:[s.jsx("section",{className:"relative w-full h-[250px] overflow-hidden",children:s.jsx("div",{className:"flex transition-transform duration-1000 ease-in-out h-full",style:{transform:`translateX(-${100*c}%)`},children:t.map((e,a)=>s.jsx("div",{className:"w-full h-full flex-shrink-0 bg-cover bg-center",style:{backgroundImage:`url("${e}")`}},a))})}),s.jsx("div",{className:"bg-[#00C853] py-2 overflow-hidden border-b border-gray-100 flex items-center h-8 shadow-lg relative z-20",children:s.jsxs("div",{className:"flex whitespace-nowrap animate-marquee",children:[s.jsx("span",{className:"text-[10px] font-bold text-[#0F1111] uppercase tracking-widest px-8",children:"• APROVEITE AS OFERTAS EXCLUSIVAS BP • GANHE 5% DE CASHBACK EM ELETRÔNICOS • SUPORTE 24H DISPONÍVEL •"}),s.jsx("span",{className:"text-[10px] font-bold text-[#0F1111] uppercase tracking-widest px-8",children:"• APROVEITE AS OFERTAS EXCLUSIVAS BP • GANHE 5% DE CASHBACK EM ELETRÔNICOS • SUPORTE 24H DISPONÍVEL •"})]})}),s.jsx("div",{className:"px-4 pt-6 mb-2",children:s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsxs("button",{onClick:()=>l("deposit"),className:"flex items-center justify-center gap-2 h-[44px] bg-[#00C853] text-white rounded-[4px] shadow-sm active:scale-95 transition-all group hover:brightness-105",children:[s.jsx("span",{className:"material-symbols-outlined text-[20px]",style:{fontVariationSettings:"'FILL' 1"},children:"add_card"}),s.jsx("span",{className:"text-[11px] font-black uppercase tracking-wide",children:"Recarga"})]}),s.jsxs("button",{onClick:()=>l("retirada"),className:"flex items-center justify-center gap-2 h-[44px] bg-white border border-gray-100 text-[#0F1111] rounded-[4px] shadow-sm active:scale-95 transition-all group hover:bg-gray-50",children:[s.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"payments"}),s.jsx("span",{className:"text-[11px] font-black uppercase tracking-wide",children:"Retirar"})]}),s.jsxs("button",{onClick:()=>l("tutorials"),className:"flex items-center justify-center gap-2 h-[44px] bg-white border border-gray-100 text-[#0F1111] rounded-[4px] shadow-sm active:scale-95 transition-all group hover:bg-gray-50",children:[s.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"help_outline"}),s.jsx("span",{className:"text-[11px] font-black uppercase tracking-wide",children:"Ajuda"})]})]})}),s.jsx("div",{className:"sticky top-0 z-40 bg-white border-b border-gray-100 py-3 mt-4",children:s.jsx("div",{className:"flex gap-2.5 px-4 overflow-x-auto no-scrollbar scroll-smooth",children:r.map(e=>s.jsxs("button",{onClick:()=>e.page?l(e.page):o(e.label),className:"flex h-9 shrink-0 items-center justify-center gap-x-2 rounded-lg px-4 transition-all active:scale-95 "+(n===e.label?"bg-gray-100 border border-gray-200":"bg-gray-50 border border-gray-100"),children:[s.jsx("span",{className:"material-symbols-outlined text-[18px] "+(n===e.label?"text-[#0F1111]":"text-[#565959]"),style:{fontVariationSettings:n===e.label?"'FILL' 1":"'FILL' 0"},children:e.icon}),s.jsx("p",{className:"text-[13px] "+(n===e.label?"text-[#0F1111] font-bold":"text-[#565959] font-medium"),children:e.label})]},e.label))})}),p&&s.jsxs("section",{className:"mt-6",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 pb-3",children:[s.jsx("h2",{className:"text-[18px] font-bold leading-tight text-[#0F1111]",children:"Ofertas do Dia"}),s.jsx("button",{onClick:()=>l("shop"),className:"text-[13px] font-bold text-brand-blue hover:underline",children:"Ver todas"})]}),s.jsx("div",{className:"px-4",children:s.jsx("div",{className:"relative w-full overflow-hidden rounded-2xl bg-gray-50 border border-gray-100 group",children:s.jsxs("div",{className:"p-5 flex flex-col sm:flex-row gap-5",children:[s.jsx("div",{className:"w-full sm:w-32 h-32 bg-white rounded-lg p-2 flex items-center justify-center border border-gray-100",children:s.jsx("img",{loading:"lazy",decoding:"async",src:p.image_url||"/placeholder_product.png",alt:"",className:"max-w-full max-h-full object-contain"})}),s.jsxs("div",{className:"flex-1 flex flex-col justify-between",children:[s.jsxs("div",{children:[s.jsx("span",{className:"px-2 py-0.5 bg-[#CC0C39] text-white text-[10px] font-bold rounded",children:"OFERTA MEGA"}),s.jsx("h3",{className:"text-[#0F1111] text-[16px] font-medium mt-2 leading-tight line-clamp-2",children:p.name}),s.jsxs("div",{className:"flex items-baseline gap-1 mt-2",children:[s.jsx("span",{className:"text-[13px] font-bold",children:"KZs"}),s.jsx("span",{className:"text-[26px] font-black leading-none",children:p.price.toLocaleString()})]})]}),s.jsx("button",{onClick:()=>l("shop"),className:"bg-[#00C853] hover:brightness-110 text-black text-[14px] font-medium py-2.5 rounded-full w-full mt-4 transition-all border border-[#00C853]",children:"Comprar"})]})]})})})]}),s.jsxs("section",{className:"mt-2 bg-white px-4 pt-4 pb-2 border-t border-gray-100",children:[s.jsx("h2",{className:"text-[16px] font-bold text-[#0F1111] mb-3 leading-tight",children:"Ofertas que podem te interessar"}),b?s.jsx("div",{className:"grid grid-cols-2 gap-3",children:[1,2,3,4].map(e=>s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"bg-gray-100 h-32 rounded-lg mb-2"}),s.jsx("div",{className:"h-3 bg-gray-100 rounded w-3/4 mb-1.5"}),s.jsx("div",{className:"h-3 bg-gray-100 rounded w-1/2"})]},e))}):m.slice(0,4).length>0?s.jsx("div",{className:"grid grid-cols-2 gap-3",children:m.slice(0,4).map((e,a)=>s.jsxs("div",{onClick:()=>l("shop"),className:"cursor-pointer group",children:[s.jsx("div",{className:"bg-[#F7F8F8] h-48 flex items-center justify-center border border-gray-100 rounded-lg mb-2 group-hover:bg-gray-100 transition-colors overflow-hidden",children:s.jsx("img",{loading:"lazy",decoding:"async",src:e.url_image,className:"w-full h-full object-contain opacity-90 group-hover:opacity-100 transition-opacity",alt:e.descricao_nome})}),s.jsxs("div",{className:"flex flex-wrap gap-1.5 items-center",children:[s.jsx("span",{className:"bg-[#CC0C39] text-white text-[11px] font-bold px-1.5 py-0.5 rounded-[2px]",children:"Oferta"}),s.jsx("span",{className:"text-[#0F1111] text-[12px] font-medium leading-tight line-clamp-2",children:e.descricao_nome})]})]},e.id))}):s.jsx("div",{className:"grid grid-cols-2 gap-3",children:[1,2].map((e,a)=>s.jsxs("div",{className:"cursor-pointer group opacity-50",children:[s.jsx("div",{className:"bg-[#F7F8F8] h-48 p-4 flex items-center justify-center border border-gray-100 rounded-lg mb-2",children:s.jsx("span",{className:"material-symbols-outlined text-gray-200 text-4xl",children:"image"})}),s.jsx("div",{className:"h-3 bg-gray-100 rounded w-3/4 mb-1.5"})]},a))}),s.jsx("button",{onClick:()=>l("shop"),className:"mt-4 mb-2 text-[13px] font-medium text-brand-blue hover:text-[#C7511F] hover:underline",children:"Ver todas as ofertas"})]}),s.jsx("div",{className:"h-2 bg-[#F0F2F2]"}),s.jsxs("section",{className:"bg-white px-4 pt-4 pb-2",children:[s.jsx("h2",{className:"text-[16px] font-bold text-[#0F1111] mb-3 leading-tight",children:"Continuar comprando"}),s.jsx("div",{className:"flex gap-3 overflow-x-auto no-scrollbar pb-2",children:m.slice(4,8).length>0?m.slice(4,8).map(e=>s.jsxs("div",{onClick:()=>l("shop"),className:"min-w-[150px] cursor-pointer group",children:[s.jsx("div",{className:"bg-[#F7F8F8] h-40 flex items-center justify-center border border-gray-100 rounded-lg mb-1.5 group-hover:bg-gray-100 transition-colors overflow-hidden",children:s.jsx("img",{loading:"lazy",decoding:"async",src:e.url_image,className:"w-full h-full object-contain opacity-90 group-hover:opacity-100 transition-opacity"})}),s.jsx("p",{className:"text-[13px] text-[#0F1111] font-medium leading-tight truncate",children:e.descricao_nome}),s.jsx("p",{className:"text-[11px] text-[#565959] truncate",children:"Visualizado recentemente"})]},e.id)):h.length>0?h.map(e=>s.jsxs("div",{onClick:()=>l("purchase-history"),className:"min-w-[150px] cursor-pointer group",children:[s.jsx("div",{className:"bg-[#F7F8F8] h-40 flex items-center justify-center border border-gray-100 rounded-lg mb-1.5 group-hover:bg-gray-100 transition-colors overflow-hidden",children:s.jsx("img",{loading:"lazy",decoding:"async",src:"/placeholder_product.png",className:"w-full h-full object-contain opacity-80 mix-blend-multiply"})}),s.jsx("p",{className:"text-[13px] text-[#0F1111] font-medium leading-tight truncate",children:e.nome_produto}),s.jsx("p",{className:"text-[11px] text-[#565959] truncate",children:"pendente"===e.status?"Processando":"Comprado recentemente"})]},e.id)):[1,2,3].map((e,a)=>s.jsxs("div",{onClick:()=>l("shop"),className:"min-w-[150px] cursor-pointer opacity-60",children:[s.jsx("div",{className:"bg-[#F7F8F8] h-40 p-3 flex items-center justify-center border border-gray-100 rounded-lg mb-1.5",children:s.jsx("span",{className:"material-symbols-outlined text-gray-300 text-3xl",children:"shopping_bag"})}),s.jsx("p",{className:"text-[13px] text-[#0F1111] font-medium leading-tight truncate",children:"Explorar ofertas"}),s.jsx("p",{className:"text-[11px] text-[#565959]",children:"Ver produtos"})]},a))}),s.jsx("button",{onClick:()=>l("purchase-history"),className:"mt-2 mb-2 text-[13px] font-medium text-[#00C853] hover:underline",children:"Visualize seu histórico"})]}),s.jsx("div",{className:"h-2 bg-[#F0F2F2]"}),s.jsxs("section",{className:"bg-white px-4 pt-4 pb-6",children:[s.jsx("h2",{className:"text-[16px] font-bold text-[#0F1111] mb-3 leading-tight",children:"Conquiste os melhores PCs e acessórios"}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:m.slice(8,12).length>0?m.slice(8,12).map(e=>s.jsxs("div",{onClick:()=>l("shop"),className:"cursor-pointer group",children:[s.jsx("div",{className:"bg-[#F7F8F8] h-40 flex items-center justify-center border border-gray-100 rounded-lg mb-1.5 group-hover:bg-gray-100 transition-colors overflow-hidden",children:s.jsx("img",{loading:"lazy",decoding:"async",src:e.url_image,className:"w-full h-full object-contain opacity-90 group-hover:opacity-100 transition-opacity"})}),s.jsx("p",{className:"text-[12px] text-[#0F1111] font-medium truncate",children:e.descricao_nome})]},e.id)):[{title:"Desktops",img:"/placeholder_product.png"},{title:"Laptops",img:"/placeholder_product.png"},{title:"Discos rígidos",img:"/placeholder_product.png"},{title:"PC e acessórios",img:"/placeholder_product.png"}].map((e,a)=>s.jsxs("div",{onClick:()=>l("shop"),className:"cursor-pointer",children:[s.jsx("div",{className:"bg-[#F7F8F8] h-40 p-3 flex items-center justify-center border border-gray-100 rounded-lg mb-1.5",children:s.jsx("img",{loading:"lazy",decoding:"async",src:e.img,className:"max-h-full max-w-full object-contain opacity-80"})}),s.jsx("p",{className:"text-[12px] text-[#0F1111] font-medium",children:e.title})]},a))}),s.jsx("button",{onClick:()=>l("shop"),className:"mt-4 text-[13px] font-medium text-[#00C853] hover:underline",children:"Ver mais"})]}),s.jsx("style",{children:"\n        @keyframes marquee { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }\n        .animate-marquee { animation: marquee 25s linear infinite; }\n      "})]})};export{l as default};
