import{r as e,j as a}from"./react-vendor-C8-TlGsU.js";import{s as t,S as s}from"./index-BaS3q1EV.js";import"./pdf-utils-DX6aKe5X.js";import"./vendor-D2WcXlqy.js";import"./supabase-DIRwJvxg.js";const l=({onNavigate:l,showToast:n})=>{const[c,i]=e.useState(null),[r,o]=e.useState(!0);e.useEffect(()=>{d()},[]);const d=async()=>{o(!0);try{const{data:{user:e}}=await t.auth.getUser();if(!e)return void l("login");const{data:a,error:s}=await t.rpc("get_my_bank_accounts");s||a&&a.length>0&&i(a[0])}catch(e){}finally{o(!1)}};return r||c?a.jsx("div",{className:"bg-background-dark font-display text-black antialiased min-h-screen flex flex-col selection:bg-primary selection:text-black",children:a.jsxs("div",{className:"relative flex h-full min-h-screen w-full flex-col overflow-x-hidden pb-4",children:[a.jsx("header",{className:"header-gradient-mixture pb-16 pt-4 px-4",children:a.jsxs("div",{className:"relative z-10 flex items-center justify-between",children:[a.jsx("button",{onClick:()=>l("profile"),className:"w-11 h-11 flex items-center justify-center rounded-full bg-white/20 backdrop-blur-md transition-all active:scale-90",children:a.jsx("span",{className:"material-symbols-outlined text-white text-[28px]",children:"arrow_back"})}),a.jsx("h1",{className:"text-xl font-black text-white tracking-tight",children:"Cartão Bancário"}),a.jsx("button",{onClick:async()=>{if(c&&confirm("Tem certeza que deseja remover esta conta bancária?")){const{error:e}=await t.from("bancos_clientes").delete().eq("id",c.id);e?n?.("Erro ao remover conta: "+e.message,"error"):(n?.("Conta bancária removida com sucesso.","success"),l("profile"))}},className:"w-11 h-11 flex items-center justify-center rounded-full bg-white/20 backdrop-blur-md transition-all active:scale-90 text-white",children:a.jsx("span",{className:"material-symbols-outlined text-[24px]",children:"delete"})})]})}),a.jsx("main",{className:"flex flex-col px-6 mt-6",children:r?a.jsx("div",{className:"w-full aspect-[1.586/1] bg-surface-dark rounded-[20px] animate-pulse flex items-center justify-center",children:a.jsx(s,{size:"w-8 h-8"})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:`relative w-full aspect-[1.586/1] rounded-[20px] overflow-hidden transition-transform active:scale-[0.99] duration-300 bg-gradient-to-br ${(e=>{if(!e)return"from-[#2d2a1e] via-[#3d3a2e] to-[#1d1a0e]";const a=e.toUpperCase();return a.includes("BAI")?"from-[#002e5d] via-[#003d7c] to-[#001c3d]":a.includes("BFA")?"from-[#cca300] via-[#e6b800] to-[#997a00]":a.includes("BIC")?"from-[#d00000] via-[#ff0000] to-[#9a0000]":a.includes("ATLÂNTICO")||a.includes("ATL")?"from-[#0070c0] via-[#008ae6] to-[#005691]":a.includes("SOL")?"from-[#15803d] via-[#16a34a] to-[#14532d]":a.includes("BNI")?"from-[#4b0082] via-[#6a0dad] to-[#310055]":"from-[#334155] via-[#475569] to-[#1e293b]"})(c?.nome_banco)}`,children:[a.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none",style:{backgroundImage:"radial-gradient(circle at 2px 2px, rgba(255,255,255,0.15) 1px, transparent 0)",backgroundSize:"10px 10px"}}),a.jsx("div",{className:"absolute -top-[100%] -left-[100%] w-[300%] h-[300%] bg-gradient-to-tr from-transparent via-white/10 to-transparent rotate-[25deg] pointer-events-none"}),a.jsxs("div",{className:"relative h-full flex flex-col p-5 z-10",children:[a.jsxs("div",{className:"flex justify-between items-start mb-1",children:[a.jsxs("div",{className:"flex items-center gap-2.5",children:[a.jsx("div",{className:"w-9 h-9 bg-white rounded-lg flex items-center justify-center p-1",children:a.jsx("span",{className:"material-symbols-outlined text-black text-2xl",children:"account_balance"})}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-black text-base font-black tracking-tight leading-none uppercase",children:c?.nome_banco}),a.jsx("span",{className:"text-[9px] text-black/70 font-bold uppercase tracking-widest mt-0.5",children:"CONTA CORRENTE"})]})]}),a.jsx("div",{className:"w-10 h-7 rounded bg-white/10 flex items-center justify-center border border-white/10",children:a.jsxs("div",{className:"flex gap-1",children:[a.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-red-500/80"}),a.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-orange-500/80 -ml-1.5"})]})})]}),a.jsxs("div",{className:"flex items-center gap-3 mt-3",children:[a.jsx("div",{className:"w-10 h-8 rounded-md bg-gradient-to-br from-[#d4af37] via-[#fcf6ba] to-[#aa771c] relative overflow-hidden flex items-center justify-center ring-1 ring-black/5",children:a.jsx("div",{className:"absolute inset-0 grid grid-cols-3 grid-rows-2 gap-px p-0.5 opacity-30",children:[...Array(6)].map((e,t)=>a.jsx("div",{className:"border border-black/20 rounded-sm"},t))})}),a.jsx("span",{className:"material-symbols-outlined text-black/30 text-xl rotate-90",children:"contactless"})]}),a.jsxs("div",{className:"mt-auto mb-2",children:[a.jsx("p",{className:"text-[7px] text-black/60 font-black uppercase tracking-[0.3em] mb-1",children:"IBAN"}),a.jsx("p",{className:"text-[16px] font-mono font-bold text-black tracking-[0.08em] select-all leading-none",children:(e=>{if(!e)return"";const a=e.replace(/\s/g,"");return a.length<13?e:`${a.substring(0,8)}*****${a.substring(a.length-9)}`})(c?.iban)})]}),a.jsxs("div",{className:"flex justify-between items-end",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("p",{className:"text-[7px] text-black/60 font-black uppercase tracking-[0.3em] mb-0.5",children:"Titular"}),a.jsx("p",{className:"text-[13px] font-bold text-black tracking-wide uppercase leading-none",children:c?.nome_completo})]}),a.jsx("span",{className:"text-[8px] text-black/40 font-black tracking-widest italic",children:"PREMIUM PLATINUM"})]})]})]}),a.jsxs("div",{className:"mt-10 flex flex-col gap-4 px-2",children:[a.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(c?.numero_iban||""),n?.("IBAN copiado!","success")},className:"flex items-center justify-center gap-3 w-full h-[45px] rounded-2xl bg-primary text-white font-black text-base active:scale-[0.98] transition-all",children:[a.jsx("span",{className:"material-symbols-outlined",children:"content_copy"}),a.jsx("span",{children:"COPIAR IBAN"})]}),a.jsx("p",{className:"text-center text-[10px] text-gray-500 font-bold uppercase tracking-[0.2em] leading-relaxed mt-4 px-6 opacity-60",children:"ESTE CARTÃO É PROTEGIDO POR PROTOCOLOS DE SEGURANÇA BANCÁRIA DA BP AO"})]})]})})]})}):a.jsxs("div",{className:"bg-background-dark font-display text-black antialiased min-h-screen flex flex-col p-6 items-center justify-center text-center",children:[a.jsx("span",{className:"material-symbols-outlined text-gray-700 text-6xl mb-4",children:"no_accounts"}),a.jsx("h2",{className:"text-xl font-bold mb-2",children:"Nenhuma conta vinculada"}),a.jsx("p",{className:"text-gray-500 text-sm mb-8",children:"Você ainda não adicionou um cartão bancário à sua conta BP."}),a.jsx("button",{onClick:()=>l("add-bank"),className:"w-full h-[45px] bg-primary text-white font-black rounded-2xl",children:"ADICIONAR CARTÃO"})]})};export{l as default};
