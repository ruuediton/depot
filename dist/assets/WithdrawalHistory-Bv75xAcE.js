import{r as e,j as t}from"./react-vendor-C8-TlGsU.js";import{s,S as a}from"./index-BaS3q1EV.js";import"./pdf-utils-DX6aKe5X.js";import"./vendor-D2WcXlqy.js";import"./supabase-DIRwJvxg.js";const r=({onNavigate:r})=>{const[l,i]=e.useState([]),[c,n]=e.useState(!0);e.useEffect(()=>{d()},[]);const d=async()=>{n(!0);try{const{data:{user:e}}=await s.auth.getUser();if(!e)return;const{data:t,error:a}=await s.from("retirada_clientes").select("*").eq("user_id",e.id).order("data_de_criacao",{ascending:!1});if(a)throw a;i(t||[])}catch(e){}finally{n(!1)}},o=e=>{switch(e.toLowerCase()){case"revisão":case"pendente":return"bg-blue-50 text-blue-600 border-blue-100";case"aprovado":case"sucedido":case"concluido":case"completado":case"processado":return"bg-green-50 text-green-700 border-green-100";case"rejeitada":case"rejeitado":case"cancelado":case"falhou":return"bg-orange-50 text-orange-600 border-orange-100";default:return"bg-gray-50 text-gray-600 border-gray-100"}},x=e=>e.toLocaleString("pt-AO",{style:"currency",currency:"AOA"}).replace("AOA","Kz"),m=e=>{if(!e)return"";const t=e.replace(/\s/g,"");return t.length<13?e:`${t.substring(0,8)}*****${t.substring(t.length-9)}`};return t.jsxs("div",{className:"bg-white min-h-screen font-sans text-[#0F1111] pb-10",children:[t.jsxs("header",{className:"relative header-gradient-mixture pb-16 pt-4 px-4 overflow-hidden",children:[t.jsx("div",{className:"absolute top-[-20%] right-[-10%] w-64 h-64 bg-white/10 rounded-full blur-3xl"}),t.jsx("div",{className:"absolute bottom-[-20%] left-[-10%] w-48 h-48 bg-white/5 rounded-full blur-2xl"}),t.jsxs("div",{className:"relative z-10 flex items-center justify-between",children:[t.jsx("button",{onClick:()=>r("retirada"),className:"w-11 h-11 flex items-center justify-center rounded-full bg-white/20 backdrop-blur-md transition-all active:scale-90",children:t.jsx("span",{className:"material-symbols-outlined text-white text-[28px]",children:"arrow_back"})}),t.jsx("h1",{className:"text-xl font-black text-white tracking-tight",children:"Retiradas"}),t.jsx("div",{className:"w-11"})]})]}),t.jsx("main",{className:"p-4 space-y-4",children:c?t.jsxs("div",{className:"flex flex-col items-center justify-center py-20 gap-3",children:[t.jsx(a,{size:"w-8 h-8",color:"text-[#00C853]"}),t.jsx("p",{className:"text-[13px] text-[#565959] font-medium",children:"Carregando registros..."})]}):l.length>0?l.map(e=>t.jsxs("div",{className:"bg-white border border-[#D5D9D9] rounded-xl p-4 shadow-sm space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"size-10 rounded-lg bg-gray-50 flex items-center justify-center border border-gray-100",children:t.jsx("span",{className:"material-symbols-outlined text-[#565959]",children:"payments"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-bold text-[14px] leading-tight",children:e.nome_do_banco}),t.jsx("p",{className:"text-[11px] text-[#565959]",children:new Date(e.data_de_criacao).toLocaleDateString("pt-AO")})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"font-bold text-[15px]",children:x(e.valor_solicitado)}),t.jsx("span",{className:`inline-block text-[10px] font-bold px-2 py-0.5 rounded-full border ${o(e.estado_da_retirada)}`,children:e.estado_da_retirada})]})]}),t.jsxs("div",{className:"pt-3 border-t border-gray-50 flex justify-between items-end gap-4",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("span",{className:"text-[10px] text-[#565959] block mb-0.5",children:"IBAN de Destino"}),t.jsx("p",{className:"text-[12px] font-mono text-[#0F1111] truncate",children:m(e.iban)})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("span",{className:"text-[10px] text-[#565959] block mb-0.5",children:"Taxa (12%)"}),t.jsxs("p",{className:"text-[12px] font-bold text-red-500",children:["-",x(e.taxa_12_porcento)]})]})]}),t.jsxs("div",{className:"bg-gray-50 p-2.5 rounded-lg flex justify-between items-center",children:[t.jsx("span",{className:"text-[11px] font-bold text-[#565959]",children:"Líquido a receber:"}),t.jsx("span",{className:"text-[13px] font-bold text-green-600",children:x(e.valor_solicitado-e.taxa_12_porcento)})]})]},e.id)):t.jsxs("div",{className:"flex flex-col items-center justify-center py-40 text-center px-10",children:[t.jsx("div",{className:"size-20 bg-gray-50 rounded-full flex items-center justify-center mb-4",children:t.jsx("span",{className:"material-symbols-outlined text-[40px] text-gray-300",children:"receipt_long"})}),t.jsx("h3",{className:"font-bold text-[#0F1111] text-[16px]",children:"Nenhum registro"}),t.jsx("p",{className:"text-[13px] text-[#565959] mt-1",children:"Suas retiradas aparecerão aqui assim que você as solicitar."}),t.jsx("button",{onClick:()=>r("retirada"),className:"mt-6 px-6 py-2 bg-[#00C853] border border-[#00C853] rounded-lg text-white text-[13px] font-medium shadow-sm transition-all active:scale-95",children:"Retirar Kwanza Agora"})]})})]})};export{r as default};
