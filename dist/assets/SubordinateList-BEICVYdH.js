import{r as e,j as t}from"./react-vendor-0Am1niUb.js";import{S as s,s as a}from"./index-BonT0QVc.js";import"./supabase-BsxaddrC.js";import"./vendor-DtN75V_I.js";const r=({onNavigate:r})=>{const[l,i]=e.useState(!0),[d,n]=e.useState([]),[c,x]=e.useState(1);e.useEffect(()=>{(async()=>{i(!0);try{const{data:{user:e}}=await a.auth.getUser();if(!e)return void r("login");const{data:t,error:s}=await a.rpc("get_my_team");if(s)throw s;t&&n(t)}catch(e){}finally{i(!1)}})()},[]);const o=d.filter(e=>e.level===c);return t.jsxs("div",{className:"bg-white font-sans text-black antialiased min-h-screen flex flex-col",children:[t.jsx("header",{className:"header-gradient-mixture pb-16 pt-4 px-4",children:t.jsxs("div",{className:"relative z-10 flex items-center justify-between",children:[t.jsx("button",{onClick:()=>r("invite"),className:"w-11 h-11 flex items-center justify-center rounded-full bg-white/20 backdrop-blur-md transition-all active:scale-90",children:t.jsx("span",{className:"material-symbols-outlined text-white text-[28px]",children:"arrow_back"})}),t.jsx("h1",{className:"text-xl font-black text-white tracking-tight",children:"Minha Equipe"}),t.jsx("div",{className:"w-11"})]})}),t.jsx("div",{className:"flex gap-2 p-4 pb-0 overflow-x-auto no-scrollbar",children:[1,2,3].map(e=>t.jsxs("button",{onClick:()=>x(e),className:"px-6 h-11 rounded-2xl font-black text-[13px] uppercase tracking-wider transition-all flex-1 whitespace-nowrap "+(c===e?"bg-[#00C853] text-white border border-[#00C853]":"bg-[#F8FAF8] text-gray-400 border border-gray-50"),children:["Nível ",e]},e))}),t.jsx("main",{className:"flex-1 overflow-y-auto px-4 pt-6 pb-32 no-scrollbar",children:l?t.jsxs("div",{className:"flex flex-col items-center justify-center py-20 gap-4",children:[t.jsx(s,{size:"w-10 h-10",color:"text-[#00C853]"}),t.jsx("p",{className:"text-gray-400 font-bold uppercase tracking-widest text-[10px]",children:"Verificando rede..."})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"bg-white p-6 rounded-[32px] border border-gray-50 mb-8 shadow-sm",children:[t.jsxs("div",{className:"flex justify-between items-start mb-6",children:[t.jsx("div",{className:"size-12 rounded-2xl bg-gray-50 flex items-center justify-center text-[#00C853] border border-gray-100",children:t.jsx("span",{className:"material-symbols-outlined text-[28px]",children:"account_tree"})}),t.jsxs("div",{className:"px-3 py-1 bg-green-50 text-[#00C853] rounded-full border border-green-100 text-[10px] font-black uppercase tracking-widest",children:["NÍVEL ",c]})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-[11px] text-gray-400 font-bold uppercase tracking-widest",children:"Membros na Camada"}),t.jsx("p",{className:"text-4xl font-black text-[#111]",children:o.length})]})]}),t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsx("h3",{className:"text-[11px] font-black text-gray-400 uppercase tracking-[0.2em] px-2 mb-2",children:"Detalhes da Rede"}),o.length>0?o.map(e=>t.jsxs("div",{className:"bg-white p-4 rounded-[24px] border border-gray-50 flex items-center gap-4 shadow-sm",children:[t.jsx("div",{className:"size-12 rounded-full bg-[#F8FAF8] flex items-center justify-center text-gray-400 border border-gray-50",children:t.jsx("span",{className:"material-symbols-outlined",children:"person"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-[#111] font-bold text-base tracking-tight",children:e.phone.replace(/(\d{3})(\d{3})(\d{3})/,"+$1 *** $3")}),t.jsx("div",{className:"flex items-center gap-2 mt-0.5",children:t.jsxs("span",{className:"text-gray-400 text-[10px] font-bold",children:["Desde ",new Date(e.created_at).toLocaleDateString()]})})]}),t.jsx("div",{className:"text-right",children:t.jsx("div",{className:"px-2 py-1 rounded-md text-[9px] font-black uppercase tracking-tighter "+(e.reloaded_amount>=3e3?"bg-green-50 text-[#00C853] border border-green-100":"bg-red-50 text-red-400 border border-red-100"),children:e.reloaded_amount>=3e3?"INVESTIDO":"SEM INVEST."})})]},e.id)):t.jsxs("div",{className:"flex flex-col items-center justify-center py-20 bg-gray-50/30 rounded-[32px] border border-dashed border-gray-100",children:[t.jsx("div",{className:"size-16 rounded-full bg-white flex items-center justify-center mb-4 border border-gray-100",children:t.jsx("span",{className:"material-symbols-outlined text-gray-200 text-4xl",children:"diversity_3"})}),t.jsx("p",{className:"font-bold text-gray-300 text-sm",children:"Camada vazia"}),t.jsxs("p",{className:"text-[11px] text-gray-400 px-10 text-center mt-1 italic",children:["Convide mais pessoas para expandir sua rede de nível ",c,"."]})]})]})]})})]})};export{r as default};
