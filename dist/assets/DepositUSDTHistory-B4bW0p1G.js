import{r as e,j as t}from"./react-vendor-0Am1niUb.js";import{u as s,s as a,S as r}from"./index-BonT0QVc.js";import"./supabase-BsxaddrC.js";import"./vendor-DtN75V_I.js";const i=({onNavigate:i})=>{const[c,l]=e.useState([]),[n,d]=e.useState(!0),{showToast:o}=s();e.useEffect(()=>{x()},[]);const x=async()=>{d(!0);try{const{data:{user:e}}=await a.auth.getUser();if(!e)throw new Error("UsuÃ¡rio nÃ£o autenticado");const{data:t,error:s}=await a.from("depositos_usdt").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(s)throw s;l(t||[])}catch(e){o?.(e.message||"Erro ao carregar histÃ³rico","error")}finally{d(!1)}},m=e=>{switch(e?.toLowerCase()){case"sucedido":case"completo":case"aprovado":case"sucesso":return"text-green-600 bg-green-50";case"pendente":case"processando":return"text-blue-600 bg-blue-50";case"falha":case"falhou":case"rejeitado":case"rejeitada":return"text-red-600 bg-red-50";default:return"text-gray-500 bg-gray-50"}};return t.jsxs("div",{className:"flex flex-col min-h-screen bg-white text-black font-sans antialiased",children:[t.jsx("header",{className:"header-gradient-mixture pb-16 pt-4 px-4",children:t.jsxs("div",{className:"relative z-10 flex items-center justify-between",children:[t.jsx("button",{onClick:()=>i("deposit-usdt"),className:"w-11 h-11 flex items-center justify-center rounded-full bg-white/20 backdrop-blur-md transition-all active:scale-90",children:t.jsx("span",{className:"material-symbols-outlined text-white text-[28px]",children:"arrow_back"})}),t.jsx("h1",{className:"text-xl font-black text-white tracking-tight",children:"HistÃ³rico USDT"}),t.jsx("div",{className:"w-11"})]})}),t.jsx("main",{className:"flex-1 px-4 pt-6 pb-24 relative z-20 overflow-y-auto",children:n?t.jsx("div",{className:"flex justify-center items-center py-20",children:t.jsx(r,{size:"w-10 h-10",color:"text-[#00C853]"})}):0===c.length?t.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-400",children:[t.jsx("span",{className:"material-symbols-outlined text-6xl mb-4 opacity-20",children:"receipt_long"}),t.jsx("p",{className:"text-sm font-medium",children:"Nenhum registro encontrado"})]}):t.jsx("div",{className:"space-y-4",children:c.map(e=>t.jsxs("div",{className:"bg-white border border-gray-100 rounded-[24px] p-5 shadow-sm shadow-gray-200/50",children:[t.jsxs("div",{className:"flex justify-between items-start mb-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest mb-1",children:"Valor Depositado"}),t.jsxs("div",{className:"flex items-baseline gap-1",children:[t.jsx("span",{className:"text-xl font-black text-[#111]",children:Number(e.amount_usdt).toFixed(2)}),t.jsx("span",{className:"text-[10px] font-bold text-gray-500",children:"USDT"})]})]}),t.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-wider ${m(e.status)}`,children:e.status||"Pendente"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-gray-50",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Data"}),t.jsxs("p",{className:"text-[12px] font-bold text-gray-700",children:[new Date(e.created_at).toLocaleDateString("pt-AO")," ",new Date(e.created_at).toLocaleTimeString("pt-AO",{hour:"2-digit",minute:"2-digit"})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Valor em Kz"}),t.jsxs("p",{className:"text-[12px] font-bold text-[#00C853]",children:[Number(e.amount_kz).toLocaleString("pt-AO")," Kz"]})]})]}),e.tx_hash&&t.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-50",children:[t.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1",children:"ID da TransaÃ§Ã£o"}),t.jsx("p",{className:"text-[11px] font-mono text-gray-500 break-all bg-gray-50 p-2 rounded-lg border border-gray-100 italic",children:e.tx_hash})]})]},e.id))})})]})};export{i as default};
